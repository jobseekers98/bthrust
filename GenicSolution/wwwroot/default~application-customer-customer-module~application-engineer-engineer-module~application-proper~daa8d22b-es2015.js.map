{"version":3,"sources":["./src/app/generic-utils/Ticket-Icon-Attachment/TicketIconAttachment.module.ts","./src/app/services/closerDetails.module.ts","./src/app/generic-utils/Ticket-Icon-Attachment/TicketIconAttachment.component.ts","./src/app/services/serviceform.service.ts"],"names":[],"mappings":"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","file":"default~application-customer-customer-module~application-engineer-engineer-module~application-proper~daa8d22b-es2015.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { TicketIconAttachmentComponent } from './TicketIconAttachment.component';\r\n\r\n@NgModule({\r\n  imports: [CommonModule, FormsModule],\r\n  declarations: [TicketIconAttachmentComponent],\r\n  exports: [TicketIconAttachmentComponent]\r\n})\r\nexport class TicketIconAttachmentModule {}\r\n","export class CloserDetails {\n    CloserID: string;\n    CloserPrefix: string;\n    TicketId: string;\n    TicketNo: string;\n    TimerID: number;\n    EngineerId: string;\n    EnginnerName: string;\n    CustomerSignature: string;\n    EngineerSignature: string;\n    StartDate: Date;\n    EndDate: Date;\n    StartTime: string;\n    EndTime: string;\n    TotalDuration: string;\n    Remarks: string;\n    TicketFlag: string;\n    IsReady: boolean;\n    PaymentCollected: boolean;\n    CloserAmount?: number;\n    CloserGSTAmount?: number;\n    CloserTotalAmount?: number;\n    PaymentMode?: string;\n    AmountPaid?: number;\n    PaymentRemarks?: string;\n    NameOfSignatory?:string;\n    ICNo?:string;\n    EngineerName?: string;\n    ServiceBy?: string;\n    attentionName?: string;\n    attentionEmail?: string;\n    otherAttentionName?: string;\n    IsTested: boolean;\n    CheckedBy?: string;\n    WithCustomerSignature: boolean;\n    CloserAttachmentList: CloserAttachment[];\n}\nexport class CloserAttachment {\n    CAID: number;\n    CloserID: string;\n    AttachmentExtenstion: string;\n    AttachmentFile: string;\n    AttachmentSize: number;\n\tAttachmentExtenstionAfter: string;\n    AttachmentFileAfter: string;\n    AttachmentSizeAfter: number;\n    Remarks: string;\n    CloserAttachmentAduioList: CloserAttachmentAduio[];\n}\nexport class CloserAttachmentAduio {\n    AttachmentAudioId: string;\n    CloserID?: string;\n    CAID: number;\n    AttachmentAudioName: string;\n    AudioAttachment: string;\n    AudiotSize: number;\n    CreatedDate: Date;\n}\n","import { Component, Input, OnInit } from '@angular/core';\r\nimport { environment } from 'src/environments/environment';\r\n@Component({\r\n  selector: 'generic-ticket-icon-attachment',\r\n  template: `\r\n   \t<div class=\"col-md-12\" *ngIf=\"Status === 1\">\r\n        <img title=\"{{Name}}\" style=\"width:100px;\" src=\"{{localPrependUrl}}/assets/svg/{{ext}}.svg\">\r\n    </div>\r\n    <div class=\"col-md-12\" *ngIf=\"Status === 2\">\r\n        <div [ngSwitch]=\"ext\">\r\n              <div *ngSwitchCase=\"'png'\"><img title=\"{{Name}}\" style=\"width:100px;\" src=\"{{Path}}\"></div>\r\n              <div *ngSwitchCase=\"'jpg'\"><img title=\"{{Name}}\" style=\"width:100px;\" src=\"{{Path}}\"></div>\r\n              <div *ngSwitchCase=\"'jpeg'\"><img title=\"{{Name}}\" style=\"width:100px;\" src=\"{{Path}}\"></div>\r\n              <div *ngSwitchDefault><img title=\"{{Name}}\" style=\"width:100px;\" src=\"{{localPrependUrl}}/assets/svg/{{ext}}.svg\"></div>\r\n        </div>\r\n    </div>\r\n  `\r\n})\r\nexport class TicketIconAttachmentComponent implements OnInit {\r\n  @Input() Name: string;\r\n  @Input() Path: string;\r\n  @Input() Status: number;\r\n  localPrependUrl: string;\r\n  ext: string;\r\n  constructor() {\r\n    this.localPrependUrl =  environment.apiUrl;\r\n   }\r\n   ngOnInit() { \r\n         if(this.Name?.length > 0) {\r\n            this.ext = this.Name.toLowerCase().split('.').pop();\r\n            } else { this.ext = 'noimage'; }\r\n    }\r\n}\r\n","import { Injectable } from '@angular/core';\nimport { Ticket } from './ticket.module';\nimport { FSMServiceForm, TicketWiseServiceForm } from './serviceform.module';\nimport { environment } from 'src/environments/environment';\nimport { HttpClient } from '@angular/common/http';\nimport { AuthenticationService } from 'src/app/services/authentication.service';\nimport { Login } from 'src/app/services/login.mudule';\nimport { CloserDetails } from './closerDetails.module';\nimport { map } from 'rxjs/operators';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ServiceformService {\n  currentUser: Login;\n  TicketForData: Ticket;\n  Ticketlist: Ticket[];\n  TicketWiseServiceFormList: TicketWiseServiceForm[];\n  TicketWiseServiceFormData: TicketWiseServiceForm;\n  tempTicketwiseServiceFormList: TicketWiseServiceForm[];\n  CloserDetailsData: CloserDetails;\n  FSMServiceFormData: FSMServiceForm;\n  constructor(private http: HttpClient, public loginservice: AuthenticationService) {\n    this.TicketWiseServiceFormData = {\n      TicketServiceID: 0,\n      MasterServiceFormID: 0,\n      ServicePrefix: '',\n      ServiceFormName: '',\n      Description: '',\n      TicketId: '00000000-0000-0000-0000-000000000000',\n      TicketNo: '',\n      IsActive: false,\n      IsPreview: true,\n      ServiceFormSequenceId: 0,\n      ServiceDate: new Date(),\n      TicketDate: new Date(),\n      EngineerId: '00000000-0000-0000-0000-000000000000',\n      EngineerName: '',\n      IsHTML: false,\n      ClientformIdOnSave: 0,\n      CloserId: '00000000-0000-0000-0000-000000000000'\n    };\n    \n    this.CloserDetailsData = new CloserDetails();\n    this.SetBlankServiceFormValue();\n  }\n  SetBlankServiceFormValue() {\n    this.FSMServiceFormData = {\n      Id: 0,\n      SelectOne: 'Service Call',\n      MaintenanceContract: 'No',\n      Request: '',\n      Diagnose: '',\n      JobDone: '',\n      Remark: '',\n      ServiceTicketStatus: 'Pending',\n      CloserId:''\n    };\n  }\n  removeAssignedServiceForm(token: string, Id: string) {\n    return this.http.delete(environment.apiUrl + '/api/Services/DeleteAssignedServiceForm/' + token + '/' + Id).pipe(map(response => response));\n  }\n  asignServiceformToTicket(token: string) {\n    return this.http.post(environment.apiUrl + '/api/Services/asignServiceformToTicket/' + token, this.tempTicketwiseServiceFormList).pipe(map(response => response));\n  }\n  getAssignedServiceFormListByTicket(token: string, TicketId: string) {\n    return this.http.get(environment.apiUrl + '/api/Services/GetAssignedServiceFormByTicket/' + token + '/' + TicketId).pipe(map(response => response));\n  }\n  // GET: Closer Details form cliend service form\n  getCloserDetailsFormServiceForm(TicketId: string) {\n    this.http.get(environment.apiUrl + '/api/Services/getCloserDetailsFormServiceForm/' + TicketId).toPromise().then(res => this.CloserDetailsData = res as CloserDetails);\n  }\n  downoadServiceFormPDF(CloserId) {\n    return this.http.get(environment.apiUrl + '/api/Services/getServiceFormPDF/' + CloserId).pipe(map(Response => {return Response;}));\n  }\n  // downloadFileXHR(filePath, fileName) {\n  //   var xhh = new XMLHttpRequest()\n  //   xhh.setRequestHeader('Accept', '*/*');\n  //   xhh.open('get', filePath)\n  //   xhh.responseType = 'blob'\n  //   xhh.onreadystatechange = function () {\n  //     if (xhh.readyState === 4 && xhh.status === 200) {\n  //       var blob = new Blob([xhh.response])\n  //       var csvUrl = URL.createObjectURL(blob)\n  //       var link = document.createElement('a')\n  //       link.href = csvUrl\n  //       link.download = fileName\n  //       link.click()\n  //     }\n  //   }\n  //   xhh.send()\n  // }\n\n  // //#region Hypercom Service Form\n  // postServiceformData(token: string, TicketId: string, EngineerId: string, ServiceFormSequenceId: number) {\n  //   return this.http.post(environment.apiUrl + '/api/Services/postServiceForm/' + token + '/'\n  //   + TicketId + '/' + EngineerId + '/' + ServiceFormSequenceId, this.formDataList, {\n  //     headers: new HttpHeaders({ 'Content-Type': 'application/json'}),\n  //     observe: 'response' }).pipe();\n  // }\n  // viewServiceFormDetails(MasterServiceFormId: number, ServiceFormSequenceId: number, TicketId: string, EngineerId: string) {\n  //   return this.http.get(environment.apiUrl + '/api/Services/viewServiceFormDetails/' + MasterServiceFormId + '/' + ServiceFormSequenceId + '/' + TicketId + '/' + EngineerId).pipe(map(Response => Response));\n  // }\n  // getServiceForm(id: number) {\n  //   return this.http.get(environment.apiUrl + '/api/Services/getServiceForm/' + id).pipe(map(Response => Response));\n  // }\n  // getMasterServiceformList(token: string) {\n  //   return this.http.get(environment.apiUrl + '/api/Services/GetMasterServiceForm/' + token).pipe(map(Response => Response));\n  // }\n  CheckServiceFormStatus(token: string, closerid: string) {\n    return this.http.get(environment.apiUrl + '/api/Services/CheckServiceFormStatus/' + token + '/' + closerid)\n    .pipe(map(Response => Response));\n  }\n  // //#endregion\n\n//#region FSM Service Form\ngetFSMServiceFormById(token: string, Id: string, ) {\n  return this.http.get(environment.apiUrl + '/api/Services/GetServiceFormById/' + token + '/' + Id).pipe(map(response => response));\n}\nputFSMServiceFormDetails(token: string,  TicketId: string, ispreview: boolean) {\n  return this.http.put(environment.apiUrl + '/api/Services/PutServiceForm/' + token + '/' + TicketId + '/' + ispreview, this.FSMServiceFormData).pipe(map( response => response));\n}\npostFSMServiceFormDetails(token: string, TicketId: string, SequenceId: number, ispreview: boolean) {\n  return this.http.post(environment.apiUrl + '/api/Services/PostServiceForm/' + token + '/' + TicketId + '/' + SequenceId + '/' + ispreview, this.FSMServiceFormData)\n  .pipe(map( response => response));\n}\n//#endregion\n}\n"],"sourceRoot":"webpack:///"}