{"version":3,"sources":["webpack:///node_modules/ng2-file-upload/__ivy_ngcc__/fesm2015/ng2-file-upload.js","webpack:///src/app/services/product.service.ts","webpack:///src/app/services/DocumentUpload.service.ts","webpack:///node_modules/ngx-select2/__ivy_ngcc__/fesm2015/ngx-select2.js"],"names":["isElement","node","nodeName","prop","attr","find","FileLikeObject","fileOrInput","rawFile","isInput","fakePathOrObject","value","postfix","method","path","lastModifiedDate","size","type","slice","lastIndexOf","toLowerCase","name","object","FileItem","uploader","some","options","url","headers","withCredentials","formData","isReady","isUploading","isUploaded","isSuccess","isCancel","isError","progress","index","file","_file","alias","itemAlias","uploadItem","e","_onCompleteItem","_onErrorItem","cancelItem","removeFromQueue","form","response","status","onBeforeUpload","onBuildForm","onProgress","onSuccess","onError","onCancel","onComplete","removeAfterUpload","remove","_nextIndex","FileType","mimeClass","mime_psd","indexOf","match","mime_compress","mime_doc","mime_xsl","mime_ppt","fileTypeDetection","inputFilename","types","chunks","split","length","extension","undefined","isFile","File","Headers","FileUploaderOptions","FileUploader","queue","autoUpload","isHTML5","filters","disableMultipart","formatDataFunction","item","formatDataFunctionIsAsync","setOptions","Object","assign","authToken","authTokenHeader","unshift","fn","_queueLimitFilter","maxFileSize","_fileSizeFilter","allowedFileType","_fileTypeFilter","allowedMimeType","_mimeTypeFilter","i","files","list","push","arrayOfFilters","_getFilters","count","addedFileItems","map","temp","_isValidFile","fileItem","_onAfterAddingFile","filter","_failFilterIndex","_onWhenAddingFileFailed","_onAfterAddingAll","_getTotalProgress","_render","uploadAll","getIndexOfItem","cancel","splice","transport","_prepareToUploading","_xhr","_form","abort","items","getNotUploadedItems","upload","sort","item1","item2","fileItems","getMimeClass","_onError","onErrorItem","_onComplete","onCompleteItem","nextItem","getReadyItems","onCompleteAll","parsedHeaders","that","xhr","XMLHttpRequest","sendable","_onBeforeUploadItem","TypeError","FormData","_onBuildItemForm","appendFile","append","parametersBeforeFiles","additionalParameter","keys","forEach","key","paramVal","replace","onprogress","event","Math","round","lengthComputable","loaded","total","_onProgressItem","onload","_parseHeaders","getAllResponseHeaders","_transformResponse","gist","_isSuccessCode","onerror","onabort","_onCancelItem","open","header","setRequestHeader","onreadystatechange","readyState","DONE","emit","responseText","then","result","send","JSON","stringify","notUploaded","uploaded","ratio","current","Array","isArray","names","queueLimit","every","call","parsed","val","line","trim","onWhenAddingFileFailed","onAfterAddingFile","onAfterAddingAll","_onBeforeUpload","onBeforeUploadItem","_onBuildForm","onBuildItemForm","_onProgress","onProgressItem","onProgressAll","_onSuccess","onSuccessItem","_onCancel","onCancelItem","FileSelectDirective","element","onFileSelected","nativeElement","attributes","multiple","getOptions","getFilters","addToQueue","isEmptyAfterSelection","ɵfac","FileSelectDirective_Factory","t","ɵdir","selectors","hostBindings","FileSelectDirective_HostBindings","rf","ctx","FileSelectDirective_change_HostBindingHandler","onChange","inputs","outputs","ctorParameters","propDecorators","args","selector","FileDropDirective","fileOver","onFileDrop","transfer","_getTransfer","_preventAndStop","_haveFiles","dropEffect","currentTarget","dataTransfer","originalEvent","preventDefault","stopPropagation","contains","FileDropDirective_Factory","FileDropDirective_HostBindings","FileDropDirective_drop_HostBindingHandler","$event","onDrop","FileDropDirective_dragover_HostBindingHandler","onDragOver","FileDropDirective_dragleave_HostBindingHandler","onDragLeave","FileUploadModule","ɵmod","ɵinj","factory","FileUploadModule_Factory","imports","ngJitMode","declarations","exports","ProductService","http","SetAsDefaultValue","setDefaultProductMovement","setDefaultProductBatch","ProductMovementList","locatProductMovmentList","Productlist","ItemofLists","Id","ProductLogo","ProductId","ProductName","ProductBrand","ProductCategory","PurchasePrice","SalePrice","Quantity","LowStockTriggerQuantity","Description","RuleType","Status","InWarranty","WarrantyDays","ItemofList","BatchNo","AvailableQuantity","ManufacturingDate","ExpiryDate","UsedQty","TotalQty","HoldQty","ProductUnit","tempQty","Remarks","ProductMovementData","ProductCode","TicketId","QuoteId","InvoiceId","JobDate","Date","CustomerName","CustomerAddress","QtyAvailable","QtyHold","QtyTotal","MovementDate","post","apiUrl","pipe","Response","put","token","get","PId","serviceformData","ServiceId","BrandformData","CategoryformData","providedIn","DocumentUploadService","access_type","guid","id","remark","reportProgress","Accesskey","base64","_c0","_c1","_c2","LSelect2Component_1","LSelect2Component","_renderer","required","maxCount","Number","MAX_SAFE_INTEGER","minCount","MIN_SAFE_INTEGER","valueChange","_onChange","_","_onTouched","_jqueryElement","$","selectControll","initSelect2","on","data","select2","disabled","selected","selectedValue","setSelect2Value","changes","hasChanged","isDisabled","c","hasClass","setProperty","targetVal","x","trigger","previousValue","currentValue","LSelect2Component_Factory","ɵcmp","viewQuery","LSelect2Component_Query","_t","first","features","provide","useExisting","multi","ngContentSelectors","decls","vars","consts","template","LSelect2Component_Template","encapsulation","prototype","Boolean","LSelect2Module","LSelect2Module_Factory","providers"],"mappings":"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","file":"default~application-customer-customer-module~application-engineer-engineer-module~application-invoic~a72c8cf5-es5.js","sourcesContent":["import { EventEmitter, Directive, ElementRef, Input, Output, HostListener, NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * @param {?} node\n * @return {?}\n */\nimport * as ɵngcc0 from '@angular/core';\nfunction isElement(node) {\n    return !!(node && (node.nodeName || node.prop && node.attr && node.find));\n}\nclass FileLikeObject {\n    /**\n     * @param {?} fileOrInput\n     */\n    constructor(fileOrInput) {\n        this.rawFile = fileOrInput;\n        /** @type {?} */\n        let isInput = isElement(fileOrInput);\n        /** @type {?} */\n        let fakePathOrObject = isInput ? fileOrInput.value : fileOrInput;\n        /** @type {?} */\n        let postfix = typeof fakePathOrObject === 'string' ? 'FakePath' : 'Object';\n        /** @type {?} */\n        let method = '_createFrom' + postfix;\n        ((/** @type {?} */ (this)))[method](fakePathOrObject);\n    }\n    /**\n     * @param {?} path\n     * @return {?}\n     */\n    _createFromFakePath(path) {\n        this.lastModifiedDate = void 0;\n        this.size = void 0;\n        this.type = 'like/' + path.slice(path.lastIndexOf('.') + 1).toLowerCase();\n        this.name = path.slice(path.lastIndexOf('/') + path.lastIndexOf('\\\\') + 2);\n    }\n    /**\n     * @param {?} object\n     * @return {?}\n     */\n    _createFromObject(object) {\n        this.size = object.size;\n        this.type = object.type;\n        this.name = object.name;\n    }\n}\nif (false) {\n    /** @type {?} */\n    FileLikeObject.prototype.lastModifiedDate;\n    /** @type {?} */\n    FileLikeObject.prototype.size;\n    /** @type {?} */\n    FileLikeObject.prototype.type;\n    /** @type {?} */\n    FileLikeObject.prototype.name;\n    /** @type {?} */\n    FileLikeObject.prototype.rawFile;\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\nclass FileItem {\n    /**\n     * @param {?} uploader\n     * @param {?} some\n     * @param {?} options\n     */\n    constructor(uploader, some, options) {\n        this.url = '/';\n        this.headers = [];\n        this.withCredentials = true;\n        this.formData = [];\n        this.isReady = false;\n        this.isUploading = false;\n        this.isUploaded = false;\n        this.isSuccess = false;\n        this.isCancel = false;\n        this.isError = false;\n        this.progress = 0;\n        this.index = void 0;\n        this.uploader = uploader;\n        this.some = some;\n        this.options = options;\n        this.file = new FileLikeObject(some);\n        this._file = some;\n        if (uploader.options) {\n            this.method = uploader.options.method || 'POST';\n            this.alias = uploader.options.itemAlias || 'file';\n        }\n        this.url = uploader.options.url;\n    }\n    /**\n     * @return {?}\n     */\n    upload() {\n        try {\n            this.uploader.uploadItem(this);\n        }\n        catch (e) {\n            this.uploader._onCompleteItem(this, '', 0, {});\n            this.uploader._onErrorItem(this, '', 0, {});\n        }\n    }\n    /**\n     * @return {?}\n     */\n    cancel() {\n        this.uploader.cancelItem(this);\n    }\n    /**\n     * @return {?}\n     */\n    remove() {\n        this.uploader.removeFromQueue(this);\n    }\n    /**\n     * @return {?}\n     */\n    onBeforeUpload() {\n        return void 0;\n    }\n    /**\n     * @param {?} form\n     * @return {?}\n     */\n    onBuildForm(form) {\n        return { form };\n    }\n    /**\n     * @param {?} progress\n     * @return {?}\n     */\n    onProgress(progress) {\n        return { progress };\n    }\n    /**\n     * @param {?} response\n     * @param {?} status\n     * @param {?} headers\n     * @return {?}\n     */\n    onSuccess(response, status, headers) {\n        return { response, status, headers };\n    }\n    /**\n     * @param {?} response\n     * @param {?} status\n     * @param {?} headers\n     * @return {?}\n     */\n    onError(response, status, headers) {\n        return { response, status, headers };\n    }\n    /**\n     * @param {?} response\n     * @param {?} status\n     * @param {?} headers\n     * @return {?}\n     */\n    onCancel(response, status, headers) {\n        return { response, status, headers };\n    }\n    /**\n     * @param {?} response\n     * @param {?} status\n     * @param {?} headers\n     * @return {?}\n     */\n    onComplete(response, status, headers) {\n        return { response, status, headers };\n    }\n    /**\n     * @return {?}\n     */\n    _onBeforeUpload() {\n        this.isReady = true;\n        this.isUploading = true;\n        this.isUploaded = false;\n        this.isSuccess = false;\n        this.isCancel = false;\n        this.isError = false;\n        this.progress = 0;\n        this.onBeforeUpload();\n    }\n    /**\n     * @param {?} form\n     * @return {?}\n     */\n    _onBuildForm(form) {\n        this.onBuildForm(form);\n    }\n    /**\n     * @param {?} progress\n     * @return {?}\n     */\n    _onProgress(progress) {\n        this.progress = progress;\n        this.onProgress(progress);\n    }\n    /**\n     * @param {?} response\n     * @param {?} status\n     * @param {?} headers\n     * @return {?}\n     */\n    _onSuccess(response, status, headers) {\n        this.isReady = false;\n        this.isUploading = false;\n        this.isUploaded = true;\n        this.isSuccess = true;\n        this.isCancel = false;\n        this.isError = false;\n        this.progress = 100;\n        this.index = void 0;\n        this.onSuccess(response, status, headers);\n    }\n    /**\n     * @param {?} response\n     * @param {?} status\n     * @param {?} headers\n     * @return {?}\n     */\n    _onError(response, status, headers) {\n        this.isReady = false;\n        this.isUploading = false;\n        this.isUploaded = true;\n        this.isSuccess = false;\n        this.isCancel = false;\n        this.isError = true;\n        this.progress = 0;\n        this.index = void 0;\n        this.onError(response, status, headers);\n    }\n    /**\n     * @param {?} response\n     * @param {?} status\n     * @param {?} headers\n     * @return {?}\n     */\n    _onCancel(response, status, headers) {\n        this.isReady = false;\n        this.isUploading = false;\n        this.isUploaded = false;\n        this.isSuccess = false;\n        this.isCancel = true;\n        this.isError = false;\n        this.progress = 0;\n        this.index = void 0;\n        this.onCancel(response, status, headers);\n    }\n    /**\n     * @param {?} response\n     * @param {?} status\n     * @param {?} headers\n     * @return {?}\n     */\n    _onComplete(response, status, headers) {\n        this.onComplete(response, status, headers);\n        if (this.uploader.options.removeAfterUpload) {\n            this.remove();\n        }\n    }\n    /**\n     * @return {?}\n     */\n    _prepareToUploading() {\n        this.index = this.index || ++this.uploader._nextIndex;\n        this.isReady = true;\n    }\n}\nif (false) {\n    /** @type {?} */\n    FileItem.prototype.file;\n    /** @type {?} */\n    FileItem.prototype._file;\n    /** @type {?} */\n    FileItem.prototype.alias;\n    /** @type {?} */\n    FileItem.prototype.url;\n    /** @type {?} */\n    FileItem.prototype.method;\n    /** @type {?} */\n    FileItem.prototype.headers;\n    /** @type {?} */\n    FileItem.prototype.withCredentials;\n    /** @type {?} */\n    FileItem.prototype.formData;\n    /** @type {?} */\n    FileItem.prototype.isReady;\n    /** @type {?} */\n    FileItem.prototype.isUploading;\n    /** @type {?} */\n    FileItem.prototype.isUploaded;\n    /** @type {?} */\n    FileItem.prototype.isSuccess;\n    /** @type {?} */\n    FileItem.prototype.isCancel;\n    /** @type {?} */\n    FileItem.prototype.isError;\n    /** @type {?} */\n    FileItem.prototype.progress;\n    /** @type {?} */\n    FileItem.prototype.index;\n    /** @type {?} */\n    FileItem.prototype._xhr;\n    /** @type {?} */\n    FileItem.prototype._form;\n    /**\n     * @type {?}\n     * @protected\n     */\n    FileItem.prototype.uploader;\n    /**\n     * @type {?}\n     * @protected\n     */\n    FileItem.prototype.some;\n    /**\n     * @type {?}\n     * @protected\n     */\n    FileItem.prototype.options;\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\nclass FileType {\n    /**\n     * @param {?} file\n     * @return {?}\n     */\n    static getMimeClass(file) {\n        /** @type {?} */\n        let mimeClass = 'application';\n        if (this.mime_psd.indexOf(file.type) !== -1) {\n            mimeClass = 'image';\n        }\n        else if (file.type.match('image.*')) {\n            mimeClass = 'image';\n        }\n        else if (file.type.match('video.*')) {\n            mimeClass = 'video';\n        }\n        else if (file.type.match('audio.*')) {\n            mimeClass = 'audio';\n        }\n        else if (file.type === 'application/pdf') {\n            mimeClass = 'pdf';\n        }\n        else if (this.mime_compress.indexOf(file.type) !== -1) {\n            mimeClass = 'compress';\n        }\n        else if (this.mime_doc.indexOf(file.type) !== -1) {\n            mimeClass = 'doc';\n        }\n        else if (this.mime_xsl.indexOf(file.type) !== -1) {\n            mimeClass = 'xls';\n        }\n        else if (this.mime_ppt.indexOf(file.type) !== -1) {\n            mimeClass = 'ppt';\n        }\n        if (mimeClass === 'application') {\n            mimeClass = this.fileTypeDetection(file.name);\n        }\n        return mimeClass;\n    }\n    /**\n     * @param {?} inputFilename\n     * @return {?}\n     */\n    static fileTypeDetection(inputFilename) {\n        /** @type {?} */\n        let types = {\n            'jpg': 'image',\n            'jpeg': 'image',\n            'tif': 'image',\n            'psd': 'image',\n            'bmp': 'image',\n            'png': 'image',\n            'nef': 'image',\n            'tiff': 'image',\n            'cr2': 'image',\n            'dwg': 'image',\n            'cdr': 'image',\n            'ai': 'image',\n            'indd': 'image',\n            'pin': 'image',\n            'cdp': 'image',\n            'skp': 'image',\n            'stp': 'image',\n            '3dm': 'image',\n            'mp3': 'audio',\n            'wav': 'audio',\n            'wma': 'audio',\n            'mod': 'audio',\n            'm4a': 'audio',\n            'compress': 'compress',\n            'zip': 'compress',\n            'rar': 'compress',\n            '7z': 'compress',\n            'lz': 'compress',\n            'z01': 'compress',\n            'bz2': 'compress',\n            'gz': 'compress',\n            'pdf': 'pdf',\n            'xls': 'xls',\n            'xlsx': 'xls',\n            'ods': 'xls',\n            'mp4': 'video',\n            'avi': 'video',\n            'wmv': 'video',\n            'mpg': 'video',\n            'mts': 'video',\n            'flv': 'video',\n            '3gp': 'video',\n            'vob': 'video',\n            'm4v': 'video',\n            'mpeg': 'video',\n            'm2ts': 'video',\n            'mov': 'video',\n            'doc': 'doc',\n            'docx': 'doc',\n            'eps': 'doc',\n            'txt': 'doc',\n            'odt': 'doc',\n            'rtf': 'doc',\n            'ppt': 'ppt',\n            'pptx': 'ppt',\n            'pps': 'ppt',\n            'ppsx': 'ppt',\n            'odp': 'ppt'\n        };\n        /** @type {?} */\n        let chunks = inputFilename.split('.');\n        if (chunks.length < 2) {\n            return 'application';\n        }\n        /** @type {?} */\n        let extension = chunks[chunks.length - 1].toLowerCase();\n        if (types[extension] === undefined) {\n            return 'application';\n        }\n        else {\n            return types[extension];\n        }\n    }\n}\n/*  MS office  */\nFileType.mime_doc = [\n    'application/msword',\n    'application/msword',\n    'application/vnd.openxmlformats-officedocument.wordprocessingml.document',\n    'application/vnd.openxmlformats-officedocument.wordprocessingml.template',\n    'application/vnd.ms-word.document.macroEnabled.12',\n    'application/vnd.ms-word.template.macroEnabled.12'\n];\nFileType.mime_xsl = [\n    'application/vnd.ms-excel',\n    'application/vnd.ms-excel',\n    'application/vnd.ms-excel',\n    'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet',\n    'application/vnd.openxmlformats-officedocument.spreadsheetml.template',\n    'application/vnd.ms-excel.sheet.macroEnabled.12',\n    'application/vnd.ms-excel.template.macroEnabled.12',\n    'application/vnd.ms-excel.addin.macroEnabled.12',\n    'application/vnd.ms-excel.sheet.binary.macroEnabled.12'\n];\nFileType.mime_ppt = [\n    'application/vnd.ms-powerpoint',\n    'application/vnd.ms-powerpoint',\n    'application/vnd.ms-powerpoint',\n    'application/vnd.ms-powerpoint',\n    'application/vnd.openxmlformats-officedocument.presentationml.presentation',\n    'application/vnd.openxmlformats-officedocument.presentationml.template',\n    'application/vnd.openxmlformats-officedocument.presentationml.slideshow',\n    'application/vnd.ms-powerpoint.addin.macroEnabled.12',\n    'application/vnd.ms-powerpoint.presentation.macroEnabled.12',\n    'application/vnd.ms-powerpoint.presentation.macroEnabled.12',\n    'application/vnd.ms-powerpoint.slideshow.macroEnabled.12'\n];\n/* PSD */\nFileType.mime_psd = [\n    'image/photoshop',\n    'image/x-photoshop',\n    'image/psd',\n    'application/photoshop',\n    'application/psd',\n    'zz-application/zz-winassoc-psd'\n];\n/* Compressed files */\nFileType.mime_compress = [\n    'application/x-gtar',\n    'application/x-gcompress',\n    'application/compress',\n    'application/x-tar',\n    'application/x-rar-compressed',\n    'application/octet-stream',\n    'application/x-zip-compressed',\n    'application/zip-compressed',\n    'application/x-7z-compressed',\n    'application/gzip',\n    'application/x-bzip2'\n];\nif (false) {\n    /** @type {?} */\n    FileType.mime_doc;\n    /** @type {?} */\n    FileType.mime_xsl;\n    /** @type {?} */\n    FileType.mime_ppt;\n    /** @type {?} */\n    FileType.mime_psd;\n    /** @type {?} */\n    FileType.mime_compress;\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * @param {?} value\n * @return {?}\n */\nfunction isFile(value) {\n    return (File && value instanceof File);\n}\n/**\n * @record\n */\nfunction Headers() { }\nif (false) {\n    /** @type {?} */\n    Headers.prototype.name;\n    /** @type {?} */\n    Headers.prototype.value;\n}\n/**\n * @record\n */\nfunction FileUploaderOptions() { }\nif (false) {\n    /** @type {?|undefined} */\n    FileUploaderOptions.prototype.allowedMimeType;\n    /** @type {?|undefined} */\n    FileUploaderOptions.prototype.allowedFileType;\n    /** @type {?|undefined} */\n    FileUploaderOptions.prototype.autoUpload;\n    /** @type {?|undefined} */\n    FileUploaderOptions.prototype.isHTML5;\n    /** @type {?|undefined} */\n    FileUploaderOptions.prototype.filters;\n    /** @type {?|undefined} */\n    FileUploaderOptions.prototype.headers;\n    /** @type {?|undefined} */\n    FileUploaderOptions.prototype.method;\n    /** @type {?|undefined} */\n    FileUploaderOptions.prototype.authToken;\n    /** @type {?|undefined} */\n    FileUploaderOptions.prototype.maxFileSize;\n    /** @type {?|undefined} */\n    FileUploaderOptions.prototype.queueLimit;\n    /** @type {?|undefined} */\n    FileUploaderOptions.prototype.removeAfterUpload;\n    /** @type {?|undefined} */\n    FileUploaderOptions.prototype.url;\n    /** @type {?|undefined} */\n    FileUploaderOptions.prototype.disableMultipart;\n    /** @type {?|undefined} */\n    FileUploaderOptions.prototype.itemAlias;\n    /** @type {?|undefined} */\n    FileUploaderOptions.prototype.authTokenHeader;\n    /** @type {?|undefined} */\n    FileUploaderOptions.prototype.additionalParameter;\n    /** @type {?|undefined} */\n    FileUploaderOptions.prototype.parametersBeforeFiles;\n    /** @type {?|undefined} */\n    FileUploaderOptions.prototype.formatDataFunction;\n    /** @type {?|undefined} */\n    FileUploaderOptions.prototype.formatDataFunctionIsAsync;\n}\nclass FileUploader {\n    /**\n     * @param {?} options\n     */\n    constructor(options) {\n        this.isUploading = false;\n        this.queue = [];\n        this.progress = 0;\n        this._nextIndex = 0;\n        this.options = {\n            autoUpload: false,\n            isHTML5: true,\n            filters: [],\n            removeAfterUpload: false,\n            disableMultipart: false,\n            formatDataFunction: (/**\n             * @param {?} item\n             * @return {?}\n             */\n            (item) => item._file),\n            formatDataFunctionIsAsync: false\n        };\n        this.setOptions(options);\n        this.response = new EventEmitter();\n    }\n    /**\n     * @param {?} options\n     * @return {?}\n     */\n    setOptions(options) {\n        this.options = Object.assign(this.options, options);\n        this.authToken = this.options.authToken;\n        this.authTokenHeader = this.options.authTokenHeader || 'Authorization';\n        this.autoUpload = this.options.autoUpload;\n        this.options.filters.unshift({ name: 'queueLimit', fn: this._queueLimitFilter });\n        if (this.options.maxFileSize) {\n            this.options.filters.unshift({ name: 'fileSize', fn: this._fileSizeFilter });\n        }\n        if (this.options.allowedFileType) {\n            this.options.filters.unshift({ name: 'fileType', fn: this._fileTypeFilter });\n        }\n        if (this.options.allowedMimeType) {\n            this.options.filters.unshift({ name: 'mimeType', fn: this._mimeTypeFilter });\n        }\n        for (let i = 0; i < this.queue.length; i++) {\n            this.queue[i].url = this.options.url;\n        }\n    }\n    /**\n     * @param {?} files\n     * @param {?=} options\n     * @param {?=} filters\n     * @return {?}\n     */\n    addToQueue(files, options, filters) {\n        /** @type {?} */\n        let list = [];\n        for (let file of files) {\n            list.push(file);\n        }\n        /** @type {?} */\n        let arrayOfFilters = this._getFilters(filters);\n        /** @type {?} */\n        let count = this.queue.length;\n        /** @type {?} */\n        let addedFileItems = [];\n        list.map((/**\n         * @param {?} some\n         * @return {?}\n         */\n        (some) => {\n            if (!options) {\n                options = this.options;\n            }\n            /** @type {?} */\n            let temp = new FileLikeObject(some);\n            if (this._isValidFile(temp, arrayOfFilters, options)) {\n                /** @type {?} */\n                let fileItem = new FileItem(this, some, options);\n                addedFileItems.push(fileItem);\n                this.queue.push(fileItem);\n                this._onAfterAddingFile(fileItem);\n            }\n            else {\n                /** @type {?} */\n                let filter = arrayOfFilters[this._failFilterIndex];\n                this._onWhenAddingFileFailed(temp, filter, options);\n            }\n        }));\n        if (this.queue.length !== count) {\n            this._onAfterAddingAll(addedFileItems);\n            this.progress = this._getTotalProgress();\n        }\n        this._render();\n        if (this.options.autoUpload) {\n            this.uploadAll();\n        }\n    }\n    /**\n     * @param {?} value\n     * @return {?}\n     */\n    removeFromQueue(value) {\n        /** @type {?} */\n        let index = this.getIndexOfItem(value);\n        /** @type {?} */\n        let item = this.queue[index];\n        if (item.isUploading) {\n            item.cancel();\n        }\n        this.queue.splice(index, 1);\n        this.progress = this._getTotalProgress();\n    }\n    /**\n     * @return {?}\n     */\n    clearQueue() {\n        while (this.queue.length) {\n            this.queue[0].remove();\n        }\n        this.progress = 0;\n    }\n    /**\n     * @param {?} value\n     * @return {?}\n     */\n    uploadItem(value) {\n        /** @type {?} */\n        let index = this.getIndexOfItem(value);\n        /** @type {?} */\n        let item = this.queue[index];\n        /** @type {?} */\n        let transport = this.options.isHTML5 ? '_xhrTransport' : '_iframeTransport';\n        item._prepareToUploading();\n        if (this.isUploading) {\n            return;\n        }\n        this.isUploading = true;\n        ((/** @type {?} */ (this)))[transport](item);\n    }\n    /**\n     * @param {?} value\n     * @return {?}\n     */\n    cancelItem(value) {\n        /** @type {?} */\n        let index = this.getIndexOfItem(value);\n        /** @type {?} */\n        let item = this.queue[index];\n        /** @type {?} */\n        let prop = this.options.isHTML5 ? item._xhr : item._form;\n        if (item && item.isUploading) {\n            prop.abort();\n        }\n    }\n    /**\n     * @return {?}\n     */\n    uploadAll() {\n        /** @type {?} */\n        let items = this.getNotUploadedItems().filter((/**\n         * @param {?} item\n         * @return {?}\n         */\n        (item) => !item.isUploading));\n        if (!items.length) {\n            return;\n        }\n        items.map((/**\n         * @param {?} item\n         * @return {?}\n         */\n        (item) => item._prepareToUploading()));\n        items[0].upload();\n    }\n    /**\n     * @return {?}\n     */\n    cancelAll() {\n        /** @type {?} */\n        let items = this.getNotUploadedItems();\n        items.map((/**\n         * @param {?} item\n         * @return {?}\n         */\n        (item) => item.cancel()));\n    }\n    /**\n     * @param {?} value\n     * @return {?}\n     */\n    isFile(value) {\n        return isFile(value);\n    }\n    /**\n     * @param {?} value\n     * @return {?}\n     */\n    isFileLikeObject(value) {\n        return value instanceof FileLikeObject;\n    }\n    /**\n     * @param {?} value\n     * @return {?}\n     */\n    getIndexOfItem(value) {\n        return typeof value === 'number' ? value : this.queue.indexOf(value);\n    }\n    /**\n     * @return {?}\n     */\n    getNotUploadedItems() {\n        return this.queue.filter((/**\n         * @param {?} item\n         * @return {?}\n         */\n        (item) => !item.isUploaded));\n    }\n    /**\n     * @return {?}\n     */\n    getReadyItems() {\n        return this.queue\n            .filter((/**\n         * @param {?} item\n         * @return {?}\n         */\n        (item) => (item.isReady && !item.isUploading)))\n            .sort((/**\n         * @param {?} item1\n         * @param {?} item2\n         * @return {?}\n         */\n        (item1, item2) => item1.index - item2.index));\n    }\n    /**\n     * @return {?}\n     */\n    destroy() {\n        return void 0;\n    }\n    /**\n     * @param {?} fileItems\n     * @return {?}\n     */\n    onAfterAddingAll(fileItems) {\n        return { fileItems };\n    }\n    /**\n     * @param {?} fileItem\n     * @param {?} form\n     * @return {?}\n     */\n    onBuildItemForm(fileItem, form) {\n        return { fileItem, form };\n    }\n    /**\n     * @param {?} fileItem\n     * @return {?}\n     */\n    onAfterAddingFile(fileItem) {\n        return { fileItem };\n    }\n    /**\n     * @param {?} item\n     * @param {?} filter\n     * @param {?} options\n     * @return {?}\n     */\n    onWhenAddingFileFailed(item, filter, options) {\n        return { item, filter, options };\n    }\n    /**\n     * @param {?} fileItem\n     * @return {?}\n     */\n    onBeforeUploadItem(fileItem) {\n        return { fileItem };\n    }\n    /**\n     * @param {?} fileItem\n     * @param {?} progress\n     * @return {?}\n     */\n    onProgressItem(fileItem, progress) {\n        return { fileItem, progress };\n    }\n    /**\n     * @param {?} progress\n     * @return {?}\n     */\n    onProgressAll(progress) {\n        return { progress };\n    }\n    /**\n     * @param {?} item\n     * @param {?} response\n     * @param {?} status\n     * @param {?} headers\n     * @return {?}\n     */\n    onSuccessItem(item, response, status, headers) {\n        return { item, response, status, headers };\n    }\n    /**\n     * @param {?} item\n     * @param {?} response\n     * @param {?} status\n     * @param {?} headers\n     * @return {?}\n     */\n    onErrorItem(item, response, status, headers) {\n        return { item, response, status, headers };\n    }\n    /**\n     * @param {?} item\n     * @param {?} response\n     * @param {?} status\n     * @param {?} headers\n     * @return {?}\n     */\n    onCancelItem(item, response, status, headers) {\n        return { item, response, status, headers };\n    }\n    /**\n     * @param {?} item\n     * @param {?} response\n     * @param {?} status\n     * @param {?} headers\n     * @return {?}\n     */\n    onCompleteItem(item, response, status, headers) {\n        return { item, response, status, headers };\n    }\n    /**\n     * @return {?}\n     */\n    onCompleteAll() {\n        return void 0;\n    }\n    /**\n     * @param {?} item\n     * @return {?}\n     */\n    _mimeTypeFilter(item) {\n        return !(this.options.allowedMimeType && this.options.allowedMimeType.indexOf(item.type) === -1);\n    }\n    /**\n     * @param {?} item\n     * @return {?}\n     */\n    _fileSizeFilter(item) {\n        return !(this.options.maxFileSize && item.size > this.options.maxFileSize);\n    }\n    /**\n     * @param {?} item\n     * @return {?}\n     */\n    _fileTypeFilter(item) {\n        return !(this.options.allowedFileType &&\n            this.options.allowedFileType.indexOf(FileType.getMimeClass(item)) === -1);\n    }\n    /**\n     * @param {?} item\n     * @param {?} response\n     * @param {?} status\n     * @param {?} headers\n     * @return {?}\n     */\n    _onErrorItem(item, response, status, headers) {\n        item._onError(response, status, headers);\n        this.onErrorItem(item, response, status, headers);\n    }\n    /**\n     * @param {?} item\n     * @param {?} response\n     * @param {?} status\n     * @param {?} headers\n     * @return {?}\n     */\n    _onCompleteItem(item, response, status, headers) {\n        item._onComplete(response, status, headers);\n        this.onCompleteItem(item, response, status, headers);\n        /** @type {?} */\n        let nextItem = this.getReadyItems()[0];\n        this.isUploading = false;\n        if (nextItem) {\n            nextItem.upload();\n            return;\n        }\n        this.onCompleteAll();\n        this.progress = this._getTotalProgress();\n        this._render();\n    }\n    /**\n     * @protected\n     * @param {?} parsedHeaders\n     * @return {?}\n     */\n    _headersGetter(parsedHeaders) {\n        return (/**\n         * @param {?} name\n         * @return {?}\n         */\n        (name) => {\n            if (name) {\n                return parsedHeaders[name.toLowerCase()] || void 0;\n            }\n            return parsedHeaders;\n        });\n    }\n    /**\n     * @protected\n     * @param {?} item\n     * @return {?}\n     */\n    _xhrTransport(item) {\n        /** @type {?} */\n        let that = this;\n        /** @type {?} */\n        let xhr = item._xhr = new XMLHttpRequest();\n        /** @type {?} */\n        let sendable;\n        this._onBeforeUploadItem(item);\n        if (typeof item._file.size !== 'number') {\n            throw new TypeError('The file specified is no longer valid');\n        }\n        if (!this.options.disableMultipart) {\n            sendable = new FormData();\n            this._onBuildItemForm(item, sendable);\n            /** @type {?} */\n            const appendFile = (/**\n             * @return {?}\n             */\n            () => sendable.append(item.alias, item._file, item.file.name));\n            if (!this.options.parametersBeforeFiles) {\n                appendFile();\n            }\n            // For AWS, Additional Parameters must come BEFORE Files\n            if (this.options.additionalParameter !== undefined) {\n                Object.keys(this.options.additionalParameter).forEach((/**\n                 * @param {?} key\n                 * @return {?}\n                 */\n                (key) => {\n                    /** @type {?} */\n                    let paramVal = this.options.additionalParameter[key];\n                    // Allow an additional parameter to include the filename\n                    if (typeof paramVal === 'string' && paramVal.indexOf('{{file_name}}') >= 0) {\n                        paramVal = paramVal.replace('{{file_name}}', item.file.name);\n                    }\n                    sendable.append(key, paramVal);\n                }));\n            }\n            if (this.options.parametersBeforeFiles) {\n                appendFile();\n            }\n        }\n        else {\n            sendable = this.options.formatDataFunction(item);\n        }\n        xhr.upload.onprogress = (/**\n         * @param {?} event\n         * @return {?}\n         */\n        (event) => {\n            /** @type {?} */\n            let progress = Math.round(event.lengthComputable ? event.loaded * 100 / event.total : 0);\n            this._onProgressItem(item, progress);\n        });\n        xhr.onload = (/**\n         * @return {?}\n         */\n        () => {\n            /** @type {?} */\n            let headers = this._parseHeaders(xhr.getAllResponseHeaders());\n            /** @type {?} */\n            let response = this._transformResponse(xhr.response, headers);\n            /** @type {?} */\n            let gist = this._isSuccessCode(xhr.status) ? 'Success' : 'Error';\n            /** @type {?} */\n            let method = '_on' + gist + 'Item';\n            ((/** @type {?} */ (this)))[method](item, response, xhr.status, headers);\n            this._onCompleteItem(item, response, xhr.status, headers);\n        });\n        xhr.onerror = (/**\n         * @return {?}\n         */\n        () => {\n            /** @type {?} */\n            let headers = this._parseHeaders(xhr.getAllResponseHeaders());\n            /** @type {?} */\n            let response = this._transformResponse(xhr.response, headers);\n            this._onErrorItem(item, response, xhr.status, headers);\n            this._onCompleteItem(item, response, xhr.status, headers);\n        });\n        xhr.onabort = (/**\n         * @return {?}\n         */\n        () => {\n            /** @type {?} */\n            let headers = this._parseHeaders(xhr.getAllResponseHeaders());\n            /** @type {?} */\n            let response = this._transformResponse(xhr.response, headers);\n            this._onCancelItem(item, response, xhr.status, headers);\n            this._onCompleteItem(item, response, xhr.status, headers);\n        });\n        xhr.open(item.method, item.url, true);\n        xhr.withCredentials = item.withCredentials;\n        if (this.options.headers) {\n            for (let header of this.options.headers) {\n                xhr.setRequestHeader(header.name, header.value);\n            }\n        }\n        if (item.headers.length) {\n            for (let header of item.headers) {\n                xhr.setRequestHeader(header.name, header.value);\n            }\n        }\n        if (this.authToken) {\n            xhr.setRequestHeader(this.authTokenHeader, this.authToken);\n        }\n        xhr.onreadystatechange = (/**\n         * @return {?}\n         */\n        function () {\n            if (xhr.readyState == XMLHttpRequest.DONE) {\n                that.response.emit(xhr.responseText);\n            }\n        });\n        if (this.options.formatDataFunctionIsAsync) {\n            sendable.then((/**\n             * @param {?} result\n             * @return {?}\n             */\n            (result) => xhr.send(JSON.stringify(result))));\n        }\n        else {\n            xhr.send(sendable);\n        }\n        this._render();\n    }\n    /**\n     * @protected\n     * @param {?=} value\n     * @return {?}\n     */\n    _getTotalProgress(value = 0) {\n        if (this.options.removeAfterUpload) {\n            return value;\n        }\n        /** @type {?} */\n        let notUploaded = this.getNotUploadedItems().length;\n        /** @type {?} */\n        let uploaded = notUploaded ? this.queue.length - notUploaded : this.queue.length;\n        /** @type {?} */\n        let ratio = 100 / this.queue.length;\n        /** @type {?} */\n        let current = value * ratio / 100;\n        return Math.round(uploaded * ratio + current);\n    }\n    /**\n     * @protected\n     * @param {?} filters\n     * @return {?}\n     */\n    _getFilters(filters) {\n        if (!filters) {\n            return this.options.filters;\n        }\n        if (Array.isArray(filters)) {\n            return filters;\n        }\n        if (typeof filters === 'string') {\n            /** @type {?} */\n            let names = filters.match(/[^\\s,]+/g);\n            return this.options.filters\n                .filter((/**\n             * @param {?} filter\n             * @return {?}\n             */\n            (filter) => names.indexOf(filter.name) !== -1));\n        }\n        return this.options.filters;\n    }\n    /**\n     * @protected\n     * @return {?}\n     */\n    _render() {\n        return void 0;\n    }\n    /**\n     * @protected\n     * @return {?}\n     */\n    _queueLimitFilter() {\n        return this.options.queueLimit === undefined || this.queue.length < this.options.queueLimit;\n    }\n    /**\n     * @protected\n     * @param {?} file\n     * @param {?} filters\n     * @param {?} options\n     * @return {?}\n     */\n    _isValidFile(file, filters, options) {\n        this._failFilterIndex = -1;\n        return !filters.length ? true : filters.every((/**\n         * @param {?} filter\n         * @return {?}\n         */\n        (filter) => {\n            this._failFilterIndex++;\n            return filter.fn.call(this, file, options);\n        }));\n    }\n    /**\n     * @protected\n     * @param {?} status\n     * @return {?}\n     */\n    _isSuccessCode(status) {\n        return (status >= 200 && status < 300) || status === 304;\n    }\n    /**\n     * @protected\n     * @param {?} response\n     * @param {?} headers\n     * @return {?}\n     */\n    _transformResponse(response, headers) {\n        return response;\n    }\n    /**\n     * @protected\n     * @param {?} headers\n     * @return {?}\n     */\n    _parseHeaders(headers) {\n        /** @type {?} */\n        let parsed = {};\n        /** @type {?} */\n        let key;\n        /** @type {?} */\n        let val;\n        /** @type {?} */\n        let i;\n        if (!headers) {\n            return parsed;\n        }\n        headers.split('\\n').map((/**\n         * @param {?} line\n         * @return {?}\n         */\n        (line) => {\n            i = line.indexOf(':');\n            key = line.slice(0, i).trim().toLowerCase();\n            val = line.slice(i + 1).trim();\n            if (key) {\n                parsed[key] = parsed[key] ? parsed[key] + ', ' + val : val;\n            }\n        }));\n        return parsed;\n    }\n    /**\n     * @protected\n     * @param {?} item\n     * @param {?} filter\n     * @param {?} options\n     * @return {?}\n     */\n    _onWhenAddingFileFailed(item, filter, options) {\n        this.onWhenAddingFileFailed(item, filter, options);\n    }\n    /**\n     * @protected\n     * @param {?} item\n     * @return {?}\n     */\n    _onAfterAddingFile(item) {\n        this.onAfterAddingFile(item);\n    }\n    /**\n     * @protected\n     * @param {?} items\n     * @return {?}\n     */\n    _onAfterAddingAll(items) {\n        this.onAfterAddingAll(items);\n    }\n    /**\n     * @protected\n     * @param {?} item\n     * @return {?}\n     */\n    _onBeforeUploadItem(item) {\n        item._onBeforeUpload();\n        this.onBeforeUploadItem(item);\n    }\n    /**\n     * @protected\n     * @param {?} item\n     * @param {?} form\n     * @return {?}\n     */\n    _onBuildItemForm(item, form) {\n        item._onBuildForm(form);\n        this.onBuildItemForm(item, form);\n    }\n    /**\n     * @protected\n     * @param {?} item\n     * @param {?} progress\n     * @return {?}\n     */\n    _onProgressItem(item, progress) {\n        /** @type {?} */\n        let total = this._getTotalProgress(progress);\n        this.progress = total;\n        item._onProgress(progress);\n        this.onProgressItem(item, progress);\n        this.onProgressAll(total);\n        this._render();\n    }\n    /**\n     * @protected\n     * @param {?} item\n     * @param {?} response\n     * @param {?} status\n     * @param {?} headers\n     * @return {?}\n     */\n    _onSuccessItem(item, response, status, headers) {\n        item._onSuccess(response, status, headers);\n        this.onSuccessItem(item, response, status, headers);\n    }\n    /**\n     * @protected\n     * @param {?} item\n     * @param {?} response\n     * @param {?} status\n     * @param {?} headers\n     * @return {?}\n     */\n    _onCancelItem(item, response, status, headers) {\n        item._onCancel(response, status, headers);\n        this.onCancelItem(item, response, status, headers);\n    }\n}\nif (false) {\n    /** @type {?} */\n    FileUploader.prototype.authToken;\n    /** @type {?} */\n    FileUploader.prototype.isUploading;\n    /** @type {?} */\n    FileUploader.prototype.queue;\n    /** @type {?} */\n    FileUploader.prototype.progress;\n    /** @type {?} */\n    FileUploader.prototype._nextIndex;\n    /** @type {?} */\n    FileUploader.prototype.autoUpload;\n    /** @type {?} */\n    FileUploader.prototype.authTokenHeader;\n    /** @type {?} */\n    FileUploader.prototype.response;\n    /** @type {?} */\n    FileUploader.prototype.options;\n    /**\n     * @type {?}\n     * @protected\n     */\n    FileUploader.prototype._failFilterIndex;\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\nclass FileSelectDirective {\n    /**\n     * @param {?} element\n     */\n    constructor(element) {\n        this.onFileSelected = new EventEmitter();\n        this.element = element;\n    }\n    /**\n     * @return {?}\n     */\n    getOptions() {\n        return this.uploader.options;\n    }\n    /**\n     * @return {?}\n     */\n    getFilters() {\n        return {};\n    }\n    /**\n     * @return {?}\n     */\n    isEmptyAfterSelection() {\n        return !!this.element.nativeElement.attributes.multiple;\n    }\n    /**\n     * @return {?}\n     */\n    onChange() {\n        /** @type {?} */\n        let files = this.element.nativeElement.files;\n        /** @type {?} */\n        let options = this.getOptions();\n        /** @type {?} */\n        let filters = this.getFilters();\n        this.uploader.addToQueue(files, options, filters);\n        this.onFileSelected.emit(files);\n        if (this.isEmptyAfterSelection()) {\n            this.element.nativeElement.value = '';\n        }\n    }\n}\nFileSelectDirective.ɵfac = function FileSelectDirective_Factory(t) { return new (t || FileSelectDirective)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ElementRef)); };\nFileSelectDirective.ɵdir = ɵngcc0.ɵɵdefineDirective({ type: FileSelectDirective, selectors: [[\"\", \"ng2FileSelect\", \"\"]], hostBindings: function FileSelectDirective_HostBindings(rf, ctx) { if (rf & 1) {\n        ɵngcc0.ɵɵlistener(\"change\", function FileSelectDirective_change_HostBindingHandler() { return ctx.onChange(); });\n    } }, inputs: { uploader: \"uploader\" }, outputs: { onFileSelected: \"onFileSelected\" } });\n/** @nocollapse */\nFileSelectDirective.ctorParameters = () => [\n    { type: ElementRef }\n];\nFileSelectDirective.propDecorators = {\n    uploader: [{ type: Input }],\n    onFileSelected: [{ type: Output }],\n    onChange: [{ type: HostListener, args: ['change',] }]\n};\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(FileSelectDirective, [{\n        type: Directive,\n        args: [{ selector: '[ng2FileSelect]' }]\n    }], function () { return [{ type: ɵngcc0.ElementRef }]; }, { onFileSelected: [{\n            type: Output\n        }], \n    /**\n     * @return {?}\n     */\n    onChange: [{\n            type: HostListener,\n            args: ['change']\n        }], uploader: [{\n            type: Input\n        }] }); })();\nif (false) {\n    /** @type {?} */\n    FileSelectDirective.prototype.uploader;\n    /** @type {?} */\n    FileSelectDirective.prototype.onFileSelected;\n    /**\n     * @type {?}\n     * @protected\n     */\n    FileSelectDirective.prototype.element;\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\nclass FileDropDirective {\n    /**\n     * @param {?} element\n     */\n    constructor(element) {\n        this.fileOver = new EventEmitter();\n        this.onFileDrop = new EventEmitter();\n        this.element = element;\n    }\n    /**\n     * @return {?}\n     */\n    getOptions() {\n        return this.uploader.options;\n    }\n    /**\n     * @return {?}\n     */\n    getFilters() {\n        return {};\n    }\n    /**\n     * @param {?} event\n     * @return {?}\n     */\n    onDrop(event) {\n        /** @type {?} */\n        let transfer = this._getTransfer(event);\n        if (!transfer) {\n            return;\n        }\n        /** @type {?} */\n        let options = this.getOptions();\n        /** @type {?} */\n        let filters = this.getFilters();\n        this._preventAndStop(event);\n        this.uploader.addToQueue(transfer.files, options, filters);\n        this.fileOver.emit(false);\n        this.onFileDrop.emit(transfer.files);\n    }\n    /**\n     * @param {?} event\n     * @return {?}\n     */\n    onDragOver(event) {\n        /** @type {?} */\n        let transfer = this._getTransfer(event);\n        if (!this._haveFiles(transfer.types)) {\n            return;\n        }\n        transfer.dropEffect = 'copy';\n        this._preventAndStop(event);\n        this.fileOver.emit(true);\n    }\n    /**\n     * @param {?} event\n     * @return {?}\n     */\n    onDragLeave(event) {\n        if (((/** @type {?} */ (this))).element) {\n            if (event.currentTarget === ((/** @type {?} */ (this))).element[0]) {\n                return;\n            }\n        }\n        this._preventAndStop(event);\n        this.fileOver.emit(false);\n    }\n    /**\n     * @protected\n     * @param {?} event\n     * @return {?}\n     */\n    _getTransfer(event) {\n        return event.dataTransfer ? event.dataTransfer : event.originalEvent.dataTransfer; // jQuery fix;\n    }\n    /**\n     * @protected\n     * @param {?} event\n     * @return {?}\n     */\n    _preventAndStop(event) {\n        event.preventDefault();\n        event.stopPropagation();\n    }\n    /**\n     * @protected\n     * @param {?} types\n     * @return {?}\n     */\n    _haveFiles(types) {\n        if (!types) {\n            return false;\n        }\n        if (types.indexOf) {\n            return types.indexOf('Files') !== -1;\n        }\n        else if (types.contains) {\n            return types.contains('Files');\n        }\n        else {\n            return false;\n        }\n    }\n}\nFileDropDirective.ɵfac = function FileDropDirective_Factory(t) { return new (t || FileDropDirective)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ElementRef)); };\nFileDropDirective.ɵdir = ɵngcc0.ɵɵdefineDirective({ type: FileDropDirective, selectors: [[\"\", \"ng2FileDrop\", \"\"]], hostBindings: function FileDropDirective_HostBindings(rf, ctx) { if (rf & 1) {\n        ɵngcc0.ɵɵlistener(\"drop\", function FileDropDirective_drop_HostBindingHandler($event) { return ctx.onDrop($event); })(\"dragover\", function FileDropDirective_dragover_HostBindingHandler($event) { return ctx.onDragOver($event); })(\"dragleave\", function FileDropDirective_dragleave_HostBindingHandler($event) { return ctx.onDragLeave($event); });\n    } }, inputs: { uploader: \"uploader\" }, outputs: { fileOver: \"fileOver\", onFileDrop: \"onFileDrop\" } });\n/** @nocollapse */\nFileDropDirective.ctorParameters = () => [\n    { type: ElementRef }\n];\nFileDropDirective.propDecorators = {\n    uploader: [{ type: Input }],\n    fileOver: [{ type: Output }],\n    onFileDrop: [{ type: Output }],\n    onDrop: [{ type: HostListener, args: ['drop', ['$event'],] }],\n    onDragOver: [{ type: HostListener, args: ['dragover', ['$event'],] }],\n    onDragLeave: [{ type: HostListener, args: ['dragleave', ['$event'],] }]\n};\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(FileDropDirective, [{\n        type: Directive,\n        args: [{ selector: '[ng2FileDrop]' }]\n    }], function () { return [{ type: ɵngcc0.ElementRef }]; }, { fileOver: [{\n            type: Output\n        }], onFileDrop: [{\n            type: Output\n        }], \n    /**\n     * @param {?} event\n     * @return {?}\n     */\n    onDrop: [{\n            type: HostListener,\n            args: ['drop', ['$event']]\n        }], \n    /**\n     * @param {?} event\n     * @return {?}\n     */\n    onDragOver: [{\n            type: HostListener,\n            args: ['dragover', ['$event']]\n        }], \n    /**\n     * @param {?} event\n     * @return {?}\n     */\n    onDragLeave: [{\n            type: HostListener,\n            args: ['dragleave', ['$event']]\n        }], uploader: [{\n            type: Input\n        }] }); })();\nif (false) {\n    /** @type {?} */\n    FileDropDirective.prototype.uploader;\n    /** @type {?} */\n    FileDropDirective.prototype.fileOver;\n    /** @type {?} */\n    FileDropDirective.prototype.onFileDrop;\n    /**\n     * @type {?}\n     * @protected\n     */\n    FileDropDirective.prototype.element;\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\nclass FileUploadModule {\n}\nFileUploadModule.ɵmod = ɵngcc0.ɵɵdefineNgModule({ type: FileUploadModule });\nFileUploadModule.ɵinj = ɵngcc0.ɵɵdefineInjector({ factory: function FileUploadModule_Factory(t) { return new (t || FileUploadModule)(); }, imports: [[CommonModule]] });\n(function () { (typeof ngJitMode === \"undefined\" || ngJitMode) && ɵngcc0.ɵɵsetNgModuleScope(FileUploadModule, { declarations: function () { return [FileDropDirective, FileSelectDirective]; }, imports: function () { return [CommonModule]; }, exports: function () { return [FileDropDirective, FileSelectDirective]; } }); })();\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(FileUploadModule, [{\n        type: NgModule,\n        args: [{\n                imports: [CommonModule],\n                declarations: [FileDropDirective, FileSelectDirective],\n                exports: [FileDropDirective, FileSelectDirective]\n            }]\n    }], null, null); })();\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n\nexport { FileDropDirective, FileItem, FileLikeObject, FileSelectDirective, FileUploadModule, FileUploader };\n\n//# sourceMappingURL=ng2-file-upload.js.map","import { Injectable } from '@angular/core';\nimport { Product, ItemofList, ProductMovement, Brand, Category, Service } from './product.module';\nimport { HttpClient } from '@angular/common/http';\nimport { environment } from 'src/environments/environment';\nimport { map } from 'rxjs/operators';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ProductService {\n  formData: Product;\n  Productlist: Product[];\n  serviceformData: Service;\n  serviceformList: Service[];\n  ProductLocalList: Product[];\n  ItemofList: ItemofList;\n  ItemofLists: ItemofList[];\n  ProductMovementData: ProductMovement;\n  ProductMovementList: ProductMovement[];\n  locatProductMovmentList: ProductMovement[];\n  BrandformData: Brand;\n  BrandList: Brand[];\n  CategoryformData: Category;\n  CategoryList: Category[];\n  constructor(private http: HttpClient) {\n   this.SetAsDefaultValue();\n   this.setDefaultProductMovement();\n   this.setDefaultProductBatch();\n   this.ProductMovementList = [];\n   this.locatProductMovmentList = [];\n   this.Productlist = [];\n   this.ItemofLists = [];\n   }\n\n   SetAsDefaultValue() {\n    this.formData = {\n      Id: '00000000-0000-0000-0000-000000000000',\n      ProductLogo: '',\n      ProductId: '' ,\n      ProductName: '',\n      ProductBrand: '',\n      ProductCategory: '',\n      PurchasePrice: 0,\n      SalePrice: 0,\n      Quantity: 0,\n      LowStockTriggerQuantity: 0,\n      Description: '',\n      RuleType: 'LEFO',\n      Status: true,\n      InWarranty: true,\n      WarrantyDays: 365,\n      ItemofLists: [],\n      ProductMovementList: []\n    };\n   }\n   setDefaultProductBatch() {\n    this.ItemofList = {\n      Id: 0,\n      ProductId: '00000000-0000-0000-0000-000000000000',\n      BatchNo: '' ,\n      AvailableQuantity: 0,\n      ManufacturingDate: null,\n      ExpiryDate: null,\n      UsedQty: 0,\n      TotalQty: 0,\n      HoldQty: 0,\n      ProductUnit: 'PCS',\n      tempQty: 0,\n      Remarks: '',\n    };\n   }\n   setDefaultProductMovement() {\n     this.ProductMovementData = {\n      Id: 0,\n      ProductId: '',\n      ProductCode: '',\n      ProductName: '',\n      TicketId: '',\n      QuoteId: '',\n      InvoiceId: '',\n      JobDate: new Date(),\n      CustomerName: '',\n      CustomerAddress: '',\n      UsedQty: 0,\n      QtyAvailable: 0,\n      QtyHold: 0,\n      QtyTotal: 0,\n      MovementDate: new Date(),\n     };\n   }\n   postProductDetails(t: string) {\n      return this.http.post(environment.apiUrl + '/api/Products/PostProduct/' + t, this.formData).pipe(map(Response => Response));\n  }\n  putProductDetails(t: string) {\n      return this.http.put(environment.apiUrl + '/api/Products/PutProduct/' + t, this.formData).pipe(map(Response => Response));\n  }\n  getAllProductList(token: string) {\n    return this.http.get(environment.apiUrl + '/api/Products/GetAllProduct/' + token).pipe(map(Response => Response));\n  }\n  refrestProductsList(token: string) {\n    return this.http.get(environment.apiUrl + '/api/Products/GetProducts/' + token).pipe(map(Response => Response));\n  }\n  getProductById(token: string, PId: string) {\n    return this.http.get(environment.apiUrl + '/api/Products/GetProductById/' + token + '/' + PId).pipe(map(Response => Response));\n  }\n  refrestProductlistSync(token: string) {\n    return this.http.get(environment.apiUrl + '/api/Products/GetProductListForWarranty/' + token).pipe(map( Response => Response));\n  }\n\n\n  onProductStatusChange(token, PId) {\n    return this.http.put(environment.apiUrl + '/api/Products/onProductStatusChange/' + token + '/' + PId, null).pipe(map(Response => {return Response;}));\n  }\n\n  //#region service\n  postServiceDetails(token: string) {\n    return this.http.post(environment.apiUrl + '/api/Products/PostService/' + token, this.serviceformData).pipe(map(Response => { return Response;}));\n  }\n  putServiceDetails(token: string) {\n      return this.http.put(environment.apiUrl + '/api/Products/PutService/' + token, this.serviceformData).pipe(map(Response => { return Response;}));\n  }\n  refrestServicesList(token: string) {\n    return this.http.get(environment.apiUrl + '/api/Products/GetService/' + token).pipe(map(Response => { return Response;}));\n  }\n  onServiceStatusChange(token: string, ServiceId: string) {\n    return this.http.put(environment.apiUrl + '/api/Products/onServiceStatusChange/' + token + '/' + ServiceId, null).pipe(map(Response => {return Response;}));\n  }\n  GetRandamUniqueId(token: string) {\n    return this.http.get(environment.apiUrl + '/api/Products/GetWarrantyUniqueKey/' + token).pipe(map(Response => {return Response;}));\n  }\n  //#endregion\n\n\n  /// *******************************************************************************/\n  // Brands methods (api) Begin\n  postBrandDetails(token: string) {\n      return this.http.post(environment.apiUrl + '/api/Products/PostBrand/' + token, this.BrandformData).pipe(map(Response => {return Response;}));\n  }\n  putBrandDetails(token: string) {\n    return this.http.put(environment.apiUrl + '/api/Products/PutBrand/' + token, this.BrandformData).pipe(map(Response => {return Response;}));\n  }\n  refrestBrand(token: string) {\n    return this.http.get(environment.apiUrl + '/api/Products/GetBrand/' + token).pipe(map(Response => {return Response;}));\n  }\n  // Brands methods (api) End\n  /// *******************************************************************************/\n\n\n    /// *******************************************************************************/\n  // Category methods (api) Begin\n  postCategoryDetails(token: string) {\n    return this.http.post(environment.apiUrl + '/api/Products/PostCategory/' + token, this.CategoryformData).pipe(map(Response => {return Response;}));\n  }\n  putCategoryDetails(token: string) {\n    return this.http.put(environment.apiUrl + '/api/Products/PutCategory/' + token, this.CategoryformData).pipe(map(Response => {return Response;}));\n  }\n  refrestCategory(token: string) {\n    return this.http.get(environment.apiUrl + '/api/Products/GetCategory/' + token).pipe(map(Response => {return Response;}));\n  }\n  // Category methods (api) End\n  /// *******************************************************************************/\n}\n","import { Injectable } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { environment } from 'src/environments/environment';\nimport { map } from 'rxjs/operators';\n@Injectable({ providedIn: 'root' })\nexport class DocumentUploadService {\n  constructor(private http: HttpClient) { }\n  uploadDocument(token: string, access_type: string, guid: string, id: string, remark: string, file: File) {\n    if (guid === '') { guid = '00000000-0000-0000-0000-000000000000'; }\n    if (id === '') { id = '0'; }\n    const formData = new FormData();\n    formData.append('file', file);\n    return this.http.post(environment.apiUrl + '/api-aws-doc-upload', formData, {\n      reportProgress: true,\n      headers: {\n        \"ACCESS_KEY\": environment.Accesskey,\n        \"ACCESS_TYPE\": access_type,\n        \"ACCESS_TOKEN\": token,\n        \"ACCESS_GUID\": guid,\n        \"ACCESS_Id\": id,\n        \"Remark\": remark\n      }\n    }).pipe(map(response => response));\n  }\n  RemoveDocument(token: string, access_type: string, guid: string, id: string, remark: string) {\n    if (guid === '') { guid = '00000000-0000-0000-0000-000000000000'; }\n    if (id === '') { id = '0'; }\n    return this.http.delete(environment.apiUrl + '/api-aws-doc-remove', {\n      reportProgress: true,\n      headers: {\n        \"ACCESS_KEY\": environment.Accesskey,\n        \"ACCESS_TYPE\": access_type,\n        \"ACCESS_TOKEN\": token,\n        \"ACCESS_GUID\": guid,\n        \"ACCESS_Id\": id,\n        \"Remark\": remark\n      }\n    }).pipe(map(response => response));\n  }\n  uploadDocuments(token: string, access_type: string, guid: string, id: string, remark: string, file: File) {\n    if (guid === '') { guid = '00000000-0000-0000-0000-000000000000'; }\n    if (id === '') { id = '0'; }\n    const formData = new FormData();\n    formData.append('file', file);\n    return this.http.post(environment.apiUrl + '/api-aws-doc-uploads', formData, {\n      reportProgress: true,\n      headers: {\n        \"ACCESS_KEY\": environment.Accesskey,\n        \"ACCESS_TYPE\": access_type,\n        \"ACCESS_TOKEN\": token,\n        \"ACCESS_GUID\": guid,\n        \"ACCESS_Id\": id,\n        \"Remark\": remark\n      }\n    }).pipe(map(response => response));\n  }\n  uploadBase64Document(token: string, access_type: string, guid: string, id: string, base64: string, name: string, size: string) {\n    if (guid === '') { guid = '00000000-0000-0000-0000-000000000000'; }\n    if (id === '') { id = '0'; }\n    return this.http.post(environment.apiUrl + '/api-aws-doc-base64-upload',\n      {\n        \"Base64\": base64\n      },\n      {\n        reportProgress: true,\n        headers: {\n          \"ACCESS_KEY\": environment.Accesskey,\n          \"ACCESS_TYPE\": access_type,\n          \"ACCESS_TOKEN\": token,\n          \"ACCESS_GUID\": guid,\n          \"ACCESS_Id\": id,\n          \"Base64Name\": name,\n          \"Base64Size\": size,\n          'Content-Type': 'application/json'\n        }\n      }).pipe(map(response => response));\n  }\n}\n\n","import { __decorate, __metadata } from 'tslib';\nimport { EventEmitter, Renderer2, ViewChild, ElementRef, Input, Output, Component, forwardRef, NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { NG_VALUE_ACCESSOR, NG_VALIDATORS, FormsModule } from '@angular/forms';\n\nimport * as ɵngcc0 from '@angular/core';\n\nconst _c0 = [\"selectControll\"];\nconst _c1 = [[[\"option\"], [\"optgroup\"]]];\nconst _c2 = [\"option, optgroup\"];\nvar LSelect2Component_1;\r\nlet LSelect2Component = LSelect2Component_1 = class LSelect2Component {\r\n    constructor(_renderer) {\r\n        this._renderer = _renderer;\r\n        this.options = {};\r\n        this.required = false;\r\n        this.maxCount = Number.MAX_SAFE_INTEGER;\r\n        this.minCount = Number.MIN_SAFE_INTEGER;\r\n        this.valueChange = new EventEmitter();\r\n        this._onChange = (_) => { };\r\n        this._onTouched = () => { };\r\n    }\r\n    ngOnInit() { }\r\n    ngAfterViewInit() {\r\n        this._jqueryElement = $(this.selectControll.nativeElement);\r\n        this.initSelect2();\r\n        this._jqueryElement.on('select2:select select2:unselect', (e) => {\r\n            let data = this._jqueryElement.select2('data');\r\n            for (let item of data) {\r\n                delete item.element;\r\n                delete item.disabled;\r\n                delete item.selected;\r\n            }\r\n            if (!this.options.multiple) {\r\n                data = (e.type == 'select2:unselect') ? null : data[0];\r\n            }\r\n            this.selectedValue = data;\r\n            this._onChange(data);\r\n            this.valueChange.emit(data);\r\n        });\r\n        if (this.selectedValue) {\r\n            this.setSelect2Value(this.selectedValue);\r\n        }\r\n    }\r\n    ngOnChanges(changes) {\r\n        if (!this._jqueryElement)\r\n            return;\r\n        if (this.hasChanged(changes)) {\r\n            this.initSelect2();\r\n            if (this.selectedValue) {\r\n                this.setSelect2Value(this.selectedValue);\r\n            }\r\n        }\r\n    }\r\n    ngOnDestroy() {\r\n        this._jqueryElement.select2('destroy');\r\n    }\r\n    writeValue(value) {\r\n        this.selectedValue = value;\r\n        if (value !== null && value !== undefined)\r\n            this.setSelect2Value(value);\r\n    }\r\n    registerOnChange(fn) {\r\n        this._onChange = fn;\r\n    }\r\n    registerOnTouched(fn) {\r\n        this._onTouched = fn;\r\n    }\r\n    setDisabledState(isDisabled) {\r\n        this.disabled = isDisabled;\r\n    }\r\n    validate(c) {\r\n        if (this.disabled) {\r\n            return null;\r\n        }\r\n        let length = this.selectedValue ? this.selectedValue.length : 0;\r\n        if (this.required === true && length === 0) {\r\n            return { required: true };\r\n        }\r\n        if (this.minCount > 0 && length < this.minCount) {\r\n            return { minCount: true };\r\n        }\r\n        if (this.maxCount > 0 && length > this.maxCount) {\r\n            return { maxCount: true };\r\n        }\r\n        return null;\r\n    }\r\n    initSelect2() {\r\n        if (this._jqueryElement.hasClass('select2-hidden-accessible') == true) {\r\n            this._jqueryElement.select2('destroy');\r\n            this._renderer.setProperty(this.selectControll.nativeElement, 'innerHTML', '');\r\n        }\r\n        let options = {\r\n            data: this.data\r\n        };\r\n        Object.assign(options, this.options);\r\n        this._jqueryElement.select2(options);\r\n    }\r\n    setSelect2Value(value) {\r\n        if (!this._jqueryElement || !value) {\r\n            this.selectedValue = value;\r\n            return;\r\n        }\r\n        ;\r\n        let targetVal = value['id'] || value;\r\n        if (Array.isArray(value)) {\r\n            targetVal = value.map(x => x['id']);\r\n        }\r\n        this._jqueryElement.val(targetVal).trigger('change');\r\n    }\r\n    hasChanged(changes) {\r\n        if (changes['data'] && JSON.stringify(changes['data'].previousValue) !== JSON.stringify(changes['data'].currentValue)) {\r\n            return true;\r\n        }\r\n        if (changes['options'] && JSON.stringify(changes['options'].previousValue) !== JSON.stringify(changes['options'].currentValue)) {\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n};\nLSelect2Component.ɵfac = function LSelect2Component_Factory(t) { return new (t || LSelect2Component)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.Renderer2)); };\nLSelect2Component.ɵcmp = ɵngcc0.ɵɵdefineComponent({ type: LSelect2Component, selectors: [[\"l-select2\"]], viewQuery: function LSelect2Component_Query(rf, ctx) { if (rf & 1) {\n        ɵngcc0.ɵɵviewQuery(_c0, true);\n    } if (rf & 2) {\n        var _t;\n        ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.selectControll = _t.first);\n    } }, inputs: { options: \"options\", required: \"required\", maxCount: \"maxCount\", minCount: \"minCount\", disabled: \"disabled\", data: \"data\" }, outputs: { valueChange: \"valueChange\" }, features: [ɵngcc0.ɵɵProvidersFeature([\n            {\n                provide: NG_VALUE_ACCESSOR,\n                useExisting: forwardRef(() => LSelect2Component_1),\n                multi: true\n            },\n            {\n                provide: NG_VALIDATORS,\n                useExisting: forwardRef(() => LSelect2Component_1),\n                multi: true\n            }\n        ]), ɵngcc0.ɵɵNgOnChangesFeature], ngContentSelectors: _c2, decls: 3, vars: 1, consts: [[2, \"width\", \"100%\", 3, \"disabled\"], [\"selectControll\", \"\"]], template: function LSelect2Component_Template(rf, ctx) { if (rf & 1) {\n        ɵngcc0.ɵɵprojectionDef(_c1);\n        ɵngcc0.ɵɵelementStart(0, \"select\", 0, 1);\n        ɵngcc0.ɵɵprojection(2);\n        ɵngcc0.ɵɵelementEnd();\n    } if (rf & 2) {\n        ɵngcc0.ɵɵproperty(\"disabled\", ctx.disabled);\n    } }, encapsulation: 2 });\r\nLSelect2Component.ctorParameters = () => [\r\n    { type: Renderer2 }\r\n];\r\n__decorate([\r\n    ViewChild('selectControll'),\r\n    __metadata(\"design:type\", ElementRef)\r\n], LSelect2Component.prototype, \"selectControll\", void 0);\r\n__decorate([\r\n    Input(),\r\n    __metadata(\"design:type\", Array)\r\n], LSelect2Component.prototype, \"data\", void 0);\r\n__decorate([\r\n    Input(),\r\n    __metadata(\"design:type\", Boolean)\r\n], LSelect2Component.prototype, \"disabled\", void 0);\r\n__decorate([\r\n    Input(),\r\n    __metadata(\"design:type\", Object)\r\n], LSelect2Component.prototype, \"options\", void 0);\r\n__decorate([\r\n    Input(),\r\n    __metadata(\"design:type\", Boolean)\r\n], LSelect2Component.prototype, \"required\", void 0);\r\n__decorate([\r\n    Input(),\r\n    __metadata(\"design:type\", Number)\r\n], LSelect2Component.prototype, \"maxCount\", void 0);\r\n__decorate([\r\n    Input(),\r\n    __metadata(\"design:type\", Number)\r\n], LSelect2Component.prototype, \"minCount\", void 0);\r\n__decorate([\r\n    Output(),\r\n    __metadata(\"design:type\", EventEmitter)\r\n], LSelect2Component.prototype, \"valueChange\", void 0);\r\nLSelect2Component = LSelect2Component_1 = __decorate([ __metadata(\"design:paramtypes\", [Renderer2])\r\n], LSelect2Component);\n\nlet LSelect2Module = class LSelect2Module {\r\n};\nLSelect2Module.ɵmod = ɵngcc0.ɵɵdefineNgModule({ type: LSelect2Module });\nLSelect2Module.ɵinj = ɵngcc0.ɵɵdefineInjector({ factory: function LSelect2Module_Factory(t) { return new (t || LSelect2Module)(); }, imports: [[\n            CommonModule,\n            FormsModule\n        ]] });\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(LSelect2Component, [{\n        type: Component,\n        args: [{\n                selector: 'l-select2',\n                template: \"<select #selectControll [disabled]=\\\"disabled\\\" style=\\\"width: 100%\\\">\\r\\n  <ng-content select=\\\"option, optgroup\\\">\\r\\n  </ng-content>\\r\\n</select>\",\n                providers: [\n                    {\n                        provide: NG_VALUE_ACCESSOR,\n                        useExisting: forwardRef(() => LSelect2Component_1),\n                        multi: true\n                    },\n                    {\n                        provide: NG_VALIDATORS,\n                        useExisting: forwardRef(() => LSelect2Component_1),\n                        multi: true\n                    }\n                ]\n            }]\n    }], function () { return [{ type: ɵngcc0.Renderer2 }]; }, { options: [{\n            type: Input\n        }], required: [{\n            type: Input\n        }], maxCount: [{\n            type: Input\n        }], minCount: [{\n            type: Input\n        }], valueChange: [{\n            type: Output\n        }], disabled: [{\n            type: Input\n        }], selectControll: [{\n            type: ViewChild,\n            args: ['selectControll']\n        }], data: [{\n            type: Input\n        }] }); })();\n(function () { (typeof ngJitMode === \"undefined\" || ngJitMode) && ɵngcc0.ɵɵsetNgModuleScope(LSelect2Module, { declarations: function () { return [LSelect2Component]; }, imports: function () { return [CommonModule,\n        FormsModule]; }, exports: function () { return [LSelect2Component]; } }); })();\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(LSelect2Module, [{\n        type: NgModule,\n        args: [{\n                imports: [\n                    CommonModule,\n                    FormsModule\n                ],\n                declarations: [\n                    LSelect2Component\n                ],\n                exports: [\n                    LSelect2Component\n                ]\n            }]\n    }], null, null); })();\n\n/**\r\n * Generated bundle index. Do not edit.\r\n */\n\nexport { LSelect2Component, LSelect2Module };\n\n//# sourceMappingURL=ngx-select2.js.map"]}