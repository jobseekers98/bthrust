{"version":3,"sources":["webpack:///src/app/services/reminder.service.ts","webpack:///src/app/generic-utils/Reminder-Module/ReminderModule.component.ts","webpack:///node_modules/email-validator/index.js","webpack:///src/app/generic-utils/Reminder-Module/ReminderModule.module.ts"],"names":["ReminderService","http","TicketReminder","Id","TicketId","Subject","Body","MailTo","RecurringStartDate","RecurringEndDate","Duration","VisitFrequency","ReminderDate","IsActive","InvoiceReminder","InvoiceId","QuoteReminder","QuoteId","t","r","type","get","apiUrl","pipe","response","id","put","post","qid","providedIn","ReminderModuleComponent","service","quoteservice","invoiceservice","reminderservice","toastr","genicservice","currentUTCDate","Date","minDate","year","Number","getFullYear","month","getMonth","day","getDate","skippublickholiday","recurringList2","tooltip2","QuoteReminderList","IsVisibleContract","visit_total","loading","isValid","isReminderDateValid","isMailValid","isSubjectValid","isBodyValid","InitiateObject","getReminder","Token","ReminderModule","subscribe","res","Message","data","result","formData","CustomerEmail","QuoteData","length","checkbox1","document","querySelector","checked","error","console","log","InvoiceData","todaydate","TODAY_DATE_IN_STRING","numdays","visitfruq","totalVisit","now","setDate","toISOString","setTimeout","TicketRecurringHelper","el1","getElementById","click","el2","validateForm","postQuoteReminder","success","MessageDescription","warning","rid","removeQuoteReminder","Type","IsFor","RecurringDuration","RecurringVisitFrequency","putTicketRecurringHelperDetails","Count","List","demoClasses","demoClasses2","undefined","arrEmail","split","forEach","element","e","enb","Boolean","target","SelectReminder","selector","template","styles","tester","exports","validate","email","valid","test","parts","domainParts","some","part","ReminderModuleModule","provide","useClass","imports","declarations","providers"],"mappings":"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","file":"default~application-invoices-invoices-module~application-quotes-quotes-module~application-tickets-ti~c0f79758-es5.js","sourcesContent":["import { Injectable } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { environment } from 'src/environments/environment';\nimport { map } from 'rxjs/operators';\nimport { TicketReminder } from './ticket.module';\nimport { QuoteReminder } from './quote.module';\nimport { InvoiceReminder } from './invoice.module';\n@Injectable({\n  providedIn: 'root'\n})\nexport class ReminderService {\n  TicketReminder: TicketReminder;\n  TicketReminderList: TicketReminder[];\n  QuoteReminder: QuoteReminder;\n  QuoteReminderList: QuoteReminder[];\n  InvoiceReminder: InvoiceReminder;\n  InvoiceReminderList: InvoiceReminder[];\n  constructor(private http: HttpClient) {\n    this.TicketReminder = {\n      Id: 0,\n      TicketId: '00000000-0000-0000-0000-000000000000',\n      Subject: '',\n      Body: '',\n      MailTo: '',\n      RecurringStartDate: null,\n      RecurringEndDate: null,\n      Duration: 0,\n      VisitFrequency: 0,\n      ReminderDate: null,\n      IsActive: true\n    }\n    this.InvoiceReminder = {\n      Id: 0,\n      InvoiceId: '00000000-0000-0000-0000-000000000000',\n      Subject: '',\n      Body: '',\n      MailTo: '',\n      RecurringStartDate: null,\n      RecurringEndDate: null,\n      Duration: 0,\n      VisitFrequency: 0,\n      ReminderDate: null,\n      IsActive: true\n    }\n    this.QuoteReminder = {\n      Id: 0,\n      QuoteId: '00000000-0000-0000-0000-000000000000',\n      Subject: '',\n      Body: '',\n      MailTo: '',\n      RecurringStartDate: null,\n      RecurringEndDate: null,\n      Duration: 0,\n      VisitFrequency: 0,\n      ReminderDate: null,\n      IsActive: true\n    }\n   }\n  public getReminder(t: string, r: string, type: string) {\n    return this.http.get(environment.apiUrl + '/api/Reminder/GetReminders/' + t + '/' + r + '/' + type).pipe(map(response => {return response;}));\n  }\n  public getAllReminders(t: string, type: string) {\n    return this.http.get(environment.apiUrl + '/api/Reminder/GetAllReminders/' + t + '/' + type).pipe(map(response => {return response;}));\n  }\n  public putReminderStatus(t: string, id: number, type: string) {\n    return this.http.put(environment.apiUrl + '/api/Reminder/PutReminderStatus/' + t + '/' + id + '/' + type, null).pipe(map(response => {return response;}));\n  }\n  public postQuoteReminder(t: string, type: string) {\n    return this.http.post(environment.apiUrl + '/api/Reminder/PostReminder/' + t + '/' + type, this.QuoteReminder).pipe(map(response => {return response;}));\n  }\n  public removeQuoteReminder(t: string, id: number, qid: string, type: string) {\n    return this.http.delete(environment.apiUrl + '/api/Reminder/DeleteQuotationReminder/' + t + '/' + id  + '/' + qid + '/' + type).pipe(map(response => {return response;}));\n  }\n}\n\n","import { Component, Input, OnInit } from '@angular/core';\r\nimport { ToastrService } from 'ngx-toastr';\r\nimport { GenicProfileService } from 'src/app/services/genicprofile.service';\r\nimport { QuoteReminder } from 'src/app/services/quote.module';\r\nimport { QuoteService } from 'src/app/services/quote.service';\r\nimport { ReminderService } from 'src/app/services/reminder.service';\r\nimport { TicketService } from 'src/app/services/ticket.service';\r\nimport * as EmailValidator from 'email-validator';\r\nimport { InvoiceService } from 'src/app/services/invoice.service';\r\n@Component({\r\n    selector: 'generic-reminder-module',\r\n    template: `\r\n                  <div class=\"kt-portlet kt-portlet--height-fluid kt-widget19\">\r\n                    <div class=\"kt-portlet__head\">\r\n                      <div class=\"kt-portlet__head-label\">\r\n                        <h3 class=\"kt-portlet__head-title\">\r\n                        Set Reminder\r\n                        </h3> &nbsp; &nbsp;\r\n                        <label class=\"kt-checkbox kt-checkbox--solid kt-checkbox--brand\" style=\"margin-top: -12px;\">\r\n                        <input type=\"checkbox\" id=\"addremindercheckbox\"\r\n                             (change)=\"SelectReminder()\">\r\n                        <span></span>\r\n                        </label>\r\n                      </div>\r\n                    </div>\r\n                    <div class=\"row\" *ngIf=\"IsVisibleContract\">\r\n                      <div class=\"kt-portlet__body\">\r\n                      <div class=\"col\">\r\n                        <table class=\"table\" *ngIf=\"data.length > 0\">\r\n                            <tr>\r\n                                <th *ngIf=\"this.ReminderModule === 'ticket'\">TicketId</th>\r\n                                <th *ngIf=\"this.ReminderModule === 'quote'\">QuoteId</th>\r\n                                <th *ngIf=\"this.ReminderModule === 'invoice'\">InvoiceId</th>\r\n                                <th>Subject</th><th>Body</th><th>Mail To</th><th>Reminder Date</th><th>Action</th>\r\n                            </tr>\r\n                            <tr *ngFor=\"let x of data; let i=index; async\">\r\n                                <td>{{x.RNo}}</td>\r\n                                <td>{{x.Subject}}</td>\r\n                                <td>{{x.Body}}</td>\r\n                                <td>{{x.MailTo}}</td>\r\n                                <td>{{x.ReminderDate | date:'EEEE, MMMM d, y':'+0000'}}</td>\r\n                                <td><a href=\"javascript:;\" (click)=\"removeReminder(x.Id, x.RId, this.ReminderModule)\"><i class=\"far fa-trash-alt text-danger\"></i></a></td>\r\n                            </tr>\r\n                            <tr><td colspan=\"6\"></td></tr>\r\n                        </table>\r\n                      </div>\r\n                     </div>\r\n                    </div>\r\n                    <div class=\"row\" *ngIf=\"IsVisibleContract\">\r\n                      <div class=\"kt-portlet__body\">\r\n                        <div class=\"col-md-3\">\r\n                          <label>Reminder Type<span class=\"text-danger\">*</span></label>\r\n                          <div class=\"kt-widget19__wrapper\">\r\n                            <select name=\"country\"\r\n                            class=\"form-control\"\r\n                            name=\"Duration\"\r\n                            #Duration=\"ngModel\"\r\n                            [(ngModel)]=\"reminderservice.QuoteReminder.Duration\"\r\n                            (change)=\"ChangeReminderDuration()\"\r\n                            aria-describedby=\"country-error\"\r\n                            aria-invalid=\"false\">\r\n                            <option value=\"{{0}}\">One Time Reminder</option>\r\n                            <option value=\"{{1}}\">Daily Reminder</option>\r\n                            <option value=\"{{7}}\">Weekly Reminder</option>\r\n                            <option value=\"{{30}}\">Monthly Reminder</option>\r\n                            <option value=\"{{90}}\">Quarterly Reminder</option>\r\n                            <option value=\"{{180}}\">Half Yearly Reminder</option>\r\n                        </select>\r\n                          </div>\r\n                        </div>\r\n                        <div class=\"col-md-2\" *ngIf=\"reminderservice.QuoteReminder.Duration === 0\">\r\n                          <label>Reminder Date<span class=\"text-danger\">*</span></label>\r\n                              <div class=\"input-group\">\r\n                                <input type=\"text\" class=\"form-control\" ngbDatepicker (click)=\"dateReminderDate.toggle()\"\r\n                                      style=\"height: 37px !important;\"\r\n                                      [minDate]=\"minDate\"\r\n                                      dateFormat=\"yyyy-MMM-dd\"\r\n                                      #dateReminderDate=\"ngbDatepicker\"\r\n                                      name=\"reminderservice.QuoteReminder.ReminderDate\"\r\n                                      #reminderservice.QuoteReminder.ReminderDate=\"ngModel\"\r\n                                      [(ngModel)]=\"reminderservice.QuoteReminder.ReminderDate\"\r\n                                      placeholder=\"dd-MM-yyyy\" [class.is-invalid]=\"!isReminderDateValid\"/>\r\n                                </div>\r\n                        </div>\r\n                        <div class=\"col-md-2\" *ngIf=\"reminderservice.QuoteReminder.Duration > 0\">\r\n                          <label>Start Date<span class=\"text-danger\">*</span></label>\r\n                              <div class=\"input-group\">\r\n                                <input type=\"text\" class=\"form-control\" ngbDatepicker (click)=\"dateRecurringStartDate.toggle()\"\r\n                                      style=\"height: 37px !important;\"\r\n                                      [minDate]=\"minDate\"\r\n                                      dateFormat=\"yyyy-MMM-dd\"\r\n                                      #dateRecurringStartDate=\"ngbDatepicker\"\r\n                                      name=\"quoteService.QuoteReminder.RecurringStartDate\"\r\n                                      #reminderservice.QuoteReminder.RecurringStartDate=\"ngModel\"\r\n                                      [(ngModel)]=\"reminderservice.QuoteReminder.RecurringStartDate\"\r\n                                      placeholder=\"dd-MM-yyyy\"/>\r\n\r\n                              </div>\r\n                        </div>\r\n                        <div class=\"col-md-1\" *ngIf=\"reminderservice.QuoteReminder.Duration > 0\">\r\n                            <label>Frequency<span class=\"text-danger\">*</span></label>\r\n                              <div class=\"input-group\">\r\n                                <input type=\"text\" class=\"form-control\"\r\n                                        style=\"height: 37px !important;\"\r\n                                        name=\"VisitFrequency\"\r\n                                        #VisitFrequency=\"ngModel\"\r\n                                        [(ngModel)]=\"reminderservice.QuoteReminder.VisitFrequency\"\r\n                                        (change)=\"RecurringTimeCalculator()\"/>\r\n                                </div>\r\n                        </div>\r\n                        <div class=\"col-md-2\">\r\n                                <label>&nbsp;</label>\r\n                                <div class=\"input-group\">\r\n                              <a href=\"javascript:;\" class=\"btn btn-brand\"\r\n                                  *ngIf=\"reminderservice.QuoteReminder.Duration == 7\"\r\n                                  data-toggle=\"modal\"\r\n                                  id=\"remindershowWeekModal\"\r\n                                  data-target=\"#reminderdetailModalWeek\">\r\n                                 Set Week Days</a>\r\n                              <a href=\"javascript:;\" class=\"btn btn-brand\"\r\n                                  *ngIf=\"reminderservice.QuoteReminder.Duration == 30\"\r\n                                  data-toggle=\"modal\"\r\n                                  id=\"remindershowMonthModal\"\r\n                                  data-target=\"#reminderdetailModalMonth\">\r\n                                 Set Month Date</a>\r\n                                </div>\r\n                          </div>\r\n                        <div class=\"col-md-2\" *ngIf=\"reminderservice.QuoteReminder.Duration > 0\">\r\n                        <label>skip weekly/Public off</label>\r\n                        <div class=\"input-group\">\r\n                            <span class=\"kt-switch kt-switch--icon\"><label><input\r\n                                (change)=\"SetSkipOff($event)\" [checked]=\"skippublickholiday\"\r\n                                type=\"checkbox\"><span></span></label></span>\r\n                            <span class=\"swither-bootstrap-learn switcher-customer\">\r\n                            </span>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"col-md-2\" *ngIf=\"reminderservice.QuoteReminder.Duration > 0\">\r\n                            <label>Total Reminder</label>\r\n                            <div class=\"btooltip5\" (click)=\"clickOntoolTip2()\">\r\n                            <i class=\"fa fa-question-circle text-info\" style=\"cursor: pointer;\"></i>\r\n                                <span [ngClass]=\"this.tooltip2 ? 'btooltiptext5-1':'btooltiptext5'\" >\r\n                                    <span *ngFor=\"let v of recurringList2\">\r\n                                        {{v | date}} ({{v | date:'EEEE'}})<br>\r\n                                    </span>\r\n                                </span>\r\n                            </div>\r\n                              <div class=\"input-group\">\r\n                                <label class=\"form-control\" style=\"background-color: #f7f8fa;\" >{{visit_total}} Reminder</label>\r\n                                </div>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                    <div class=\"row\" *ngIf=\"IsVisibleContract\">\r\n                      <div class=\"kt-portlet__body\">\r\n                      <div class=\"col-md-3\">\r\n                        <label>Mail To<span class=\"text-danger\">*</span></label>&nbsp;\r\n                        <div class=\"btooltip1\"> <i\r\n                            class=\"fa fa-question-circle text-info\"\r\n                            style=\"cursor: help;\"></i>\r\n                        <span class=\"btooltip1text\">Can send up to 5 emails, separated by comma</span>\r\n                    </div>\r\n                        <div class=\"input-group\">\r\n                          <input type=\"text\" class=\"form-control\"\r\n                                style=\"height: 37px !important;\"\r\n                                name=\"reminderservice.QuoteReminder.MailTo\"\r\n                                #reminderservice.QuoteReminder.MailTo=\"ngModel\"\r\n                                [(ngModel)]=\"reminderservice.QuoteReminder.MailTo\"\r\n                                placeholder=\"someone@domain.com\" [class.is-invalid]=\"!isMailValid\"/>\r\n                        </div>\r\n                      </div>\r\n                      <div class=\"col-md-3\">\r\n                        <label>Subject<span class=\"text-danger\">*</span></label>\r\n                        <div class=\"input-group\">\r\n                          <input type=\"text\" class=\"form-control\"\r\n                                style=\"height: 37px !important;\"\r\n                                name=\"reminderservice.QuoteReminder.Subject\"\r\n                                #reminderservice.QuoteReminder.Subject=\"ngModel\"\r\n                                [(ngModel)]=\"reminderservice.QuoteReminder.Subject\"\r\n                                placeholder=\"Subject\" [class.is-invalid]=\"!isSubjectValid\"/>\r\n                        </div>\r\n                      </div>\r\n                      <div class=\"col-md-4\">\r\n                        <label>Body<span class=\"text-danger\">*</span></label>\r\n                        <div class=\"input-group\">\r\n                          <textarea class=\"form-control\"  name=\"reminderservice.QuoteReminder.Body\"\r\n                          #reminderservice.QuoteReminder.Body=\"ngModel\"\r\n                          [(ngModel)]=\"reminderservice.QuoteReminder.Body\" rows=\"1\"\r\n                          placeholder=\"Body\" [class.is-invalid]=\"!isBodyValid\"></textarea>\r\n                        </div>\r\n                      </div>\r\n                      <div class=\"col-md-2\">\r\n                        <label>&nbsp;</label>\r\n                        <div class=\"form-group\">\r\n                          <a href=\"javascript:;\" *ngIf=\"!this.loading\"\r\n                          (click)=\"onSubmit()\"\r\n                              class=\"btn btn-brand btn-sm\">\r\n                            Add Reminder \r\n                          </a>\r\n                          <a href=\"javascript:;\" *ngIf=\"this.loading\"\r\n                              class=\"btn btn-brand btn-sm\">\r\n                              <i class=\"fa fa-spinner fa-spin\"></i>\r\n                          </a>\r\n                      </div>\r\n                      </div>\r\n                    </div>\r\n                    </div>\r\n                  </div>\r\n                  <div class=\"modal fade\" id=\"reminderdetailModalWeek\">\r\n    <div class=\"modal-dialog modal-lg\">\r\n        <div class=\"modal-content\">\r\n            <form>\r\n                <div class=\"modal-header\">\r\n                    <h4 class=\"modal-title\">{{service.formData.TicketId}}</h4>\r\n                    <button type=\"button\" class=\"close\" id=\"reminderdetailModalWeekbutton\" data-dismiss=\"modal\"></button>\r\n                </div>\r\n                <div class=\"modal-body\">\r\n                    <div class=\"detail-inner\">\r\n                        <div class=\"details-tabs\">\r\n                            <ul class=\"nav nav-tabs\" role=\"tablist\">\r\n                                <li class=\"nav-item\">\r\n                                    <a class=\"nav-link active\" data-toggle=\"tab\" href=\"#dtab1\">WEEK</a>\r\n                                </li>\r\n                            </ul>\r\n                            <div class=\"tab-content\">\r\n                                <div id=\"dtab1\" class=\"tab-pane active\">\r\n                                    <div class=\"row\">\r\n                                        <div class=\"col-md-12 col-sm-12\">\r\n                                            <div class=\"ticket-month\">\r\n                                                <table class=\"table\">\r\n                                                    <tbody>\r\n                                                        <tr>\r\n                                                            <td>\r\n                                                                <label class=\"container-check\">\r\n                                                                    <p>Sun</p>\r\n                                                                    <input type=\"checkbox\" checked=\"checked\"\r\n                                                                        name=\"SundayIsActive\" #SundayIsActive=\"ngModel\"\r\n                                                                        [(ngModel)]=\"service.TicketRecurringHelper.SundayIsActive\">\r\n                                                                    <span class=\"checkmark\"></span>\r\n                                                                </label>\r\n                                                            </td>\r\n                                                            <td>\r\n                                                                <label class=\"container-check\">\r\n                                                                    <p>Mon</p>\r\n                                                                    <input type=\"checkbox\" checked=\"checked\"\r\n                                                                        name=\"MondayIsActive\" #MondayIsActive=\"ngModel\"\r\n                                                                        [(ngModel)]=\"service.TicketRecurringHelper.MondayIsActive\">\r\n                                                                    <span class=\"checkmark\"></span>\r\n                                                                </label>\r\n                                                            </td>\r\n                                                            <td>\r\n                                                                <label class=\"container-check\">\r\n                                                                    <p>Tue</p>\r\n                                                                    <input type=\"checkbox\" checked=\"checked\"\r\n                                                                        name=\"TuesdayIsActive\"\r\n                                                                        #TuesdayIsActive=\"ngModel\"\r\n                                                                        [(ngModel)]=\"service.TicketRecurringHelper.TuesdayIsActive\">\r\n                                                                    <span class=\"checkmark\"></span>\r\n                                                                </label>\r\n                                                            </td>\r\n                                                            <td>\r\n                                                                <label class=\"container-check\">\r\n                                                                    <p>Wed</p>\r\n                                                                    <input type=\"checkbox\" checked=\"checked\"\r\n                                                                        name=\"WednesdayIsActive\"\r\n                                                                        #WednesdayIsActive=\"ngModel\"\r\n                                                                        [(ngModel)]=\"service.TicketRecurringHelper.WednesdayIsActive\">\r\n                                                                    <span class=\"checkmark\"></span>\r\n                                                                </label>\r\n                                                            </td>\r\n                                                            <td>\r\n                                                                <label class=\"container-check\">\r\n                                                                    <p>Thu</p>\r\n                                                                    <input type=\"checkbox\" checked=\"checked\"\r\n                                                                        name=\"ThursdayIsActive\"\r\n                                                                        #ThursdayIsActive=\"ngModel\"\r\n                                                                        [(ngModel)]=\"service.TicketRecurringHelper.ThursdayIsActive\">\r\n                                                                    <span class=\"checkmark\"></span>\r\n                                                                </label>\r\n                                                            </td>\r\n                                                            <td>\r\n                                                                <label class=\"container-check\">\r\n                                                                    <p>Fri</p>\r\n                                                                    <input type=\"checkbox\" checked=\"checked\"\r\n                                                                        name=\"FridayIsActive\" #FridayIsActive=\"ngModel\"\r\n                                                                        [(ngModel)]=\"service.TicketRecurringHelper.FridayIsActive\">\r\n                                                                    <span class=\"checkmark\"></span>\r\n                                                                </label>\r\n                                                            </td>\r\n                                                            <td>\r\n                                                                <label class=\"container-check\">\r\n                                                                    <p>Sat</p>\r\n                                                                    <input type=\"checkbox\" checked=\"checked\"\r\n                                                                        name=\"SaturdayIsActive\"\r\n                                                                        #SaturdayIsActive=\"ngModel\"\r\n                                                                        [(ngModel)]=\"service.TicketRecurringHelper.SaturdayIsActive\">\r\n                                                                    <span class=\"checkmark\"></span>\r\n                                                                </label>\r\n                                                            </td>\r\n                                                        </tr>\r\n                                                    </tbody>\r\n                                                </table>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div class=\"col-md-12 col-sm-12\">\r\n                                        <button type=\"button\" (click)=\"TicketRecurringHelper(1)\"\r\n                                            class=\"btn btn-secondary\">Changes Apply</button>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    </div>\r\n</div>\r\n                  <div class=\"modal fade\" id=\"reminderdetailModalMonth\">\r\n    <div class=\"modal-dialog modal-lg\">\r\n        <div class=\"modal-content\">\r\n            <form>\r\n                <div class=\"modal-header\">\r\n                    <h4 class=\"modal-title\">{{service.formData.TicketId}}</h4>\r\n                    <button type=\"button\" class=\"close\" id=\"reminderdetailModalMonthbutton\" data-dismiss=\"modal\"></button>\r\n                </div>\r\n                <div class=\"modal-body\">\r\n                    <div class=\"detail-inner\">\r\n                        <div class=\"details-tabs\">\r\n                            <ul class=\"nav nav-tabs\" role=\"tablist\">\r\n                                <li class=\"nav-item\">\r\n                                    <a class=\"nav-link active\" data-toggle=\"tab\" href=\"#dtab2\">MONTH</a>\r\n                                </li>\r\n                            </ul>\r\n                            <div class=\"tab-content\">\r\n                                <div id=\"dtab2\" class=\"tab-pane active\">\r\n                                    <div class=\"row tickt-month-parent\">\r\n                                        <div class=\"col-md-12 col-sm-12\">\r\n                                            <div class=\"ticket-month\">\r\n\r\n                                                <table class=\"table\">\r\n                                                    <tbody>\r\n                                                        <tr>\r\n                                                            <td>\r\n                                                                <label class=\"container-check\">\r\n                                                                    <p>1</p>\r\n                                                                    <input type=\"checkbox\" checked=\"checked\"\r\n                                                                        name=\"Date1\" #Date1=\"ngModel\"\r\n                                                                        [(ngModel)]=\"service.TicketRecurringHelper.Date1\">\r\n                                                                    <span class=\"checkmark\"></span>\r\n                                                                </label>\r\n                                                            </td>\r\n                                                            <td>\r\n                                                                <label class=\"container-check\">\r\n                                                                    <p>2</p>\r\n                                                                    <input type=\"checkbox\" checked=\"checked\"\r\n                                                                        name=\"Date2\" #Date1=\"ngModel\"\r\n                                                                        [(ngModel)]=\"service.TicketRecurringHelper.Date2\">\r\n                                                                    <span class=\"checkmark\"></span>\r\n                                                                </label>\r\n                                                            </td>\r\n                                                            <td>\r\n                                                                <label class=\"container-check\">\r\n                                                                    <p>3</p>\r\n                                                                    <input type=\"checkbox\" checked=\"checked\"\r\n                                                                        name=\"Date3\" #Date1=\"ngModel\"\r\n                                                                        [(ngModel)]=\"service.TicketRecurringHelper.Date3\">\r\n                                                                    <span class=\"checkmark\"></span>\r\n                                                                </label>\r\n                                                            </td>\r\n                                                            <td>\r\n                                                                <label class=\"container-check\">\r\n                                                                    <p>4</p>\r\n                                                                    <input type=\"checkbox\" checked=\"checked\"\r\n                                                                        name=\"Date4\" #Date1=\"ngModel\"\r\n                                                                        [(ngModel)]=\"service.TicketRecurringHelper.Date4\">\r\n                                                                    <span class=\"checkmark\"></span>\r\n                                                                </label>\r\n                                                            </td>\r\n                                                            <td>\r\n                                                                <label class=\"container-check\">\r\n                                                                    <p>5</p>\r\n                                                                    <input type=\"checkbox\" checked=\"checked\"\r\n                                                                        name=\"Date5\" #Date1=\"ngModel\"\r\n                                                                        [(ngModel)]=\"service.TicketRecurringHelper.Date5\">\r\n                                                                    <span class=\"checkmark\"></span>\r\n                                                                </label>\r\n                                                            </td>\r\n                                                            <td>\r\n                                                                <label class=\"container-check\">\r\n                                                                    <p>6</p>\r\n                                                                    <input type=\"checkbox\" checked=\"checked\"\r\n                                                                        name=\"Date6\" #Date1=\"ngModel\"\r\n                                                                        [(ngModel)]=\"service.TicketRecurringHelper.Date6\">\r\n                                                                    <span class=\"checkmark\"></span>\r\n                                                                </label>\r\n                                                            </td>\r\n                                                            <td>\r\n                                                                <label class=\"container-check\">\r\n                                                                    <p>7</p>\r\n                                                                    <input type=\"checkbox\" checked=\"checked\"\r\n                                                                        name=\"Date7\" #Date1=\"ngModel\"\r\n                                                                        [(ngModel)]=\"service.TicketRecurringHelper.Date7\">\r\n                                                                    <span class=\"checkmark\"></span>\r\n                                                                </label>\r\n                                                            </td>\r\n                                                        </tr>\r\n\r\n\r\n                                                        <tr>\r\n                                                            <td>\r\n                                                                <label class=\"container-check\">\r\n                                                                    <p>8</p>\r\n                                                                    <input type=\"checkbox\" checked=\"checked\"\r\n                                                                        name=\"Date8\" #Date1=\"ngModel\"\r\n                                                                        [(ngModel)]=\"service.TicketRecurringHelper.Date8\">\r\n                                                                    <span class=\"checkmark\"></span>\r\n                                                                </label>\r\n                                                            </td>\r\n                                                            <td>\r\n                                                                <label class=\"container-check\">\r\n                                                                    <p>9</p>\r\n                                                                    <input type=\"checkbox\" checked=\"checked\"\r\n                                                                        name=\"Date9\" #Date1=\"ngModel\"\r\n                                                                        [(ngModel)]=\"service.TicketRecurringHelper.Date9\">\r\n                                                                    <span class=\"checkmark\"></span>\r\n                                                                </label>\r\n                                                            </td>\r\n                                                            <td>\r\n                                                                <label class=\"container-check\">\r\n                                                                    <p>10</p>\r\n                                                                    <input type=\"checkbox\" checked=\"checked\"\r\n                                                                        name=\"Date10\" #Date1=\"ngModel\"\r\n                                                                        [(ngModel)]=\"service.TicketRecurringHelper.Date10\">\r\n                                                                    <span class=\"checkmark\"></span>\r\n                                                                </label>\r\n                                                            </td>\r\n                                                            <td>\r\n                                                                <label class=\"container-check\">\r\n                                                                    <p>11</p>\r\n                                                                    <input type=\"checkbox\" checked=\"checked\"\r\n                                                                        name=\"Date11\" #Date1=\"ngModel\"\r\n                                                                        [(ngModel)]=\"service.TicketRecurringHelper.Date11\">\r\n                                                                    <span class=\"checkmark\"></span>\r\n                                                                </label>\r\n                                                            </td>\r\n                                                            <td>\r\n                                                                <label class=\"container-check\">\r\n                                                                    <p>12</p>\r\n                                                                    <input type=\"checkbox\" checked=\"checked\"\r\n                                                                        name=\"Date12\" #Date1=\"ngModel\"\r\n                                                                        [(ngModel)]=\"service.TicketRecurringHelper.Date12\">\r\n                                                                    <span class=\"checkmark\"></span>\r\n                                                                </label>\r\n                                                            </td>\r\n                                                            <td>\r\n                                                                <label class=\"container-check\">\r\n                                                                    <p>13</p>\r\n                                                                    <input type=\"checkbox\" checked=\"checked\"\r\n                                                                        name=\"Date13\" #Date1=\"ngModel\"\r\n                                                                        [(ngModel)]=\"service.TicketRecurringHelper.Date13\">\r\n                                                                    <span class=\"checkmark\"></span>\r\n                                                                </label>\r\n                                                            </td>\r\n                                                            <td>\r\n                                                                <label class=\"container-check\">\r\n                                                                    <p>14</p>\r\n                                                                    <input type=\"checkbox\" checked=\"checked\"\r\n                                                                        name=\"Date14\" #Date1=\"ngModel\"\r\n                                                                        [(ngModel)]=\"service.TicketRecurringHelper.Date14\">\r\n                                                                    <span class=\"checkmark\"></span>\r\n                                                                </label>\r\n                                                            </td>\r\n                                                        </tr>\r\n\r\n\r\n                                                        <tr>\r\n                                                            <td>\r\n                                                                <label class=\"container-check\">\r\n                                                                    <p>15</p>\r\n                                                                    <input type=\"checkbox\" checked=\"checked\"\r\n                                                                        name=\"Date15\" #Date1=\"ngModel\"\r\n                                                                        [(ngModel)]=\"service.TicketRecurringHelper.Date15\">\r\n                                                                    <span class=\"checkmark\"></span>\r\n                                                                </label>\r\n                                                            </td>\r\n                                                            <td>\r\n                                                                <label class=\"container-check\">\r\n                                                                    <p>16</p>\r\n                                                                    <input type=\"checkbox\" checked=\"checked\"\r\n                                                                        name=\"Date16\" #Date1=\"ngModel\"\r\n                                                                        [(ngModel)]=\"service.TicketRecurringHelper.Date16\">\r\n                                                                    <span class=\"checkmark\"></span>\r\n                                                                </label>\r\n                                                            </td>\r\n                                                            <td>\r\n                                                                <label class=\"container-check\">\r\n                                                                    <p>17</p>\r\n                                                                    <input type=\"checkbox\" checked=\"checked\"\r\n                                                                        name=\"Date17\" #Date1=\"ngModel\"\r\n                                                                        [(ngModel)]=\"service.TicketRecurringHelper.Date17\">\r\n                                                                    <span class=\"checkmark\"></span>\r\n                                                                </label>\r\n                                                            </td>\r\n                                                            <td>\r\n                                                                <label class=\"container-check\">\r\n                                                                    <p>18</p>\r\n                                                                    <input type=\"checkbox\" checked=\"checked\"\r\n                                                                        name=\"Date18\" #Date1=\"ngModel\"\r\n                                                                        [(ngModel)]=\"service.TicketRecurringHelper.Date18\">\r\n                                                                    <span class=\"checkmark\"></span>\r\n                                                                </label>\r\n                                                            </td>\r\n                                                            <td>\r\n                                                                <label class=\"container-check\">\r\n                                                                    <p>19</p>\r\n                                                                    <input type=\"checkbox\" checked=\"checked\"\r\n                                                                        name=\"Date19\" #Date1=\"ngModel\"\r\n                                                                        [(ngModel)]=\"service.TicketRecurringHelper.Date19\">\r\n                                                                    <span class=\"checkmark\"></span>\r\n                                                                </label>\r\n                                                            </td>\r\n                                                            <td>\r\n                                                                <label class=\"container-check\">\r\n                                                                    <p>20</p>\r\n                                                                    <input type=\"checkbox\" checked=\"checked\"\r\n                                                                        name=\"Date20\" #Date1=\"ngModel\"\r\n                                                                        [(ngModel)]=\"service.TicketRecurringHelper.Date20\">\r\n                                                                    <span class=\"checkmark\"></span>\r\n                                                                </label>\r\n                                                            </td>\r\n                                                            <td>\r\n                                                                <label class=\"container-check\">\r\n                                                                    <p>21</p>\r\n                                                                    <input type=\"checkbox\" checked=\"checked\"\r\n                                                                        name=\"Date21\" #Date1=\"ngModel\"\r\n                                                                        [(ngModel)]=\"service.TicketRecurringHelper.Date21\">\r\n                                                                    <span class=\"checkmark\"></span>\r\n                                                                </label>\r\n                                                            </td>\r\n                                                        </tr>\r\n                                                        <tr>\r\n                                                            <td>\r\n                                                                <label class=\"container-check\">\r\n                                                                    <p>22</p>\r\n                                                                    <input type=\"checkbox\" checked=\"checked\"\r\n                                                                        name=\"Date22\" #Date1=\"ngModel\"\r\n                                                                        [(ngModel)]=\"service.TicketRecurringHelper.Date22\">\r\n                                                                    <span class=\"checkmark\"></span>\r\n                                                                </label>\r\n                                                            </td>\r\n                                                            <td>\r\n                                                                <label class=\"container-check\">\r\n                                                                    <p>23</p>\r\n                                                                    <input type=\"checkbox\" checked=\"checked\"\r\n                                                                        name=\"Date13\" #Date1=\"ngModel\"\r\n                                                                        [(ngModel)]=\"service.TicketRecurringHelper.Date23\">\r\n                                                                    <span class=\"checkmark\"></span>\r\n                                                                </label>\r\n                                                            </td>\r\n                                                            <td>\r\n                                                                <label class=\"container-check\">\r\n                                                                    <p>24</p>\r\n                                                                    <input type=\"checkbox\" checked=\"checked\"\r\n                                                                        name=\"Date24\" #Date1=\"ngModel\"\r\n                                                                        [(ngModel)]=\"service.TicketRecurringHelper.Date24\">\r\n                                                                    <span class=\"checkmark\"></span>\r\n                                                                </label>\r\n                                                            </td>\r\n                                                            <td>\r\n                                                                <label class=\"container-check\">\r\n                                                                    <p>25</p>\r\n                                                                    <input type=\"checkbox\" checked=\"checked\"\r\n                                                                        name=\"Date25\" #Date1=\"ngModel\"\r\n                                                                        [(ngModel)]=\"service.TicketRecurringHelper.Date25\">\r\n                                                                    <span class=\"checkmark\"></span>\r\n                                                                </label>\r\n                                                            </td>\r\n                                                            <td>\r\n                                                                <label class=\"container-check\">\r\n                                                                    <p>26</p>\r\n                                                                    <input type=\"checkbox\" checked=\"checked\"\r\n                                                                        name=\"Date26\" #Date1=\"ngModel\"\r\n                                                                        [(ngModel)]=\"service.TicketRecurringHelper.Date26\">\r\n                                                                    <span class=\"checkmark\"></span>\r\n                                                                </label>\r\n                                                            </td>\r\n                                                            <td>\r\n                                                                <label class=\"container-check\">\r\n                                                                    <p>27</p>\r\n                                                                    <input type=\"checkbox\" checked=\"checked\"\r\n                                                                        name=\"Date27\" #Date1=\"ngModel\"\r\n                                                                        [(ngModel)]=\"service.TicketRecurringHelper.Date27\">\r\n                                                                    <span class=\"checkmark\"></span>\r\n                                                                </label>\r\n                                                            </td>\r\n                                                            <td>\r\n                                                                <label class=\"container-check\">\r\n                                                                    <p>28</p>\r\n                                                                    <input type=\"checkbox\" checked=\"checked\"\r\n                                                                        name=\"Date28\" #Date1=\"ngModel\"\r\n                                                                        [(ngModel)]=\"service.TicketRecurringHelper.Date28\">\r\n                                                                    <span class=\"checkmark\"></span>\r\n                                                                </label>\r\n                                                            </td>\r\n                                                        </tr>\r\n                                                        <tr>\r\n                                                            <td>\r\n                                                                <label class=\"container-check\">\r\n                                                                    <p>29</p>\r\n                                                                    <input type=\"checkbox\" checked=\"checked\"\r\n                                                                        name=\"Date29\" #Date1=\"ngModel\"\r\n                                                                        [(ngModel)]=\"service.TicketRecurringHelper.Date29\">\r\n                                                                    <span class=\"checkmark\"></span>\r\n                                                                </label>\r\n                                                            </td>\r\n                                                            <td>\r\n                                                                <label class=\"container-check\">\r\n                                                                    <p>30</p>\r\n                                                                    <input type=\"checkbox\" checked=\"checked\"\r\n                                                                        name=\"Date30\" #Date1=\"ngModel\"\r\n                                                                        [(ngModel)]=\"service.TicketRecurringHelper.Date30\">\r\n                                                                    <span class=\"checkmark\"></span>\r\n                                                                </label>\r\n                                                            </td>\r\n                                                            <td>\r\n                                                                <label class=\"container-check\">\r\n                                                                    <p>31</p>\r\n                                                                    <input type=\"checkbox\" checked=\"checked\"\r\n                                                                        name=\"Date31\" #Date1=\"ngModel\"\r\n                                                                        [(ngModel)]=\"service.TicketRecurringHelper.Date31\">\r\n                                                                    <span class=\"checkmark\"></span>\r\n                                                                </label>\r\n                                                            </td>\r\n                                                        </tr>\r\n                                                    </tbody>\r\n                                                </table>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div class=\"col-md-12 col-sm-12\">\r\n                                        <button type=\"button\" (click)=\"TicketRecurringHelper(2)\"\r\n                                            class=\"btn btn-secondary\">Changes Apply</button>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    </div>\r\n</div>\r\n  `,\r\n    styles: [`\r\n    #reminderdetailModalMonth .modal-header{padding: 0.65rem;}\r\n    #reminderdetailModalMonth .modal-content{background-clip: content-box;border:none;}\r\n    #reminderdetailModalMonth .modal-content .nav-tabs .nav-item .nav-link{background: #0191d2;color:white;}\r\n    .tickt-month-parent{padding:10px;}\r\n    .container-check {display: block;position: relative;padding-left:20px;margin-bottom: 12px;cursor: pointer;font-size: 22px;-webkit-user-select: none;-moz-user-select: none;-ms-user-select: none;user-select: none;}\r\n    .container-check input {position: absolute;opacity: 0;cursor: pointer;height: 0;width: 0;}\r\n    .checkmark {position: absolute;top: 0;left: 0;height:100%;width:100%;background-color: #0082c830;}\r\n    .container-check:hover input ~ .checkmark {background-color: #ccc;}\r\n    .container-check input:checked ~ .checkmark {background-color: #2196F3;border-bottom: 5px solid #1C5B8C;}\r\n    .checkmark:after {content: \"\";position: absolute;display: none; padding-right: 3px;}\r\n    .container-check input:checked ~ .checkmark:after {display: block;}\r\n    .container-check p{ margin: 0;position: relative;display: inline-block;z-index: 1000;font-size:24px;color:black;}\r\n    #reminderdetailModalWeek .btn{background-color:#2C77F4;color:white}\r\n    #reminderdetailModalWeek .modal-header{padding: 0.65rem;}\r\n    #reminderdetailModalWeek .modal-content{background-clip: content-box;border:none;}\r\n    #reminderdetailModalWeek .modal-content .nav-tabs .nav-item .nav-link{background: #0191d2;color:white;}\r\n    .table th .table td {padding: 10px !important;}\r\n    `]\r\n})\r\nexport class ReminderModuleComponent implements OnInit {\r\n    @Input() Id: string;\r\n    @Input() Token: string;\r\n    @Input() ReminderModule: string;\r\n    IsVisibleContract: boolean;\r\n    currentUTCDate = new Date();\r\n    visit_total: number;\r\n    data: any;\r\n    loading: boolean;\r\n    isValid: boolean;\r\n    isReminderDateValid: boolean;\r\n    isMailValid: boolean;\r\n    isSubjectValid: boolean;\r\n    isBodyValid: boolean;\r\n    minDate = { year: Number(this.currentUTCDate.getFullYear()), month: Number(this.currentUTCDate.getMonth() + 1), day: Number(this.currentUTCDate.getDate()) };\r\n    skippublickholiday: boolean = true;\r\n    recurringList2: any = [];\r\n    tooltip2: boolean = false;\r\n    constructor(\r\n        public service: TicketService,\r\n        public quoteservice: QuoteService,\r\n        public invoiceservice: InvoiceService,\r\n        public reminderservice: ReminderService,\r\n        private toastr: ToastrService,\r\n        public genicservice: GenicProfileService\r\n    ) {\r\n        this.reminderservice.QuoteReminder = new QuoteReminder();\r\n        this.reminderservice.QuoteReminderList = [];\r\n        this.IsVisibleContract = false;\r\n        this.visit_total = 0;\r\n        this.loading = false;\r\n        this.isValid = true;\r\n        this.isReminderDateValid = true;\r\n        this.isMailValid = true;\r\n        this.isSubjectValid = true;\r\n        this.isBodyValid = true;\r\n    }\r\n    ngOnInit() {\r\n        this.InitiateObject();\r\n        this.reminderservice.getReminder(this.Token, this.Id, this.ReminderModule).subscribe(res => {\r\n            if (res) {\r\n                const response = res as any;\r\n                if (response.Message === 'success') {\r\n                    this.data = [];\r\n                    this.data = response.result;\r\n                    this.reminderservice.TicketReminder.MailTo = this.service.formData.CustomerEmail;\r\n                    this.reminderservice.QuoteReminder.MailTo = this.quoteservice.QuoteData.CustomerEmail;\r\n                    this.reminderservice.InvoiceReminder.MailTo = this.invoiceservice.QuoteData.CustomerEmail;\r\n                    if (this.data.length > 0) {\r\n                        this.IsVisibleContract = true;\r\n                        let checkbox1 = null;\r\n                        checkbox1 = document.querySelector('#addremindercheckbox');\r\n                        checkbox1.checked = true;\r\n                    }\r\n                }\r\n            }\r\n        }, error => console.log(error));\r\n    }\r\n    public SelectReminder() {\r\n        if (this.IsVisibleContract) {\r\n            return this.IsVisibleContract = false;\r\n        } else {\r\n            switch (this.ReminderModule) {\r\n                case 'quote': this.reminderservice.QuoteReminder.MailTo = this.quoteservice.QuoteData.CustomerEmail; break;\r\n                case 'invoice': this.reminderservice.QuoteReminder.MailTo = this.invoiceservice.InvoiceData.CustomerEmail; break;\r\n                case 'ticket': this.reminderservice.QuoteReminder.MailTo = this.service.formData.CustomerEmail; break;\r\n                case 'warranty': this.reminderservice.QuoteReminder.MailTo = this.service.formData.CustomerEmail; break;\r\n            }\r\n            return this.IsVisibleContract = true;\r\n        }\r\n    }\r\n    public ChangeReminderDuration() {\r\n        this.reminderservice.QuoteReminder.Duration = Number(this.reminderservice.QuoteReminder.Duration);\r\n        if (this.reminderservice.QuoteReminder.Duration === 7) {\r\n            this.reminderservice.QuoteReminder.VisitFrequency = 1;\r\n        }\r\n        if (this.reminderservice.QuoteReminder.Duration === 30) {\r\n            this.reminderservice.QuoteReminder.VisitFrequency = 1;\r\n        }\r\n        let todaydate = this.genicservice.TODAY_DATE_IN_STRING + 'T00:00:00Z';\r\n        this.reminderservice.QuoteReminder.ReminderDate = '';\r\n        this.reminderservice.QuoteReminder.RecurringStartDate = '';\r\n        this.reminderservice.QuoteReminder.RecurringEndDate = '';\r\n        this.reminderservice.QuoteReminder.ReminderDate = todaydate;\r\n        this.reminderservice.QuoteReminder.RecurringStartDate = todaydate;\r\n        this.reminderservice.QuoteReminder.RecurringEndDate = todaydate;\r\n    }\r\n    public RecurringTimeCalculator() {\r\n        let numdays = 0;\r\n        let visitfruq = 0;\r\n        let totalVisit = 0;\r\n        const now = new Date(this.reminderservice.QuoteReminder.RecurringStartDate);\r\n        numdays = Number(this.reminderservice.QuoteReminder.Duration);\r\n        visitfruq = this.reminderservice.QuoteReminder.VisitFrequency;\r\n        switch (Number(this.reminderservice.QuoteReminder.Duration)) {\r\n            case 0:\r\n                this.visit_total = totalVisit = numdays * visitfruq;\r\n                now.setDate(new Date(this.reminderservice.QuoteReminder.RecurringStartDate).getDate() + (totalVisit - 1));\r\n                this.reminderservice.QuoteReminder.RecurringEndDate = now.toISOString();\r\n                break;\r\n            case 1:\r\n                this.visit_total = totalVisit = numdays * visitfruq;\r\n                now.setDate(new Date(this.reminderservice.QuoteReminder.RecurringStartDate).getDate() + (totalVisit - 1));\r\n                this.reminderservice.QuoteReminder.RecurringEndDate = now.toISOString();\r\n                setTimeout(() => { this.TicketRecurringHelper(0); }, 500);\r\n                break;\r\n            case 7:\r\n                this.visit_total = totalVisit = numdays * visitfruq;\r\n                now.setDate(new Date(this.reminderservice.QuoteReminder.RecurringStartDate).getDate() + (totalVisit - 1));\r\n                this.reminderservice.QuoteReminder.RecurringEndDate = now.toISOString();\r\n                setTimeout(() => { let el1: HTMLElement = document.getElementById('remindershowWeekModal') as HTMLElement; el1.click(); }, 500);\r\n                break;\r\n            case 30:\r\n                this.visit_total = totalVisit = numdays * visitfruq;\r\n                now.setDate(new Date(this.reminderservice.QuoteReminder.RecurringStartDate).getDate() + (totalVisit - 1));\r\n                this.reminderservice.QuoteReminder.RecurringEndDate = now.toISOString();\r\n                setTimeout(() => { let el2: HTMLElement = document.getElementById('remindershowMonthModal') as HTMLElement; el2.click(); }, 500);\r\n                break;\r\n            case 90:\r\n                this.visit_total = totalVisit = visitfruq;\r\n                this.reminderservice.QuoteReminder.VisitFrequency = visitfruq;\r\n                setTimeout(() => { this.TicketRecurringHelper(3); }, 500);\r\n                break;\r\n            case 180:\r\n                this.visit_total = totalVisit = visitfruq;\r\n                this.reminderservice.QuoteReminder.VisitFrequency = visitfruq;\r\n                setTimeout(() => { this.TicketRecurringHelper(4); }, 500);\r\n                break;\r\n        }\r\n        numdays = 0;\r\n        visitfruq = 0;\r\n        totalVisit = 0;\r\n    }\r\n    onSubmit() {\r\n        if (this.validateForm()) {\r\n            this.reminderservice.QuoteReminder.Id = 0;\r\n            this.reminderservice.QuoteReminder.QuoteId = this.Id;\r\n            this.reminderservice.QuoteReminder.IsActive = true;\r\n            this.reminderservice.QuoteReminder.Duration = Number(this.reminderservice.QuoteReminder.Duration);\r\n            this.reminderservice.QuoteReminder.VisitFrequency = Number(this.reminderservice.QuoteReminder.VisitFrequency);\r\n            if (this.reminderservice.QuoteReminder.Duration === 0) {\r\n                this.reminderservice.QuoteReminder.ReminderDate = this.reminderservice.QuoteReminder.ReminderDate;\r\n                this.reminderservice.QuoteReminder.RecurringStartDate = null;\r\n                this.reminderservice.QuoteReminder.RecurringEndDate = null;\r\n            }\r\n            this.loading = true;\r\n            this.reminderservice.postQuoteReminder(this.Token, this.ReminderModule).subscribe(res => {\r\n                if (res) {\r\n                    const response = res as any;\r\n                    if (response.Message === 'success') {\r\n                        this.toastr.success(response.MessageDescription);\r\n                        this.data = [];\r\n                        this.data = response.result;\r\n                        this.loading = false;\r\n                        this.InitiateObject();\r\n                    }\r\n                    if (response.Message === 'failure') {\r\n                        this.toastr.warning(response.MessageDescription);\r\n                        this.loading = false;\r\n                    }\r\n                }\r\n            }, error => console.log(error));\r\n        }\r\n    }\r\n    removeReminder(rid: number, QuoteId: string, type: string) {\r\n        this.reminderservice.removeQuoteReminder(this.Token, rid, QuoteId, type).subscribe(res => {\r\n            if (res) {\r\n                const response = res as any;\r\n                if (response.Message === 'success') {\r\n                    this.toastr.success(response.MessageDescription);\r\n                    this.data = [];\r\n                    this.data = response.result;\r\n                }\r\n                if (response.Message === 'failure') {\r\n                    this.toastr.warning(response.MessageDescription);\r\n                }\r\n            }\r\n        }, error => console.log(error));\r\n    }\r\n    TicketRecurringHelper(type: number) {\r\n        if (this.Id === '00000000-0000-0000-0000-000000000000') { return false; }\r\n        this.service.TicketRecurringHelper.Id = 0;\r\n        this.service.TicketRecurringHelper.Type = type;\r\n        this.service.TicketRecurringHelper.IsFor = 2; /// For Reminder Type\r\n        this.service.TicketRecurringHelper.RecurringStartDate = this.reminderservice.QuoteReminder.RecurringStartDate;\r\n        this.service.TicketRecurringHelper.RecurringDuration = Number(this.reminderservice.QuoteReminder.Duration);\r\n        this.service.TicketRecurringHelper.RecurringVisitFrequency = Number(this.reminderservice.QuoteReminder.VisitFrequency);\r\n        this.service.putTicketRecurringHelperDetails(this.Token, this.skippublickholiday).subscribe(res => {\r\n            if (res) {\r\n                const response = res as any;\r\n                if (response.Message === 'success') {\r\n                    this.visit_total = response.result.Count;\r\n                    this.recurringList2 = response.result.List;\r\n                    //this.service.formData.RecurringStartDate = response.result.FirstVisit;\r\n                    //this.service.formData.RecurringEndDate = response.result.LastVisit;\r\n                    let demoClasses = null;\r\n                    demoClasses = document.querySelector('#reminderdetailModalWeekbutton');\r\n                    demoClasses.click();\r\n                    let demoClasses2 = null;\r\n                    demoClasses2 = document.querySelector('#reminderdetailModalMonthbutton');\r\n                    demoClasses2.click();\r\n                }\r\n                if (response.Message === 'failure') {\r\n                    this.toastr.warning('warning', response.MessageDescription);\r\n                }\r\n            }\r\n        }, error => console.log(error));\r\n    }\r\n    validateForm() {\r\n        if (this.reminderservice.QuoteReminder.Duration === undefined || this.reminderservice.QuoteReminder.Duration === null) { this.reminderservice.QuoteReminder.Duration = 0 }\r\n        if (this.reminderservice.QuoteReminder.VisitFrequency === undefined || this.reminderservice.QuoteReminder.VisitFrequency === null) { this.reminderservice.QuoteReminder.VisitFrequency = 1 }\r\n        this.isValid = true;\r\n        this.isReminderDateValid = true;\r\n        if (this.reminderservice.QuoteReminder.ReminderDate === null || this.reminderservice.QuoteReminder.ReminderDate === undefined ||\r\n            this.reminderservice.QuoteReminder.ReminderDate === '') {\r\n            this.isReminderDateValid = false;\r\n            this.isValid = false;\r\n            this.toastr.warning('warning', 'Please select reminder date!');\r\n        }\r\n        this.isMailValid = true;\r\n        if (this.reminderservice.QuoteReminder.MailTo === null || this.reminderservice.QuoteReminder.MailTo === undefined ||\r\n            this.reminderservice.QuoteReminder.MailTo === '') {\r\n            this.isMailValid = false;\r\n            this.isValid = false;\r\n            this.toastr.warning('Please enter mail address!');\r\n        }\r\n        let arrEmail = this.reminderservice.QuoteReminder.MailTo.split(',');\r\n        if (arrEmail.length > 5) {\r\n            this.isMailValid = false;\r\n            this.isValid = false;\r\n            this.toastr.warning('Can send up to 5 emails, separated by comma');\r\n            this.toastr.error('current length is ' + arrEmail.length);\r\n        }\r\n        arrEmail.forEach(element => {\r\n            if (!EmailValidator.validate(element)) {\r\n                this.toastr.warning('Warning', 'Please enter a valid email');\r\n                this.toastr.error(element + ' Invalid email');\r\n                this.isMailValid = false;\r\n                this.isValid = false;\r\n                return false;\r\n            }\r\n        });\r\n        this.isSubjectValid = true;\r\n        if (this.reminderservice.QuoteReminder.Subject === null || this.reminderservice.QuoteReminder.Subject === undefined ||\r\n            this.reminderservice.QuoteReminder.Subject === '') {\r\n            this.isSubjectValid = false;\r\n            this.isValid = false;\r\n            this.toastr.warning('warning', 'Please enter mail subject!');\r\n        }\r\n        this.isBodyValid = true;\r\n        if (this.reminderservice.QuoteReminder.Body === null || this.reminderservice.QuoteReminder.Body === undefined ||\r\n            this.reminderservice.QuoteReminder.Body === '') {\r\n            this.isBodyValid = false;\r\n            this.isValid = false;\r\n            this.toastr.warning('warning', 'Please enter mail subject!');\r\n        }\r\n        return this.isValid;\r\n    }\r\n    InitiateObject() {\r\n        let todaydate = this.genicservice.TODAY_DATE_IN_STRING + 'T00:00:00Z';\r\n        this.reminderservice.QuoteReminder = new QuoteReminder();\r\n        this.reminderservice.QuoteReminder.Id = 0;\r\n        this.reminderservice.QuoteReminder.QuoteId = this.Id;\r\n        this.reminderservice.QuoteReminder.Subject = '';\r\n        this.reminderservice.QuoteReminder.MailTo = '';\r\n        this.reminderservice.QuoteReminder.Body = '';\r\n        this.reminderservice.QuoteReminder.Duration = 0;\r\n        this.reminderservice.QuoteReminder.VisitFrequency = 1;\r\n        this.reminderservice.QuoteReminder.ReminderDate = todaydate;\r\n        this.reminderservice.QuoteReminder.RecurringStartDate = todaydate;\r\n        this.reminderservice.QuoteReminder.RecurringEndDate = todaydate;\r\n        this.reminderservice.QuoteReminder.IsActive = true;\r\n    }\r\n    SetSkipOff(e) {\r\n        const enb = Boolean(e.target.checked);\r\n        if(enb){\r\n          this.skippublickholiday = true;\r\n        } else {\r\n          this.skippublickholiday = false;\r\n        }\r\n      }\r\n    clickOntoolTip2() {\r\n    if(this.tooltip2) {\r\n        this.tooltip2 = false;\r\n    } else {\r\n        this.tooltip2 = true;\r\n    }\r\n  }\r\n}\r\n","\"use strict\";\r\n\r\nvar tester = /^[-!#$%&'*+\\/0-9=?A-Z^_a-z{|}~](\\.?[-!#$%&'*+\\/0-9=?A-Z^_a-z`{|}~])*@[a-zA-Z0-9](-*\\.?[a-zA-Z0-9])*\\.[a-zA-Z](-?[a-zA-Z0-9])+$/;\r\n// Thanks to:\r\n// http://fightingforalostcause.net/misc/2006/compare-email-regex.php\r\n// http://thedailywtf.com/Articles/Validating_Email_Addresses.aspx\r\n// http://stackoverflow.com/questions/201323/what-is-the-best-regular-expression-for-validating-email-addresses/201378#201378\r\nexports.validate = function(email)\r\n{\r\n\tif (!email)\r\n\t\treturn false;\r\n\t\t\r\n\tif(email.length>254)\r\n\t\treturn false;\r\n\r\n\tvar valid = tester.test(email);\r\n\tif(!valid)\r\n\t\treturn false;\r\n\r\n\t// Further checking of some things regex can't handle\r\n\tvar parts = email.split(\"@\");\r\n\tif(parts[0].length>64)\r\n\t\treturn false;\r\n\r\n\tvar domainParts = parts[1].split(\".\");\r\n\tif(domainParts.some(function(part) { return part.length>63; }))\r\n\t\treturn false;\r\n\r\n\treturn true;\r\n}","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { ReminderModuleComponent } from './ReminderModule.component';\r\nimport { NgbDateAdapter, NgbModule, NgbTimeAdapter } from '@ng-bootstrap/ng-bootstrap';\r\nimport { NgbDateToStringAdapter } from 'src/app/ngb-date-to-string-adapter';\r\nimport { NgbTimeToStringAdapter } from 'src/app/ngb-time-to-string-adapter';\r\n\r\n@NgModule({\r\n  imports: [CommonModule, FormsModule, NgbModule],\r\n  declarations: [ReminderModuleComponent],\r\n  exports: [ReminderModuleComponent],\r\n  providers: [\r\n    { provide: NgbDateAdapter, useClass: NgbDateToStringAdapter },\r\n    { provide: NgbTimeAdapter, useClass: NgbTimeToStringAdapter }\r\n  ],\r\n})\r\nexport class ReminderModuleModule {}\r\n"]}