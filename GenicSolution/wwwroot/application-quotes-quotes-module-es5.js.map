{"version":3,"sources":["webpack:///src/app/application/quotes/quotes.module.ts","webpack:///src/app/application/quotes/quotes.component.ts","webpack:///src/app/application/quotes/quote-add/quote-add.component.ts","webpack:///src/app/application/quotes/quote-add/quote-add.component.html","webpack:///src/app/application/quotes/quote-list/quote-list.component.ts","webpack:///src/app/application/quotes/quote-list/quote-list.component.html","webpack:///src/app/services/genicprofile.module.ts","webpack:///src/app/generic-utils/Ticket-Icon-Attachment/TicketIconAttachment.module.ts","webpack:///src/app/application/quotes/quote-status-popup/quote-status-popup.component.ts","webpack:///src/app/application/quotes/quote-status-popup/quote-status-popup.component.html","webpack:///src/app/application/quotes/quote-contact-person-popup/quote-contact-person-popup.component.ts","webpack:///src/app/application/quotes/quote-contact-person-popup/quote-contact-person-popup.component.html","webpack:///src/app/application/quotes/signature-quote-status-popup/signature-quote-status-popup.component.ts","webpack:///src/app/application/quotes/signature-quote-status-popup/signature-quote-status-popup.component.html","webpack:///src/app/services/ticket.module.ts","webpack:///src/app/application/quotes/quotecustomer-property-popup/quotecustomer-property-popup.component.ts","webpack:///src/app/application/quotes/quotecustomer-property-popup/quotecustomer-property-popup.component.html","webpack:///src/app/application/quotes/quote-details/quote-details.component.ts","webpack:///src/app/application/quotes/quote-details/quote-details.component.html","webpack:///src/app/services/CommanExtendsClass.module.ts","webpack:///src/app/application/quotes/quote-customer-popup/quote-customer-popup.component.ts","webpack:///src/app/application/quotes/quote-customer-popup/quote-customer-popup.component.html","webpack:///src/app/generic-utils/Ticket-Icon-Attachment/TicketIconAttachment.component.ts"],"names":["routes","path","component","children","QuotesModule","forChild","declarations","imports","exports","QuotesComponent","template","QuoteAddComponent","titleService","quoteService","productservice","docservice","toastr","router","invoiceService","logService","loginservice","genicProfile","customerservice","dialog","notifyService","fileToUpload","uploader","ProductItemArray","tempArray","ItemBtn","ItemIsValid","ItemProductIsValid","ItemQuantityIsValid","ItemUnitCosttIsValid","QuoteNosChange","QuoteNosChangeBtn","currentUTCDate","Date","customerData","customerPropertyData","minDate","year","Number","getFullYear","month","getMonth","day","getDate","maxDate","tempIndexQty","IshowStockSection","tempInWarranty","loader","currentUser","subscribe","x","localPrependUrl","apiUrl","isQuoteTitleValid","isQtyValid","isUnitCostValid","ItemUniqueIsValid","productdata","QuoteData","CustomerName","undefined","navigate","setTitle","refrestCustomerIdWiseDepartmentList","CustomerId","QuoteTermsAndCondition","formData","newUniqueID","locateQuoteUniqueID","QuoteUniqueID","getGenicProfile","Token","Isnavigated","url","Permissions","QuoteCreate","createbuttontext","PreparedBy","FullName","QuoteEdit","refrestServicesList","res","response","serviceformList","result","error","console","log","refrestProductsList","Productlist","getNotificationData","setTimeout","getQuoteItems","getQuoteAttachments","Id","refrestArrayofKeyslist","InitialazeProductDropdown","getTaxList","TextList","routeSub","events","event","answer","window","confirm","deleteTemporaryQuote","tempurl","QuoteItemData","Type","prod","Product","multiple","placeholder","minimumInputLength","ajax","dataType","delay","data","params","q","term","page","processResults","results","items","pagination","more","total_count","cache","escapeMarkup","markup","templateResult","templateSelection","repo","loading","text","full_name","description","Message","QuoteItemList","setlocalcount","v","target","value","k","charCode","getNotification","obj","Object","NotificationData","tempqty","Qty","temcost","UnitCost","toFixed","total","Total","toString","ProductWarranty","InWarranty","UniqId","WarrantyDays","ItemDescription","titem","filter","id","warrantyvalue","length","tempAvailableStock","Quantity","tempSalePrice","SalePrice","ItemName","ProductName","Description","ServiceName","ServiceDescription","GenerateUniqueRandom","GetRandamUniqueId","MessageDescription","ReqDepositeAmount","ReqDepositeTextValue","QItemId","warning","QuoteId","des","UserName","Activity1","postUserLog","postQuoteItemDetails","putQuoteItemDetails","des1","Activity2","NetAmount","forEach","element","assign","deleteQuoteItem","info","ItemSubTotalByArry","map","SubTotal","TaxAmount","TaxRate","DiscountAmount","DiscountTextValue","reduce","a","b","EditSubTotalValue","EditTaxRate","EditTaxAmt","DiscountType","EditDisTextValue","z","ReqDepositeType","SubTotalValue","DisTextValue","TempTaxRate","tempTaxAmt","tempDiscAmount","zz","DisctAmt","TaxAmt","t","type","moduleid","remark","Files","files","file","item","uploadDocument","QuoteAttamentId","RemoveDocument","s","Status","CreatedBy","JobTitle","putQuote","success","qId","isCust","QuoteCustomer","isAdmin","QuoteAdmin","AdminId","quoteEmailNotification","resw","ClientRemark","InternalNotes","parse","Activity5","updateQuoteEmailNotification","resu","Activity6","SetAsDefaultValue","unsubscribe","ValidateQuoteNo","status","body","QuotePrefix","statusText","err","which","keyCode","dialogConfig","autoFocus","width","open","afterClosed","PropertyList","getCustomerProperty","OpenAddCustomerPropertyQuoteDialog","queryParams","CompanyName","PropertyId","CustomerAddress","AddressStreet1","AddressStreet2","AddressUnitNo","AddressCountry","AddressZipCode","customwarrantyShow","customwarrantyShowEdit","provide","useClass","validateInput","onQuoteNosChange","CalculateQuoteProductCost","numberwithDecimalOnly","addProductToQuote","CleareProductToQuote","changeDiscountValue","CalculateQuoteTax","picked","selector","templateUrl","styleUrls","providers","QuoteListComponent","propertyService","ticketService","genicprofileservice","downloadService","dtOptions","dtTrigger","temptQuoteStatus","tempQuoteId","isDtInitialized","CustomerdropdownList","CustomerselectedItems","CustomerdropdownSettings","displayKey","search","limitTo","height","StatusdropdownList","StatusselectedItems","StatusdropdownSettings","DepartmentdropdownList","DepartmentselectedItems","DepartmentdropdownSettings","QuoteSummary","TotalQuotation","AcceptedQuotation","PendingQuotation","RejectedQuotation","CancelledQuotation","TicketFilter","IsReady","IsReadyInvoice","OnDateSearchLoading","pagingType","paging","order","lengthMenu","IsReadyQuote","distroyAndReloadTable","getCustomerListSync","custList","w","push","Name","IsAssigned","el","item_id","item_text","distroyAndReloadFilterTable","OpenAddnContactPersionDialog","postTempQuote","getPropertyData","ModifiedUtcDate","dialogCon","UpdateQuoteStatus","res2","postQuoteStatusUserLog","StatusType","Activity","CustomerEmail","downloadFromServer","then","blob","getTime","getTicketById","InvoiceId","refreshInvoiceById","InvoiceData","e","EngineerId","DepartmentId","dtElement","dtInstance","destroy","QuoteLocalList","getrefrestQuoteListSync","next","getFilterQuotationListSync","QuoteList","exportAsXLSX","GenicProfile","GenicProfileCalendar","PendingLeaveRequest","WebsiteParams","GlobalFilter","ResourceFullCalendarSetting","Country","Smtpsetting","GenicDocExt","EngineerAttendance","EngineerAttendanceImage","TicketIconAttachmentModule","QuoteStatusPopupComponent","dialogRef","SalesPersonSignaturePadOption","pecColor","backgroundcolor","canvasWidth","canvasHeight","InsertESignature","fire","title","showCancelButton","confirmButtonColor","cancelButtonColor","confirmButtonText","close","SaleBase64","SalesPersonSingnaturePad","toDataURL","SalesPersonSignature","CustomerSignature","updateQuoteSignature","clear","SetStatus","styles","QuoteContactPersonPopupComponent","isValidTitle","isValidFirstname","isValidLastname","IsContactPersonCreate","LocalList","CustomerContactPerson","CustomerContactPersonData","c","NameTitle","FirstName","LastName","Email","CustomerContactNo","Phone","Attention","AddNewContactPerson","toLowerCase","match","SignatureQuoteStatusPopupComponent","CustomerSignaturePadOption","CustBase64","CustomerSingnaturePad","cleareCustomerCloserSignature","Ticket","TicketTeam","TicketItem","TicketAttachment","TicketIssueType","TicketWiseIssueType","TicketTimer","TicketReminder","TicketEquipment","TicketEquipmentMasterData","TicketRecurringHelper","QuotecustomerPropertyPopupComponent","quoterService","service","isValidZipCode","isValidCountry","IsPropertyCreate","zoom","options","componentRestrictions","country","street_number","route","neighborhood","sublocality_level_3","sublocality_level_2","sublocality_level_1","locality","administrative_area_level_2","administrative_area_level_1","postal_code","Propertylist","refrestPropertylistCustomerWise","locallist","IsActive","AddNewProperty","AddressCity","AddressState","getCountryList","countrylist","LocalPropertyList","address","lat","geometry","location","lng","address_components","types","long_name","Latitude","Longitude","QuoteDetailsComponent","isValidEmailIdToSendPDF","emailIdToSendPDF","localPropertyData","onAfterAddingFile","withCredentials","onCompleteItem","headers","onBeforeUploadItem","postTempInvoice","InvoiceConvertedFrom","InvoiceConvertedID","InvoiceTitle","TaxId","posQuoteItemToInvoiceItem","localStorage","setItem","i","OpenAddCustomerToQuoteDialog","localQuoteData","setDetaultQuoteData","ArrayofKeys","d","IsDefault","Value","resq","copyQuotation","ClientViewQty","ClientViewUnitCost","ClientViewLineItemTotal","ClientViewTotal","LinkToJob","LinkToInvoice","Rating","CCName","CCContact","DID","FAX","SalesRepresentative","quoteId","downoadQuotationPDF","$","attr","Path","appendTo","click","remove","emailText","alert","document","getElementById","sendForClientSign","Activity3","SendQuoteByMail","ReminderBase","QuoteCustomerPopupComponent","IsCustomerCreate","isValidCompanyname","isValidEmailAddress","isValidPhoneNumber","isDone","refreshcustomerlist","CustomerList","CustomerLocalList","UseCompanyNameAsPrimaryName","AddNewCustomer","TicketIconAttachmentComponent","ext","split","pop"],"mappings":"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;AAAO;;AAChD;;AACsB;AAAA,qBAAS,IAAAC,aAAA,QAAT;AAA8B,aAA9B,EAA+B,QAA/B,EAA+B;AAAA,qBAAW,IAAAA,aAAA,QAAX;AAAgC,aAA/D,EAA+B,eAA/B,EAA+B;AAAA;AAAA,aAA/B;;AAEX;;AACX;;AACA;;AACE;;AACE;;AAAO;;AAAgB;;AAAQ;;AAC/B;;AACE;;AACF;;AACF;;AACA;;AACE;;AAAO;;AAAsB;;AAAQ;;AACrC;;AAAO;;AAAuC;;AAAQ;;AACtD;;AACE;;AAAM;;AAAwC;;AAAO;;AACrD;;AAAM;;AAA4C;;AACpD;;AACF;;AACF;;AACF;;AACF;;AACF;;AACA;;AACE;;AACE;;AACE;;AACE;;AACE;;AACE;;AACE;;AACE;;AACF;;AACA;;AACE;;AACF;;AACF;;AACF;;AACA;;AACI;;AAGA;;AAUF;;AACA;;AACE;;AACE;;AACE;;AAAG;AAAA,qBAAS,IAAAC,gBAAA,EAAT;AAA2B,aAA3B;;AAAiD;;AAAqB;;AAC3E;;AACF;;AACF;;AACJ;;AACA;;AACE;;AACE;;AAAc;;AAAS;;AACzB;;AACA;;AACE;;AAEA;AAAA;AAAA;;AAFA;;AAIF;;AACF;;AAEA;;AACE;;AACE;;AAAc;;AAAW;;AAC3B;;AACA;;AACE;;AAEA;AAAA;AAAA;;AAFA;;AAIF;;AACF;;AACA;;AACE;;AAEF;;AACF;;AACF;;AACF;;AACF;;AACF;;AACA;;AACE;;AACE;;AACE;;AACE;;AACE;;AACE;;AACE;;AAAU;;AAA0B;;AAAC;;AACvC;;AACF;;AACF;;AACA;;AACE;;AACE;;AACE;;AACE;;AACE;;AACE;;AACE;;AAAmD;;AACvD;;AACA;;AACE;;AAAwC;;AACxC;;AACF;;AACA;;AACE;;AAAwC;;AAClC;;AACR;;AACA;;AACE;;AAAwC;;AACxC;;AACF;;AACA;;AACF;;AACA;;AACE;;AACE;;AACF;;AACF;;AACA;;AA4BA;;AACE;;AACE;;AACE;;AAKA;;AAKF;;AACF;;AACA;;AACF;;AACA;;AACE;;AACE;;AACE;;AAUA;;AAKF;;AACF;;AACA;;AACE;;AAKF;;AACA;;AACE;;AACE;;AACE;;AACE;;AACF;;AACF;;AACA;;AACwB;AAAA;AAAA,eAAiD,OAAjD,EAAiD;AAAA,qBAE9D,IAAAC,yBAAA,EAF8D;AAEnC,aAFd,EAAiD,UAAjD,EAAiD;AAAA,qBAErB,IAAAC,qBAAA,QAFqB;AAEQ,aAFzD;;AADxB;;AAKF;;AACF;;AACA;;AACE;;AACE;;AACE;;AACE;;AACF;;AACF;;AACA;;AACE;AAAA;AAAA;;AADF;;AAGF;;AACF;;AACA;;AACF;;AACA;;AACE;;AACE;;AACE;AAAA;AAAA;;AACmC;;AACvC;;AACA;;AACE;;AA4GF;;AACF;;AACA;;AACE;;AACE;;AACE;;AACE;;AACE;AAAA,qBAAS,IAAAC,iBAAA,+OAAT;AAA4O,aAA5O;;AAEA;;AACA;;AACF;;AACA;;AAAiD;AAAA,qBAAS,IAAAC,oBAAA,EAAT;AAA+B,aAA/B;;AAE/C;;AACA;;AACF;;AACF;;AACF;;AACF;;AACF;;AACF;;AACA;;AACE;;AACF;;AACA;;AACE;;AAEE;;AACE;;AACE;;AACF;;AACF;;AACA;;AAAI;;AAAmD;;AACzD;;AACF;;AACF;;AACF;;AACF;;AACF;;AACF;;AACF;;AACA;;AACE;;AACE;;AACE;;AACE;;AACE;;AACE;;AACF;;AACF;;AACF;;AACA;;AACE;;AACE;;AACE;;AACE;;AACE;;AACE;;AACE;;AACE;;AACE;;AACE;;AACE;;AACE;;AACE;;AAEE;AAAA;AAAA;;AAEF;;AAAA;;AACF;;AACF;;AACA;;AACE;;AACE;;AACE;;AACE;;AACA;;AAAO;;AAAW;;AACpB;;AACA;;AACE;;AAGF;;AACA;;AACE;;AACE;;AACE;AAAA;AAAA;;AADF;;AACsD;;AACtD;;AACF;;AACA;;AACE;;AACE;AAAA;AAAA;;AADF;;AAC2D;;AAC3D;;AACF;;AACA;;AACE;;AACE;AAAA;AAAA;;AADF;;AACgE;;AAEhE;;AACF;;AACA;;AACE;;AACE;AAAA;AAAA;;AADF;;AACwD;;AACxD;;AACF;;AACF;;AACF;;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;AACF;;AACF;;AACF;;AACF;;AACA;;AACE;;AACE;;AACE;;AACE;;AACE;;AACE;;AACE;;AACE;;AACE;;AACE;;AACE;;AACE;;AACE;;AACE;;AACE;;AACF;;AACF;;AACA;;AACE;;AACE;;AACF;;AACF;;AACA;;AACE;;AACE;;AACF;;AACF;;AACA;;AACE;;AACE;;AACF;;AACF;;AACF;;AACA;;AACA;;AA4BA;;AACE;;AACA;;AACE;;AACE;;AACE;;AAAG;;AAAuC;;AAC5C;;AACA;;AACE;;AACE;;AACE;;AACE;;AAA8B;;AAAQ;;AAExC;;AACA;;AAC6C;;AAA+C;;AAC9F;;AACA;;AACE;;AACE;;AAA8B;;AAAQ;;AACxC;;AACA;;AACE;;AACE;;AAC6C;;AAAqD;;AACpG;;AACF;;AACF;;AACA;;AACE;;AACE;;AAA8B;;AAAG;;AACnC;;AACA;;AACE;;AACE;;AAC6C;;AAAgD;;AAC/F;;AACF;;AACF;;AACA;;AACE;;AACE;;AAA8B;;AAAG;;AAAK;;AAAI;;AAC5C;;AACA;;AAC6C;;AAAG;;AAAgD;;AAAI;;AACtG;;AAEF;;AACF;;AACF;;AACF;;AACF;;AACA;;AACE;;AACE;;AACE;;AACE;;AACA;;AAAO;;AAAW;;AACpB;;AAAO;;AACP;;AACE;;AAGF;;AACA;;AACE;;AACE;;AAEA;;AAEA;;AACF;;AACA;;AACE;;AAEA;;AAEA;;AACF;;AACA;;AACE;;AAEA;;AAEA;;AACF;;AACA;;AACE;;AAEA;;AAEA;;AACF;;AACF;;AACF;;AACF;;AACF;;AACF;;AACF;;AACF;;AACF;;AACF;;AACF;;AACF;;AACF;;AACF;;AACF;;AACF;;AACA;;AACE;;AACE;;AACE;;AACE;;AAEE;;AACE;;AACF;;AACF;;AACF;;AACF;;AACA;;AACE;;AACE;;AACE;AAAA;AAAA;;AAEA;;AAAA;;AACJ;;AACF;;AACF;;AACF;;AACA;;AACE;;AACE;;AACE;;AACE;;AAEE;;AAAQ;;AAAqC;;AAGhC;;AAAC;;AAAO;;AACvB;;AACF;;AAEF;;AACA;;AACE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","file":"application-quotes-quotes-module-es5.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common'; \r\nimport { HttpClientModule } from '@angular/common/http';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { DataTablesModule } from 'angular-datatables';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { NgbModule } from '@ng-bootstrap/ng-bootstrap';\r\nimport { MatNativeDateModule } from '@angular/material/core';\r\nimport { MatDatepickerModule } from '@angular/material/datepicker';\r\nimport { MatDialogModule } from '@angular/material/dialog';\r\nimport { MatFormFieldModule } from '@angular/material/form-field';\r\nimport { MatInputModule } from '@angular/material/input';\r\nimport { FileUploadModule } from 'ng2-file-upload';\r\nimport { GooglePlaceModule } from 'ngx-google-places-autocomplete';\r\nimport { LSelect2Module } from 'ngx-select2';\r\nimport { SelectDropDownModule } from 'ngx-select-dropdown';\r\nimport { NgMultiSelectDropDownModule } from 'ng-multiselect-dropdown';\r\n\r\nimport { QuoteAddComponent } from './quote-add/quote-add.component';\r\nimport { QuoteContactPersonPopupComponent } from './quote-contact-person-popup/quote-contact-person-popup.component';\r\nimport { QuoteCustomerPopupComponent } from './quote-customer-popup/quote-customer-popup.component';\r\nimport { QuoteDetailsComponent } from './quote-details/quote-details.component';\r\nimport { QuoteListComponent } from './quote-list/quote-list.component';\r\nimport { QuoteStatusPopupComponent } from './quote-status-popup/quote-status-popup.component';\r\nimport { QuotecustomerPropertyPopupComponent } from './quotecustomer-property-popup/quotecustomer-property-popup.component';\r\nimport { QuotesComponent } from './quotes.component';\r\nimport { SignaturePadModule } from 'angular2-signaturepad';\r\nimport { SignatureQuoteStatusPopupComponent } from './signature-quote-status-popup/signature-quote-status-popup.component';\r\nimport { QuoteStatusComponentModule } from 'src/app/generic-utils/Quote-Status-Component/QuoteStatusComponent.module';\r\nimport { ReminderModuleModule } from 'src/app/generic-utils/Reminder-Module/ReminderModule.module';\r\nimport { TicketIconAttachmentModule } from 'src/app/generic-utils/Ticket-Icon-Attachment/TicketIconAttachment.module';\r\nconst routes: Routes = [\r\n  { path: '', component: QuotesComponent,\r\n            children: [\r\n              { path: '', component: QuoteListComponent },\r\n              { path: 'quote-customer-popup', component: QuoteCustomerPopupComponent },\r\n              { path: 'quote-Add', component: QuoteAddComponent },\r\n              { path: 'quote-Edit', component: QuoteAddComponent },\r\n              { path: 'quote-Details', component: QuoteDetailsComponent },\r\n              { path: 'quote-customer-property-popup', component: QuotecustomerPropertyPopupComponent },\r\n              { path: 'quote-Status', component: QuoteStatusPopupComponent },\r\n              { path: 'quote-customer-contact-popup', component: QuoteContactPersonPopupComponent },\r\n              { path: 'signature-quote-customer-contact-popup', component: SignatureQuoteStatusPopupComponent }\r\n            ]},\r\n];\r\n@NgModule({\r\n  declarations: [\r\n    QuotesComponent,\r\n    QuoteListComponent,\r\n    QuoteCustomerPopupComponent,\r\n    QuoteAddComponent,\r\n    QuoteDetailsComponent,\r\n    QuotecustomerPropertyPopupComponent,\r\n    QuoteStatusPopupComponent,\r\n    QuoteContactPersonPopupComponent,\r\n    SignatureQuoteStatusPopupComponent\r\n ],\r\n  imports: [\r\n    CommonModule,\r\n    HttpClientModule,\r\n    DataTablesModule,\r\n    FormsModule,\r\n    MatDialogModule,\r\n    MatDatepickerModule,\r\n    MatFormFieldModule,\r\n    MatNativeDateModule,\r\n    MatInputModule,\r\n    NgbModule,\r\n    FileUploadModule,\r\n    LSelect2Module,\r\n    SelectDropDownModule,\r\n    NgMultiSelectDropDownModule,\r\n    ReactiveFormsModule,\r\n    TicketIconAttachmentModule,\r\n    SignaturePadModule,\r\n    GooglePlaceModule,\r\n    RouterModule.forChild(routes),\r\n    ReminderModuleModule,\r\n    QuoteStatusComponentModule\r\n  ],\r\n  exports: [\r\n    MatDatepickerModule,\r\n    MatFormFieldModule,\r\n    MatNativeDateModule,\r\n    MatInputModule\r\n  ],\r\n})\r\nexport class QuotesModule { }\r\n","import { Component, OnInit } from '@angular/core';\n@Component({template: '<router-outlet></router-outlet>'})\nexport class QuotesComponent implements OnInit  {\n  ngOnInit() {}\n}\n","import { Component, OnInit, AfterViewInit, OnDestroy } from '@angular/core';\nimport { QuoteService } from '../../../services/quote.service';\nimport { ProductService } from '../../../services/product.service';\nimport { QuoteItem, Tax } from '../../../services/quote.module';\nimport { ToastrService } from 'ngx-toastr';\nimport { Router, NavigationStart } from '@angular/router';\nimport { FileUploader } from 'ng2-file-upload';\nimport { environment } from 'src/environments/environment';\nimport { InvoiceService } from '../../../services/invoice.service';\nimport { UserlogService } from '../../../services/userlog.service';\nimport { AuthenticationService } from '../../../services/authentication.service';\nimport { Login } from '../../../services/login.mudule';\nimport { GenicProfileService } from '../../../services/genicprofile.service';\nimport { NgbDateAdapter, NgbTimeAdapter } from '@ng-bootstrap/ng-bootstrap';\nimport { NgbDateToStringAdapter } from 'src/app/ngb-date-to-string-adapter';\nimport { NgbTimeToStringAdapter } from 'src/app/ngb-time-to-string-adapter';\nimport { Property } from '../../../services/property.model';\nimport { MatDialogConfig, MatDialog } from '@angular/material/dialog';\nimport { QuoteCustomerPopupComponent } from '../quote-customer-popup/quote-customer-popup.component';\nimport { Customer } from '../../../services/customer.model';\nimport { QuotecustomerPropertyPopupComponent } from '../quotecustomer-property-popup/quotecustomer-property-popup.component';\nimport { NotificationService } from '../../../services/notification.service';\nimport { Product, Service } from '../../../services/product.module';\nimport { CustomerService } from 'src/app/services/customer.service';\nimport { DocumentUploadService } from 'src/app/services/DocumentUpload.service';\nimport { Title } from '@angular/platform-browser';\ndeclare let $: any;\n\n@Component({\n  selector: 'app-quote-add',\n  templateUrl: './quote-add.component.html',\n  styleUrls: ['./quote-add.component.css'],\n  providers: [\n    { provide: NgbDateAdapter, useClass: NgbDateToStringAdapter },\n    { provide: NgbTimeAdapter, useClass: NgbTimeToStringAdapter }\n  ],\n})\nexport class QuoteAddComponent implements OnInit, AfterViewInit, OnDestroy {\n  // validation part start ---\n  isQuoteTitleValid: boolean;\n  isQtyValid: boolean;\n  isUnitCostValid: boolean;\n  ItemUniqueIsValid: boolean;\n  // validation end--------\n  fileToUpload: File = null;\n  currentUser: Login;\n  public uploader: FileUploader = new FileUploader({});\n  tempSubTotal: number;\n  tempNetAmount: number;\n  ProductItemArray = [];\n  tempArray = [];\n  createbuttontext: string;\n  ItemBtn = 'Add';\n  ItemIsValid = true;\n  ItemProductIsValid = true;\n  ItemQuantityIsValid = true;\n  ItemUnitCosttIsValid = true;\n  ItemSubTotalAmount: number;\n  ItemSubTotalByArry: any;\n  ItemTotalAmount: number;\n  private routeSub: any;\n  Isnavigated: boolean;\n  ActionType: string;\n  localPrependUrl: string;\n  QuoteNosChange = false;\n  QuoteNosChangeBtn = 'Change';\n  newUniqueID;\n  locateQuoteUniqueID;\n  currentUTCDate = new Date();\n\n  customerData = new Customer();\n  customerPropertyData = new Property();\n\n  minDate = {\n    year: Number(this.currentUTCDate.getFullYear()),\n    month: Number(this.currentUTCDate.getMonth() + 1),\n    day: Number(this.currentUTCDate.getDate())\n  };\n  maxDate = {\n    year: Number(this.currentUTCDate.getFullYear()) + 2,\n    month: Number(this.currentUTCDate.getMonth() + 1),\n    day: Number(this.currentUTCDate.getDate())\n  };\n\n  public productoptions: any;\n  productdata: any;\n  data: Array<any>;\n  tempAvailableStock: number;\n  tempSalePrice: number;\n  tempIndexQty = 0;\n  IshowStockSection = true;\n  tempInWarranty: boolean = false;\n  customwarrantyShow: boolean;\n  customwarrantyShowEdit: boolean;\n  loader: boolean = false;\n  constructor(\n    public titleService: Title,\n    public quoteService: QuoteService,\n    public productservice: ProductService,\n    public docservice: DocumentUploadService,\n    public toastr: ToastrService,\n    private router: Router,\n    public invoiceService: InvoiceService,\n    public logService: UserlogService,\n    public loginservice: AuthenticationService,\n    public genicProfile: GenicProfileService,\n    public customerservice: CustomerService,\n    private dialog: MatDialog,\n    public notifyService: NotificationService\n  ) {\n    this.loginservice.currentUser.subscribe(x => this.currentUser = x);\n    this.localPrependUrl = environment.apiUrl;\n    this.isQuoteTitleValid = true;\n    this.isQtyValid = true;\n    this.isUnitCostValid = true;\n    this.ItemUniqueIsValid = true;\n    this.productdata = [];\n  }\n\n  ngOnInit() {\n    if (this.quoteService.QuoteData.CustomerName === 'Customer Name?' || this.quoteService.QuoteData.CustomerName === undefined) {\n      this.router.navigate(['/quotes/']);\n    }\n    this.titleService.setTitle('Quotation Create | Genic Solution');\n    this.customerservice.refrestCustomerIdWiseDepartmentList(this.quoteService.QuoteData.CustomerId);\n    if (this.quoteService.QuoteData.QuoteTermsAndCondition === ''\n      || this.quoteService.QuoteData.QuoteTermsAndCondition === null\n      || this.quoteService.QuoteData.QuoteTermsAndCondition === undefined) {\n      this.quoteService.QuoteData.QuoteTermsAndCondition = this.genicProfile.formData.QuoteTermsAndCondition;\n    }\n    this.newUniqueID = 0;\n    this.locateQuoteUniqueID = this.quoteService.QuoteData.QuoteUniqueID;\n    this.genicProfile.getGenicProfile(this.currentUser.Token);\n    this.Isnavigated = false;\n\n    if (this.router.url === '/quotes/quote-Add') {\n      if (!this.currentUser.Permissions.QuoteCreate) { this.router.navigate(['/dashboard']); }\n      this.createbuttontext = 'Save';\n      this.quoteService.QuoteData.PreparedBy = this.currentUser.FullName;\n    } else {\n      if (!this.currentUser.Permissions.QuoteEdit) { this.router.navigate(['/dashboard']); }\n      this.createbuttontext = 'Update';\n    }\n    this.productservice.refrestServicesList(this.currentUser.Token).subscribe( res => {\n      if (res) { const response = res as any;\n                this.productservice.serviceformList = response.result as Service[];\n              }}, error =>  console.log(error));\n    this.productservice.refrestProductsList(this.currentUser.Token).subscribe( res => {\n      if (res) { const response = res as any;\n                this.productservice.Productlist = response.result as Product[];\n                console.log(this.productservice.Productlist);\n      }}, error =>  console.log(error));\n    this.getNotificationData();\n    setTimeout(() => {\n      this.getQuoteItems();\n      this.quoteService.getQuoteAttachments(this.quoteService.QuoteData.Id);\n      this.quoteService.refrestArrayofKeyslist(this.quoteService.QuoteData.CustomerId);\n    }, 1000);\n    setTimeout(() => {\n      this.InitialazeProductDropdown();\n    }, 3000);\n    this.quoteService.getTaxList(this.currentUser.Token).subscribe( res => {\n      if (res) { const response = res as any;\n                this.quoteService.TextList = response.result as Tax[]\n              }}, error =>  console.log(error));\n    this.routeSub = this.router.events.subscribe((event) => {\n      if (event instanceof NavigationStart) {\n        if (!this.Isnavigated) {\n          const answer = window.confirm('Are you sure you want to save this data?');\n          if (!answer) {\n            this.quoteService.deleteTemporaryQuote(this.quoteService.QuoteData.Id);\n          }\n        }\n      }\n    });\n  }\n  InitialazeProductDropdown(): void {\n    let tempurl = '';\n    if (this.quoteService.QuoteItemData.Type === 'Product'){\n      tempurl = '/api/products/GetProductsForSelect2Dropdown/';\n    }\n    if (this.quoteService.QuoteItemData.Type === 'Service'){\n      tempurl = '/api/products/GetServicesForSelect2Dropdown/';\n    }\n    let prod = this.quoteService.QuoteItemData.Type;\n      if(this.quoteService.QuoteItemData.Type === 'Product') { prod = this.currentUser.Product; }\n    this.productdata = {\n      multiple: false,\n      placeholder: 'Select ' + prod,\n      minimumInputLength: 1,\n      ajax: {\n        url:  environment.apiUrl + tempurl + this.currentUser.Token,\n        dataType: 'json',\n        delay: 250,\n        data: function (params) {\n          return {\n            q: params.term,\n            page: params.page\n          };\n        },\n        processResults: function (data, params) {\n          params.page = params.page || 1;\n          return {\n            results: data.items,\n            pagination: {\n              more: (params.page * 30) < data.total_count\n            }\n          };\n        },\n        cache: true\n      },\n      escapeMarkup: function (markup) { return markup; },\n      templateResult: this.templateResult,\n      templateSelection: this.templateSelection\n    };\n  }\n  // function for result template\n  public templateResult(repo) {\n    if (repo.loading) { return repo.text; }\n    return '<div class=\"select2-result-repository clearfix\"><div class=\"select2-result-repository__meta\">' +\n    '<div class=\"select2-result-repository__title\"><strong>' + repo.full_name + '</strong></div>' +\n    '<div class=\"select2-result-repository__description\">' + repo.description + '</div></div></div>';\n  }\n  templateSelection(repo) {\n    return repo.full_name || repo.text;\n  }\n  ngAfterViewInit() {\n    setTimeout(() => {\n      this.getQuoteItems();\n      this.quoteService.getQuoteAttachments(this.quoteService.QuoteData.Id);\n    }, 2000);\n  }\n  getQuoteItems() {\n    this.quoteService.getQuoteItems(this.currentUser.Token, this.quoteService.QuoteData.Id).subscribe( res => {\n      if (res) { const response = res as any;\n                 if (response.Message === 'success') {\n                    this.quoteService.QuoteItemList = response.result;\n                    this.setlocalcount();\n                  }\n    }}, error =>  console.log(error));\n  }\n  validateInput(event) {\n    let v = event.target.value;\n    if (v === '') {\n      this.isQuoteTitleValid = false;\n    } else {\n      this.isQuoteTitleValid = true;\n    }\n    let k;\n    k = event.charCode;\n    return ((k > 64 && k < 91) || (k > 96 && k < 123) || k === 8 || k === 32 || (k >= 48 && k <= 57));\n  }\n  //Get Notification data\n  getNotificationData() {\n    this.notifyService.getNotification(this.currentUser.Token)\n      .subscribe(res => {\n        if (res) {\n          let obj: any = new Object();\n          obj = res;\n          this.notifyService.NotificationData = obj;\n        }\n      }, error => console.log(error))\n  }\n\n  // calculate total value\n  public CalculateQuoteProductCost() {\n    const tempqty: any = this.quoteService.QuoteItemData.Qty;\n    const temcost: any = Number(this.quoteService.QuoteItemData.UnitCost).toFixed(2);\n    const total: any = tempqty * temcost;\n    this.quoteService.QuoteItemData.Total = total.toString();\n    if (temcost > 0) {\n      this.isUnitCostValid = true;\n    }\n  }\n  OnQuationItemTypeChange() {\n    this.ItemQuantityIsValid = true;\n    this.ItemUnitCosttIsValid = true;\n    if (this.currentUser.Permissions.ProductWarranty) {\n      if (this.quoteService.QuoteItemData.InWarranty) {\n        this.ItemUniqueIsValid = true;\n      }\n    }\n    if (this.quoteService.QuoteItemData.Type === 'Service') {\n      this.quoteService.QuoteItemData.Qty = 1;\n      this.quoteService.QuoteItemData.UnitCost = null;\n      this.quoteService.QuoteItemData.Total = null;\n      this.quoteService.QuoteItemData.InWarranty = false;\n      this.quoteService.QuoteItemData.UniqId = null;\n      this.quoteService.QuoteItemData.WarrantyDays = 365;\n    }\n    if (this.quoteService.QuoteItemData.Type === 'Product') {\n      this.quoteService.QuoteItemData.Qty = null;\n      this.quoteService.QuoteItemData.UnitCost = null;\n      this.quoteService.QuoteItemData.Total = null;\n      this.quoteService.QuoteItemData.InWarranty = false;\n      this.quoteService.QuoteItemData.UniqId = null;\n      this.quoteService.QuoteItemData.WarrantyDays = 365;\n    }\n    this.InitialazeProductDropdown();\n    this.quoteService.QuoteItemData.ItemDescription = null;\n  }\n  WhenSelectProductChange(event) {\n    if (this.quoteService.QuoteItemData.Type === 'Product') {\n      const titem = this.productservice.Productlist.filter(x => x.Id === event.id);\n      const warrantyvalue = titem[0].InWarranty;\n      this.ItemQuantityIsValid = true;\n      this.ItemUnitCosttIsValid = true;\n      if (titem.length === 0) {\n        this.quoteService.QuoteItemData.Qty = 0;\n        this.quoteService.QuoteItemData.Total = 0;\n        this.quoteService.QuoteItemData.UnitCost = 0;\n        this.quoteService.QuoteItemData.ItemDescription = '';\n        this.quoteService.QuoteItemData.WarrantyDays = 0;\n        this.quoteService.QuoteItemData.InWarranty = false;\n        this.IshowStockSection = false;\n        this.tempInWarranty = false;\n      } else {\n        this.tempAvailableStock = Number(titem[0].Quantity);\n        this.tempSalePrice = Number(titem[0].SalePrice);\n        this.quoteService.QuoteItemData.WarrantyDays = Number(titem[0].WarrantyDays);\n        this.IshowStockSection = true;\n        this.quoteService.QuoteItemData.Qty = 1;\n        this.quoteService.QuoteItemData.ItemName = titem[0].ProductName;\n        this.quoteService.QuoteItemData.UnitCost = Number(titem[0].SalePrice);\n        this.quoteService.QuoteItemData.Total = this.tempSalePrice * this.quoteService.QuoteItemData.Qty;\n        this.quoteService.QuoteItemData.ItemDescription = titem[0].Description;\n        this.quoteService.QuoteItemData.InWarranty = warrantyvalue;\n        this.ItemQuantityIsValid = true;\n        this.ItemUnitCosttIsValid = true;\n      }\n      if (warrantyvalue === true) { this.tempInWarranty = true; } else { this.tempInWarranty = false; }\n    }\n    if (this.quoteService.QuoteItemData.Type === 'Service') {\n      const titem = this.productservice.serviceformList.filter(x => x.Id === event.id);\n      const warrantyvalue = titem[0].InWarranty;\n      if (titem.length === 0) {\n        this.quoteService.QuoteItemData.ItemDescription = '';\n        this.quoteService.QuoteItemData.WarrantyDays = 0;\n        this.quoteService.QuoteItemData.InWarranty = false;\n        this.tempInWarranty = false;\n      } else {\n        this.quoteService.QuoteItemData.Qty = 1;\n        this.quoteService.QuoteItemData.ItemName = titem[0].ServiceName;\n        this.quoteService.QuoteItemData.ItemDescription = titem[0].ServiceDescription;\n        this.quoteService.QuoteItemData.WarrantyDays =Number(titem[0].WarrantyDays);\n        this.quoteService.QuoteItemData.InWarranty = warrantyvalue;\n        this.quoteService.QuoteItemData.UnitCost = 0;\n        this.quoteService.QuoteItemData.Total = 0;\n        this.ItemUnitCosttIsValid = true;\n      }\n      if (warrantyvalue === true) { this.tempInWarranty = true; } else { this.tempInWarranty = false; }\n    }\n    if (this.currentUser.Permissions.ProductWarranty) {\n      if (this.quoteService.QuoteItemData.InWarranty) {\n        this.ItemUniqueIsValid = true;\n        this.GenerateUniqueRandom();\n      }\n    }\n    this.InitialazeProductDropdown();\n  }\n\n  GenerateUniqueRandom() {\n    if (this.ItemBtn === 'Add') {\n      this.productservice.GetRandamUniqueId(this.currentUser.Token).subscribe( res => {\n        if (res) { const response = res as any;\n                   if (response.Message === 'success') {\n                    this.quoteService.QuoteItemData.UniqId  = response.MessageDescription;\n                    }\n      }}, error =>  console.log(error));\n    }\n  }\n  // on remove depoiste type\n  HideRequestedSection() {\n    this.quoteService.QuoteData.ReqDepositeAmount = 0;\n    this.quoteService.QuoteData.ReqDepositeTextValue = 0;\n  }\n  public addProductToQuote(QItemId: number,\n    ItemName: string, Qty: number, UnitCost: number, Total: number, ItemDescription: string) {\n    this.ItemIsValid = true;\n    if (this.quoteService.QuoteData.Id === undefined || this.quoteService.QuoteData.Id === '00000000-0000-0000-0000-000000000000') {\n      this.router.navigate(['/quotes/quote-Add']);\n      return false;\n    }\n    if (ItemName === undefined || ItemName === 'select' || ItemName === '') {\n      this.toastr.warning('Warning', 'Please select a product');\n      this.ItemProductIsValid = false;\n      this.ItemIsValid = false;\n      return false;\n    }\n    if (Qty === undefined || Qty === null) {\n      this.toastr.warning('Warning', 'Please enter quantity');\n      this.ItemQuantityIsValid = false;\n      this.ItemIsValid = false;\n      this.isQtyValid = false;\n      return false;\n    }\n    if (UnitCost === undefined || UnitCost === null) {\n      this.toastr.warning('Warning', 'Please enter unit cost');\n      this.ItemUnitCosttIsValid = false;\n      this.ItemIsValid = false;\n      this.isUnitCostValid = false;\n      return false;\n    }\n    if (this.quoteService.QuoteItemData.UniqId === null || this.quoteService.QuoteItemData.UniqId === undefined) { this.quoteService.QuoteItemData.UniqId === ''; }\n    if (this.currentUser.Permissions.ProductWarranty) {\n      if (this.quoteService.QuoteItemData.InWarranty) {\n        if (this.quoteService.QuoteItemData.UniqId === '' || this.quoteService.QuoteItemData.UniqId.length === 0) {\n          this.toastr.warning('Warning', 'Please enter a unique id');\n          this.ItemUniqueIsValid = false;\n          this.ItemIsValid = false;\n          return false;\n        }\n      }\n    }\n    this.quoteService.QuoteItemData.Id = QItemId;\n    this.quoteService.QuoteItemData.QuoteId = this.quoteService.QuoteData.Id;\n    this.quoteService.QuoteItemData.ItemName = ItemName;\n    this.quoteService.QuoteItemData.Qty = Qty;\n    this.quoteService.QuoteItemData.UnitCost = UnitCost;\n    this.quoteService.QuoteItemData.Total = Total;\n    this.quoteService.QuoteItemData.ItemDescription = ItemDescription;\n\n    const des = 'A Service : ' + this.quoteService.QuoteItemData.ItemName + ', has been added to the Quotation No ' +\n      this.quoteService.QuoteData.QuoteId + ' of Customer ' + this.quoteService.QuoteData.CustomerName + ' and Qty ' +\n      this.quoteService.QuoteItemData.Qty + ' Amount of : $ ' + this.quoteService.QuoteItemData.Total\n      + ' by user ' + this.currentUser.UserName;\n    const Activity1 = 'An item : ' + this.quoteService.QuoteItemData.ItemName + 'Amount of : ' + this.quoteService.QuoteItemData.Total +\n      ' is added to the Quotation No : ' + this.quoteService.QuoteData.QuoteId;\n    this.logService.postUserLog(this.currentUser.Id, this.currentUser.UserName, 'Quotation',\n      this.quoteService.QuoteData.Id, 'Added', des, Activity1).subscribe();\n      this.quoteService.QuoteItemData.Qty = Number(this.quoteService.QuoteItemData.Qty);\n    this.quoteService.QuoteItemData.Total = Number(this.quoteService.QuoteItemData.Total);\n    this.quoteService.QuoteItemData.UnitCost = Number(this.quoteService.QuoteItemData.UnitCost);\n    this.quoteService.QuoteItemData.WarrantyDays = Number(this.quoteService.QuoteItemData.WarrantyDays);\n    if (QItemId === 0) {\n      this.quoteService.postQuoteItemDetails(this.currentUser.Token).subscribe( res => {\n        if (res) { const response = res as any;\n                   if (response.Message === 'success') {\n                    this.Isnavigated = true;\n                    this.getQuoteItems();\n                    this.ItemUniqueIsValid = true;\n                    this.isUnitCostValid = true;\n                    this.isQtyValid = true;\n                    }\n                   if (response.Message === 'failure') {\n                      this.toastr.warning('warning', response.MessageDescription);\n                    }\n      }}, error =>  console.log(error));\n    } else {\n      this.quoteService.putQuoteItemDetails(this.currentUser.Token).subscribe( res => {\n        if (res) { const response = res as any;\n                   if (response.Message === 'success') {\n                    this.getQuoteItems();\n                    const des1 = 'A Service : ' + this.quoteService.QuoteItemData.ItemName + ', has been modified from the Quotation No ' +\n                      this.quoteService.QuoteData.QuoteId + ', of Customer : ' + this.quoteService.QuoteData.CustomerName + ', and Qty ' +\n                      this.quoteService.QuoteItemData.Qty + ', Amount of : $ ' + this.quoteService.QuoteItemData.Total\n                      + ' by user ' + this.currentUser.UserName;\n                    const Activity2 = 'An item : ' + this.quoteService.QuoteItemData.ItemName + ' Amount of : '\n                      + this.quoteService.QuoteItemData.Total +\n                      ' is update to the Quotation No : ' + this.quoteService.QuoteData.QuoteId;\n                    this.logService.postUserLog(this.currentUser.Id, this.currentUser.UserName,\n                      'Quotation', this.quoteService.QuoteData.Id, 'Modify', des1, Activity2).subscribe();\n                    }\n                   if (response.Message === 'failure') {\n                      this.toastr.warning('warning', response.MessageDescription);\n                    }\n      }}, error =>  console.log(error));\n      this.ItemBtn = 'Add';\n    }\n    this.ItemUniqueIsValid = true;\n    this.quoteService.QuoteItemData.Id = 0;\n    this.quoteService.QuoteItemData.QuoteId = '';\n    this.quoteService.QuoteItemData.ItemName = '';\n    this.quoteService.QuoteItemData.Qty = null;\n    this.quoteService.QuoteItemData.UnitCost = null;\n    this.quoteService.QuoteItemData.Total = null;\n    this.quoteService.QuoteItemData.ItemDescription = null;\n    this.quoteService.QuoteItemData.UniqId = '';\n    this.quoteService.QuoteItemData.InWarranty = false;\n    this.quoteService.QuoteItemData.WarrantyDays = 0;\n    if (this.quoteService.QuoteItemData.Type === 'Product') {\n      this.quoteService.QuoteItemData.Type = 'Service';\n      this.InitialazeProductDropdown();\n      setTimeout(() => { this.quoteService.QuoteItemData.Type = 'Product'; this.InitialazeProductDropdown(); }, 200);\n    } else {\n      this.quoteService.QuoteItemData.Type = 'Product';\n      this.InitialazeProductDropdown();\n      setTimeout(() => { this.quoteService.QuoteItemData.Type = 'Service'; this.InitialazeProductDropdown(); }, 200);\n    }\n    setTimeout(() => {\n      this.quoteService.QuoteData.NetAmount = 0;\n      this.quoteService.QuoteItemList.forEach(element => {\n        this.quoteService.QuoteData.NetAmount += element.Total;\n      });\n    }, 1000);\n  }\n  PupulateQuoteProductList(x: QuoteItem) {\n    this.quoteService.QuoteItemData = Object.assign({}, x);\n    this.ItemBtn = 'Update';\n    if (x.InWarranty) { this.tempInWarranty = true; } else { this.tempInWarranty = false; }\n    setTimeout(() => {\n      this.quoteService.QuoteItemData.Qty = x.Qty;\n    }, 800);\n  }\n  RemoveQuoteItem(id: number) {\n    this.quoteService.deleteQuoteItem(this.currentUser.Token, id).subscribe( res => {\n      if (res) { const response = res as any;\n                 if (response.Message === 'success') {\n                  this.toastr.info('info', response.MessageDescription);\n                  this.getQuoteItems();\n                  this.setlocalcount();\n                  }\n                 if (response.Message === 'failure') {\n                    this.toastr.warning('warning', response.MessageDescription);\n                  }\n    }}, error =>  console.log(error));\n  }\n\n  setlocalcount() {\n    this.ItemSubTotalByArry = [];\n    this.ItemSubTotalByArry = this.quoteService.QuoteItemList.map(element => element.Total);\n    if (this.ItemSubTotalByArry.length < 0) {\n      this.quoteService.QuoteData.SubTotal = 0;\n      this.quoteService.QuoteData.NetAmount = 0;\n      this.quoteService.QuoteData.TaxAmount = 0;\n      this.quoteService.QuoteData.TaxRate = 0;\n      this.quoteService.QuoteData.DiscountAmount = 0;\n      this.quoteService.QuoteData.DiscountTextValue = 0;\n    } else {\n      this.quoteService.QuoteData.SubTotal = this.ItemSubTotalByArry.reduce((a, b) => a + b, 0);\n\n      let EditSubTotalValue = Number(this.ItemSubTotalByArry.reduce((a, b) => a + b, 0));\n      let EditTaxRate = Number(this.quoteService.QuoteData.TaxRate);\n      let EditTaxAmt = Number(EditSubTotalValue * EditTaxRate) / 100;\n      this.quoteService.QuoteData.TaxAmount = EditTaxAmt;\n      this.quoteService.QuoteData.SubTotal = EditSubTotalValue;\n\n      if (Number(this.quoteService.QuoteData.DiscountType) === 0) {\n        const EditDisTextValue = Number(this.quoteService.QuoteData.DiscountTextValue);\n        if (Number(EditSubTotalValue) < EditDisTextValue) {\n          this.quoteService.QuoteData.DiscountAmount = 0;\n        } else {\n          this.quoteService.QuoteData.DiscountAmount = Number(EditDisTextValue);\n          this.quoteService.QuoteData.NetAmount = Number(EditSubTotalValue + EditTaxAmt - EditDisTextValue);\n        }\n      } else if (Number(this.quoteService.QuoteData.DiscountType) === 1) {\n        const EditDisTextValue = Number(this.quoteService.QuoteData.DiscountTextValue);\n        const z = Number(EditSubTotalValue * EditDisTextValue / 100);\n        if (Number(EditSubTotalValue) < z) {\n          this.quoteService.QuoteData.DiscountAmount = 0;\n        } else {\n          this.quoteService.QuoteData.DiscountAmount = Number(z);\n          this.quoteService.QuoteData.NetAmount = Number(EditSubTotalValue + EditTaxAmt - z);\n        }\n      }\n    }\n  }\n  // on deposite type change value\n  changeDepositeValue() {\n    if (Number(this.quoteService.QuoteData.ReqDepositeType) === 0) {\n      const v = this.quoteService.QuoteData.NetAmount;\n      const x = this.quoteService.QuoteData.ReqDepositeTextValue;\n      if (Number(this.quoteService.QuoteData.NetAmount) < x) {\n        this.quoteService.QuoteData.ReqDepositeAmount = 0;\n      } else {\n        this.quoteService.QuoteData.ReqDepositeAmount = x;\n      }\n    } else if (Number(this.quoteService.QuoteData.ReqDepositeType) === 1) {\n      const v = this.quoteService.QuoteData.NetAmount;\n      const x = this.quoteService.QuoteData.ReqDepositeTextValue;\n      const z = v * x / 100;\n      if (Number(this.quoteService.QuoteData.NetAmount) < z) {\n        this.quoteService.QuoteData.ReqDepositeAmount = 0;\n      } else {\n        this.quoteService.QuoteData.ReqDepositeAmount = z;\n      }\n    }\n\n  }\n  changeDiscountValue() {\n    if(this.quoteService.QuoteData.DiscountType == null || this.quoteService.QuoteData.DiscountType == undefined){\n      this.quoteService.QuoteData.DiscountType = 0\n    }\n    if (Number(this.quoteService.QuoteData.DiscountType) === 0) {\n      let SubTotalValue = Number(this.quoteService.QuoteData.SubTotal);\n      const DisTextValue = Number(this.quoteService.QuoteData.DiscountTextValue);\n      if (Number(SubTotalValue) < DisTextValue) {\n        this.quoteService.QuoteData.DiscountAmount = 0;\n\n        let TempTaxRate = Number(this.quoteService.QuoteData.TaxRate);\n        let tempTaxAmt = Number(SubTotalValue) * TempTaxRate / 100;\n        this.quoteService.QuoteData.TaxAmount = tempTaxAmt;\n        this.quoteService.QuoteData.NetAmount = Number(SubTotalValue + tempTaxAmt);\n\n      } else {\n        this.quoteService.QuoteData.DiscountAmount = Number(DisTextValue);\n\n        let TempTaxRate = Number(this.quoteService.QuoteData.TaxRate);\n        let tempTaxAmt = (Number(SubTotalValue) - Number(DisTextValue)) * TempTaxRate / 100;\n        this.quoteService.QuoteData.TaxAmount = tempTaxAmt;\n\n        // let TaxAmt = Number(this.quoteService.QuoteData.TaxAmount) ;\n        let z = SubTotalValue - DisTextValue + tempTaxAmt;\n        this.quoteService.QuoteData.NetAmount = Number(z);\n      }\n    } else if (Number(this.quoteService.QuoteData.DiscountType) === 1) {\n      let SubTotalValue = Number(this.quoteService.QuoteData.SubTotal);\n      let DisTextValue = Number(this.quoteService.QuoteData.DiscountTextValue);\n      const tempDiscAmount = Number(SubTotalValue * DisTextValue / 100);\n      if (Number(SubTotalValue) < tempDiscAmount) {\n        this.quoteService.QuoteData.DiscountAmount = 0;\n\n        let TempTaxRate = Number(this.quoteService.QuoteData.TaxRate);\n        let tempTaxAmt = Number(SubTotalValue) * Number(TempTaxRate) / 100;\n        this.quoteService.QuoteData.TaxAmount = Number(tempTaxAmt);\n\n        this.quoteService.QuoteData.NetAmount = Number(SubTotalValue + tempTaxAmt);\n      } else {\n        this.quoteService.QuoteData.DiscountAmount = Number(tempDiscAmount);\n\n        let TempTaxRate = Number(this.quoteService.QuoteData.TaxRate);\n        let tempTaxAmt = (Number(SubTotalValue) - Number(tempDiscAmount)) * TempTaxRate / 100;\n\n        this.quoteService.QuoteData.TaxAmount = tempTaxAmt;\n        let zz = SubTotalValue - tempDiscAmount + tempTaxAmt;\n        this.quoteService.QuoteData.NetAmount = Number(zz);\n      }\n    }\n  }\n  // remove discount value\n  RemoveDiscount() {\n    this.quoteService.QuoteData.NetAmount = Number(this.quoteService.QuoteData.NetAmount) +\n      Number(this.quoteService.QuoteData.DiscountAmount);\n    this.quoteService.QuoteData.DiscountTextValue = 0;\n    this.quoteService.QuoteData.DiscountType = 0;\n    this.quoteService.QuoteData.DiscountAmount = 0;\n  }\n  // calculate tax\n  CalculateQuoteTax() {\n    let SubTotalValue = Number(this.quoteService.QuoteData.SubTotal);\n    let DisctAmt = this.quoteService.QuoteData.DiscountAmount;\n    let TaxRate = Number(this.quoteService.QuoteData.TaxRate);\n    let z = SubTotalValue - DisctAmt;\n    let TaxAmt = Number(z * TaxRate) / 100;\n    this.quoteService.QuoteData.TaxAmount = TaxAmt;\n    this.quoteService.QuoteData.NetAmount = z + TaxAmt;\n  }\n  picked(event) {\n    this.loader = true;\n    let t = this.currentUser.Token;\n    let type = 'quotationattachment';\n    let moduleid = this.quoteService.QuoteData.Id;\n    let remark = '';\n    let Files = event.target.files;\n    let file = Files.item(0);\n    this.docservice.uploadDocument(t , type, moduleid, '', remark, file).subscribe( res => {\n      if (res) { const response = res as any;\n        console.log(response);\n                 if (response.Message === 'success') {\n                  this.toastr.info('upload successfully');\n                  this.quoteService.getQuoteAttachments(this.quoteService.QuoteData.Id);\n                  this.loader = false;\n                  }\n                  if (response.Message === 'failure') {\n                    this.toastr.warning(response.MessageDescription);\n                    this.loader = false;\n                  }\n    }}, error =>  console.log(error));\n    this.loader = false;\n  }\n  RemoveQuoteAttachement(QuoteAttamentId: string) {\n    if (confirm('Are you sure to delete this attachment?')) {\n      this.loader = true;\n      let t = this.currentUser.Token;\n      let type = 'quotationattachment';\n      let id = QuoteAttamentId.toString();\n      let moduleid = this.quoteService.QuoteData.Id;\n      let remark = '';\n      this.docservice.RemoveDocument(t , type, moduleid, id, remark).subscribe( res => {\n        if (res) { const response = res as any;\n                   if (response.Message === 'success') {\n                    this.toastr.info(response.MessageDescription);\n                    this.quoteService.getQuoteAttachments(this.quoteService.QuoteData.Id);\n                    this.loader = false;\n                    }\n                    if (response.Message === 'failure') {\n                      this.toastr.warning(response.MessageDescription);\n                      this.loader = false;\n                    }\n      }}, error =>  console.log(error));\n      this.loader = false;\n    }\n  }\n  onQuotePost(s: number) {\n    this.quoteService.QuoteData.Status = s;\n    this.quoteService.QuoteData.CreatedBy = this.currentUser.Id;\n    if (this.quoteService.QuoteData.CustomerName === undefined ||\n      this.quoteService.QuoteData.CustomerName === 'Customer Name?' ||\n      this.quoteService.QuoteData.CustomerName === '') {\n      this.toastr.warning('warning', 'Select Customer!');\n      return false;\n    }\n    // tslint:disable-next-line:max-line-length\n    if (this.quoteService.QuoteData.JobTitle === null || this.quoteService.QuoteData.JobTitle === '' || this.quoteService.QuoteData.JobTitle === undefined) {\n      this.toastr.warning('warning', 'Add quote title.');\n      this.isQuoteTitleValid = false;\n      // tslint:disable-next-line:max-line-length\n    } else if (this.quoteService.QuoteItemList.length === 0 || this.quoteService.QuoteItemList === [] || this.quoteService.QuoteItemList === undefined) {\n      this.toastr.warning('warning', 'Add product/service to the quotation.');\n    } else {\n      this.quoteService.QuoteData.DiscountType = Number(this.quoteService.QuoteData.DiscountType);\n      this.quoteService.QuoteData.TaxRate = Number(this.quoteService.QuoteData.TaxRate);\n      this.loader = true;\n      this.quoteService.putQuote(this.currentUser.Token).subscribe(res => {\n        if (res) {\n          const response = res as any;\n          if (response.Message === 'success') {\n            if (response.Status === 'insert') {\n              this.toastr.success('success', response.MessageDescription);\n              const qId = this.quoteService.QuoteData.Id;\n              const isCust = this.notifyService.NotificationData.QuoteCustomer;\n              const isAdmin = this.notifyService.NotificationData.QuoteAdmin;\n              const AdminId = this.currentUser.Id;\n              if (isCust === true || isAdmin === true) {\n                this.notifyService.quoteEmailNotification(qId, isCust, isAdmin, AdminId)\n                  .subscribe(resw => {\n                    if (resw) {\n                    }\n                  }, error => console.log(error));\n              }\n              this.loader = false;\n              // This section is used for email notification\n              const des = 'Quotation No : ' + this.quoteService.QuoteData.QuoteId + ', is added by '\n                + this.currentUser.UserName + ', for Customer '\n                + this.quoteService.QuoteData.CustomerName + 'Quotation title ' +\n                this.quoteService.QuoteData.JobTitle + ' Amount of $ ' + this.quoteService.QuoteData.NetAmount + '.00' +\n                ', Discount Amount : ' + this.quoteService.QuoteData.DiscountAmount + ', Tax Amount : ' +\n                this.quoteService.QuoteData.TaxAmount +\n                ', Description : ' + this.quoteService.QuoteData.ClientRemark + ', Internal note : ' +\n                this.quoteService.QuoteData.InternalNotes +\n                ', on dated : ' + new Date(Date.parse(Date()));\n              const Activity5 = 'New Quotation No : ' + this.quoteService.QuoteData.QuoteId + ' is created Amount of :$ '\n                + this.quoteService.QuoteData.NetAmount + '0.00';\n              this.logService.postUserLog(this.currentUser.Id, this.currentUser.UserName, 'Quotation',\n                this.quoteService.QuoteData.Id, 'Added', des, Activity5).subscribe();\n              this.router.navigate(['/quotes/']);\n            }\n            if (response.Status === 'update') {\n              this.toastr.success('success', response.MessageDescription);\n              this.notifyService.updateQuoteEmailNotification(\n                this.quoteService.QuoteData.Id,\n                this.notifyService.NotificationData.QuoteCustomer,\n                this.notifyService.NotificationData.QuoteAdmin,\n                this.currentUser.Id)\n                .subscribe(resu => {\n                  if (resu) {\n                  }\n                }, error => console.log(error));\n              const des1 = 'Quotation No : ' + this.quoteService.QuoteData.QuoteId + ', is modified by '\n                + this.currentUser.UserName + ', for Customer '\n                + this.quoteService.QuoteData.CustomerName + 'Quotation title ' +\n                this.quoteService.QuoteData.JobTitle + ' Amount of $ ' + this.quoteService.QuoteData.NetAmount + '.00' +\n                ', Discount Amount : ' + this.quoteService.QuoteData.DiscountAmount + ', Tax Amount : ' +\n                this.quoteService.QuoteData.TaxAmount +\n                ', Description : ' + this.quoteService.QuoteData.ClientRemark + ', Internal note : ' +\n                this.quoteService.QuoteData.InternalNotes +\n                ', on dated : ' + new Date(Date.parse(Date()));\n              const Activity6 = 'Quotation No : ' + this.quoteService.QuoteData.QuoteId + ' is updated Amount of :$ '\n                + this.quoteService.QuoteData.NetAmount + '0.00';\n              this.logService.postUserLog(this.currentUser.Id, this.currentUser.UserName, 'Quotation',\n                this.quoteService.QuoteData.Id, 'Modify', des1, Activity6).subscribe();\n              this.router.navigate(['/quotes/']);\n            }\n          }\n          if (response.Message === 'failure') {\n            this.toastr.warning('warning', response.MessageDescription);\n            this.loader = false;\n          }\n        }\n      }, error => console.log(error));\n    }\n  }\n  // onSelectQuotesItemType() {\n  //   switch (Number(this.quoteService.QuoteItemData.Type)) {\n  //     case 1: this.quoteService.QuoteItemData.Type = 1; break;\n  //     case 2: this.quoteService.QuoteItemData.Type = 2; break;\n  //     default: this.quoteService.QuoteItemData.Type = 0; break;\n  //   }\n  // }\n  ngOnDestroy() {\n    this.quoteService.SetAsDefaultValue();\n    this.routeSub.unsubscribe();\n  }\n  CleareProductToQuote() {\n    this.quoteService.QuoteItemData.ItemName = '';\n    this.quoteService.QuoteItemData.Qty = null;\n    this.quoteService.QuoteItemData.ItemDescription = null;\n    this.quoteService.QuoteItemData.UnitCost = null;\n    this.quoteService.QuoteItemData.Total = null;\n    this.quoteService.QuoteItemData.InWarranty = false;\n    this.quoteService.QuoteItemData.WarrantyDays = 365;\n    this.quoteService.QuoteItemData.UniqId = '';\n  }\n\n  onQuoteNosChange() {\n    if (this.QuoteNosChange) {\n      this.QuoteNosChange = false;\n      this.QuoteNosChangeBtn = 'Change';\n      if (this.locateQuoteUniqueID === this.quoteService.QuoteData.QuoteUniqueID) {\n      } else {\n        this.ValidateQuoteNo();\n      }\n    } else {\n      this.QuoteNosChange = true;\n      this.QuoteNosChangeBtn = 'Save';\n    }\n  }\n  ValidateQuoteNo() {\n    this.quoteService.ValidateQuoteNo(this.quoteService.QuoteData.QuoteUniqueID).subscribe(\n      res => {\n        switch (res.status) {\n          case 201:\n            this.newUniqueID = res.body;\n            this.quoteService.QuoteData.QuoteId = this.genicProfile.formData.QuotePrefix + this.newUniqueID;\n            this.toastr.success('success', 'Quotation number available.');\n            break;\n          case 202:\n            this.toastr.warning('warning', 'Quotation number already taken, choose another.');\n            break;\n          default: this.toastr.error('error', res.statusText); break;\n        }\n      }, err => { console.log(err); });\n  }\n  numberOnly(event): boolean {\n    if (event.target.value === 0 || event.target.value === '') {\n      this.isQtyValid = false;\n    } else {\n      this.isQtyValid = true;\n    }\n    if (Number(event.target.value) === 0) {\n      event.target.value = null;\n    }\n    const charCode = (event.which) ? event.which : event.keyCode;\n    if (charCode > 31 && (charCode < 48 || charCode > 57)) {\n      return false;\n    }\n    return true;\n  }\n  numberwithDecimalOnly(event): boolean {\n    if (event.target.value === 0 || event.target.value === '') {\n      this.isUnitCostValid = false;\n    } else {\n      this.isUnitCostValid = true;\n    }\n    if (Number(event.target.value) === 0) {\n      event.target.value = null;\n    }\n    const charCode = (event.which) ? event.which : event.keyCode;\n    if (charCode > 31 && (charCode < 48 || charCode > 57)) {\n      if (charCode === 46) {\n        return true;\n      } else {\n        return false;\n      }\n    }\n    return true;\n  }\n\n  OpenAddClienDialog() {\n    const dialogConfig = new MatDialogConfig();\n    dialogConfig.autoFocus = true;\n    dialogConfig.width = '50%';\n    dialogConfig.data = {};\n    this.dialog.open(QuoteCustomerPopupComponent, dialogConfig).afterClosed().subscribe(res => {\n      if (res !== '') {\n        this.customerData = new Customer();\n        this.customerData = res.x;\n        this.quoteService.PropertyList = [];\n        this.quoteService.getCustomerProperty(res.x.Id);\n        this.OpenAddCustomerPropertyQuoteDialog();\n        setTimeout(() => {\n          this.quoteService.refrestArrayofKeyslist(res.x.Id);\n        }, 200);\n\n      }\n    });\n  }\n\n\n  OpenAddCustomerPropertyQuoteDialog() {\n    const dialogConfig = new MatDialogConfig();\n    dialogConfig.autoFocus = true;\n    dialogConfig.width = '50%';\n    dialogConfig.data = {};\n    this.dialog.open(QuotecustomerPropertyPopupComponent, dialogConfig).afterClosed().subscribe(res => {\n      if (res !== '') {\n        if (res === undefined) {\n          this.router.navigate(['/properties/property-add/'], {\n            queryParams:\n              { ' id': this.quoteService.QuoteData.CustomerId, ' name': this.quoteService.QuoteData.CustomerName }\n          });\n        } else {\n          this.customerPropertyData = new Property();\n          this.customerPropertyData = res.x;\n          this.quoteService.QuoteData.CompanyName = this.customerData.CompanyName;\n          this.quoteService.QuoteData.CustomerName = this.customerPropertyData.CustomerName;\n          this.quoteService.QuoteData.CustomerId = this.customerPropertyData.CustomerId;\n          this.quoteService.QuoteData.PropertyId = this.customerPropertyData.Id;\n          this.quoteService.QuoteData.CustomerAddress = res.x.AddressStreet1 + ' ' + res.x.AddressStreet2 + ' ' + res.x.AddressUnitNo + ' ' + res.x.AddressCountry + ' ' + res.x.AddressZipCode;\n        }\n      }\n    });\n  }\n  public customwarrantyShowMethor() {\n    if (this.quoteService.QuoteItemData.WarrantyDays === undefined) {\n      this.customwarrantyShow = false;\n    } else {\n      switch (this.quoteService.QuoteItemData.WarrantyDays.toString()) {\n        case '90':\n        case '180':\n        case '270':\n        case '365': this.customwarrantyShow = true; break;\n        default: this.customwarrantyShow = false; break;\n      }\n    }\n  }\n  enablewarrantchange() {\n    if (this.customwarrantyShowEdit) { this.customwarrantyShowEdit = false; } else { this.customwarrantyShowEdit = true; }\n  }\n}\n\n","<form autocomplete=\"off\" >\r\n  <div class=\"kt-content kt-grid__item kt-grid__item--fluid kt-grid kt-grid--hor\" id=\"kt_content\">\r\n    <div class=\"kt-subheader kt-grid__item\" id=\"kt_subheader\">\r\n      <div class=\"kt-container kt-container--fluid\">\r\n        <div class=\"kt-subheader__main\">\r\n          <h3 class=\"kt-subheader__title\">\r\n            <a href=\"javascript:;\" routerLink=\"/dashboard\">\r\n              Dashboard\r\n            </a>\r\n          </h3>\r\n          <span class=\"kt-subheader__separator kt-hidden\"></span>\r\n          <div class=\"kt-subheader__breadcrumbs\">\r\n            <i class=\"fa fa-angle-double-right\" aria-hidden=\"true\"></i>\r\n            <span class=\"kt-subheader__breadcrumbs-separator\"></span>\r\n            <a href=\"javascript:;\" routerLink=\"/quotes\" class=\"kt-subheader__breadcrumbs-link\"> Quotation's </a>\r\n          </div>\r\n          <span class=\"kt-subheader__separator kt-hidden\"></span>\r\n          <div class=\"kt-subheader__breadcrumbs\">\r\n            <i class=\"fa fa-angle-double-right\" aria-hidden=\"true\"></i>\r\n            <span class=\"kt-subheader__breadcrumbs-separator\"></span>\r\n            Quotation\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <input type=\"hidden\" name=\"Id\" #Id=\"ngModel\" [(ngModel)]=\"quoteService.QuoteData.Id\">\r\n    <input type=\"hidden\" name=\"CustomerId\" #CustomerId=\"ngModel\" [(ngModel)]=\"quoteService.QuoteData.CustomerId\">\r\n    <div class=\"new-request-main-section jobs-for-client-section\">\r\n      <div class=\"kt-container kt-container--fluid quote-head\">\r\n        <div class=\"new-requst-filter_form\">\r\n          <div class=\"quoteBody quote-edit-body\">\r\n            <div class=\"col-md-12 section-client-requst-form bodyTitle quote-edit-request\">\r\n              <div class=\"\">\r\n                <div class=\"kt-section\">\r\n                  <h3 class=\"kt-section__title\">\r\n                    <a href=\"javascript:;\">\r\n                      <p> QUOTATION FOR\r\n                        <span>{{quoteService.QuoteData.CompanyName}}</span>\r\n                      </p>\r\n                    </a>\r\n                    <i data-toggle=\"kt-tooltip\" data-width=\"auto\" class=\"kt-section__help\" title=\"\"\r\n                      data-original-title=\"If different than the corresponding address\"></i>\r\n                  </h3>\r\n                </div>\r\n              </div>\r\n              <div class=\"kt-section__content col-md-7 requst-for-client-name\">\r\n                <div class=\"row\">\r\n                  <div class=\"col-lg-11 padd-left-0\">\r\n                    <label>Subject<span class=\"text-danger\">*</span></label>\r\n                    <textarea maxlength=\"1024\" [ngClass]=\"{'InvalidInput': isQuoteTitleValid===false}\" name=\"JobTitle\"\r\n                      #JobTitle=\"ngModel\" (keyup)=\"validateInput($event)\" (change)=\"validateInput($event)\"\r\n                      [(ngModel)]=\"quoteService.QuoteData.JobTitle\" class=\"form-control\" placeholder=\"Subject\"\r\n                      rows=\"1\"></textarea>\r\n                    <span *ngIf=\"isQuoteTitleValid===false\" class=\"spnError\">Quotation number is required.</span>\r\n                    <div class=\"row qtAddressSection\">\r\n                      <div class=\"col-md-6\">\r\n                        <label>Address : &nbsp;</label><br>\r\n                        <span>\r\n                          {{quoteService.QuoteData.CustomerAddress}}\r\n                        </span>\r\n                      </div>\r\n                      <div class=\"col-md-6\">\r\n                        <label>Contact Details &nbsp;</label><br />\r\n                        <label>{{quoteService.QuoteData.CustomerName}}</label><br>\r\n                        <span class=\"kt-widget4__sub\">\r\n                          <span>{{quoteService.QuoteData.CustomerEmail}}</span><br />\r\n                          <span>{{quoteService.QuoteData.CustomerContactNo}}</span>\r\n                        </span>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div class=\"col-md-5 new-requst-client-name qtbdsecton\">\r\n                <div class=\"kt-widget4 kt-widget4--sticky\">\r\n                  <div class=\"kt-widget4__items kt-widget4__items--bottom kt-portlet__space-x kt-margin-b-20\">\r\n                    <div class=\"row\">\r\n                      <div class=\"kt-widget4__item\">\r\n                        <div class=\"col-md-4\">\r\n                          <div class=\"kt-widget4__info\">\r\n                            <a href=\"javascript:;\" class=\"kt-widget4__title\">\r\n                              Quotation\r\n                            </a>\r\n                            <span class=\"kt-widget4__sub\">\r\n                              Rate opportunity\r\n                            </span>\r\n                          </div>\r\n                        </div>\r\n                        <div class=\"col-md-8\">\r\n                            <span class=\"kt-widget4__ext\" *ngIf=\"!QuoteNosChange\">\r\n                              <span class=\"kt-widget4__number kt-font-danger\">{{quoteService.QuoteData.QuoteId}}</span>\r\n                            </span>\r\n                            <span class=\"kt-widget4__ext\" *ngIf=\"QuoteNosChange\">\r\n                              <span\r\n                                  class=\"input-group-addon\">{{ genicProfile.formData.QuotePrefix }}-</span>\r\n                              <span>\r\n                                <input type=\"number\" maxlength=\"5\" class=\"form-control btnChangeQuote\" name=\"QuoteUniqueID\"\r\n                                [(ngModel)]=\"quoteService.QuoteData.QuoteUniqueID\" style=\"height: 33px !important;\r\n                                width: 61px;\r\n                                display: inline-block;\"/>\r\n                              </span>\r\n                            </span>\r\n                          </div>\r\n                          <div class=\"col-md-3\" style=\"display: none;\">\r\n                            <span class=\"kt-widget4__ext\">\r\n                              <span class=\"kt-widget4__number kt-font-danger\">\r\n                                <a (click)=\"onQuoteNosChange()\" href=\"javascript:;\">{{QuoteNosChangeBtn}}</a>\r\n                              </span>\r\n                            </span>\r\n                          </div> \r\n                      </div>\r\n                      <div class=\"kt-widget4__item\">\r\n                        <div class=\"col-md-4\">\r\n                          <label for=\"\">Attention</label>\r\n                        </div>\r\n                        <div class=\"col-md-8\">\r\n                          <input type=\"text\" \r\n                          placeholder=\"Attention\"\r\n                          [(ngModel)]=\"quoteService.QuoteData.Attention\" class=\"form-control\"\r\n                          name=\"Attention\">\r\n                        </div>\r\n                      </div>\r\n\r\n                      <div class=\"kt-widget4__item\" style=\"display:none;\">\r\n                        <div class=\"col-md-5\">\r\n                          <label for=\"\">Prepared By</label>\r\n                        </div>\r\n                        <div class=\"col-md-7\">\r\n                          <input type=\"text\" \r\n                          placeholder=\"Prepared By\"\r\n                          [(ngModel)]=\"quoteService.QuoteData.PreparedBy\" class=\"form-control\"\r\n                          name=\"PreparedBy\">\r\n                        </div>\r\n                      </div>\r\n                      <div class=\"kt-widget4__item\">\r\n                        <label _ngcontent-ndn-c4=\"\" class=\"kt-checkbox kt-checkbox--solid kt-checkbox--brand check-ticket\">\r\n                        </label>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div class=\"col-md-12 new-request-service-details-form\">\r\n              <div class=\"row\">\r\n                <div class=\"col-md-12 job-for-tab-content\">\r\n                  <div class=\"kt-portlet kt-portlet--height-fluid kt-widget19\">\r\n                    <div class=\"kt-portlet__head\">\r\n                      <div class=\"kt-portlet__head-label\">\r\n                        <h3 class=\"kt-portlet__head-title\">\r\n                          LINE ITEMS<span class=\"text-danger\">*</span>\r\n                        </h3>\r\n                      </div>\r\n                    </div>\r\n                    <div class=\"row\">\r\n                      <div class=\"kt-portlet__body\">\r\n                        <div class=\"col-md-12\">\r\n                          <table class=\"table table-borderless table-sm\">\r\n                            <tr>\r\n                              <th colspan=\"2\" width=\"50%\">\r\n                                <div class=\"product-service-colun-name\">\r\n                                  {{this.currentUser.Product.toUpperCase()}}/SERVICES</div>\r\n                              </th>\r\n                              <th width=\"15%\">\r\n                                <div class=\"product-service-colun-name\">QTY\r\n                                </div>\r\n                              </th>\r\n                              <th width=\"15%\">\r\n                                <div class=\"product-service-colun-name\">UNIT\r\n                                  COST</div>\r\n                              </th>\r\n                              <th width=\"15%\">\r\n                                <div class=\"product-service-colun-name\">TOTAL\r\n                                </div>\r\n                              </th>\r\n                              <th width=\"5%\"></th>\r\n                            </tr>\r\n                            <tr>\r\n                              <td colspan=\"6\">\r\n                                <div class=\"client-view-border-info\"></div>\r\n                              </td>\r\n                            </tr>\r\n                            <tr class=\"border\" *ngFor=\"let x of quoteService.QuoteItemList; let i=index\">\r\n                              <td colspan=\"2\">\r\n                                <b>{{ x.ItemName }}</b><br>{{ x.ItemDescription}}\r\n                                <div *ngIf=\"x.InWarranty\">\r\n                                  {{x.WarrantyDays}} Days warranty\r\n                                  <span *ngIf=\"x.UniqId?.length > 0\">({{x.UniqId}})</span>\r\n                                </div>\r\n                              </td>\r\n                              <td>\r\n                                <div *ngIf=\"x.Type === 'Product'\"> {{ x.Qty}}</div>\r\n                              </td>\r\n                              <td>\r\n                                ${{ x.UnitCost}}</td>\r\n                              <td>\r\n                                {{ x.Total}}</td>\r\n                              <td>\r\n                                <div class=\"btn-group btnOpp\">\r\n                                  <a href=\"javascript:;\" class=\"btn-Edit\" (click)=\"PupulateQuoteProductList(x)\"\r\n                                    title=\"edit\">\r\n                                    <i class=\"la la-edit\"></i>\r\n                                  </a>\r\n                                  <a href=\"javascript:;\" class=\" btn-remove\" (click)=\"RemoveQuoteItem(x.Id)\"\r\n                                    title=\"remove\">\r\n                                    <i class=\"la la-trash-o\"></i>\r\n                                  </a>\r\n                                </div>\r\n                              </td>\r\n                            </tr>\r\n                            <tr> \r\n                              <td colspan=\"2\">\r\n                                <div class=\"row radio-service\">\r\n                                  <div *ngIf=\"!currentUser.Permissions.IsProductOnly\" class=\"col-md-4\">\r\n                                    <label class=\"radio-inline\"><input type=\"radio\" name=\"QuoteItemData.Type\"\r\n                                        #QuoteItemData.Type=\"ngModel\" [(ngModel)]=\"quoteService.QuoteItemData.Type\"\r\n                                        (change)=\"OnQuationItemTypeChange()\" value=\"Product\">{{this.currentUser.Product}}</label>\r\n                                  </div>\r\n                                  <div *ngIf=\"!currentUser.Permissions.IsProductOnly\" class=\"col-md-4\">\r\n                                    <label class=\"radio-inline\"><input type=\"radio\" name=\"QuoteItemData.Type\"\r\n                                        #QuoteItemData.Type=\"ngModel\" [(ngModel)]=\"quoteService.QuoteItemData.Type\"\r\n                                        (change)=\"OnQuationItemTypeChange()\" value=\"Service\">Service</label>\r\n                                  </div>\r\n                                </div>\r\n                              </td>\r\n                              <td colspan=\"4\"></td>\r\n                            </tr>\r\n                            <tr>\r\n                              <td colspan=\"2\">\r\n                                <div class=\"row radio-service\">\r\n                                  <div class=\"col-md-12\" *ngIf=\"ItemBtn === 'Add'\">\r\n                                    <l-select2 *ngIf=\"this.quoteService.QuoteItemData.Type === 'Service'\"\r\n                                      name=\"product_formcontrol\" class=\"select2customcss\" [options]=\"productdata\"\r\n                                      [data]=\"data\" (valueChange)=\"WhenSelectProductChange($event)\">\r\n                                    </l-select2>\r\n                                    <l-select2 *ngIf=\"this.quoteService.QuoteItemData.Type === 'Product'\"\r\n                                      name=\"product_formcontrol\" class=\"select2customcss\" [options]=\"productdata\"\r\n                                      [data]=\"data\" (valueChange)=\"WhenSelectProductChange($event)\">\r\n                                    </l-select2>\r\n                                  </div>\r\n                                  <div class=\"col-md-12\" *ngIf=\"ItemBtn === 'Update'\">\r\n                                    <label class=\"form-control\">\r\n                                      {{quoteService.QuoteItemData.ItemName}}\r\n                                    </label>\r\n                                  </div>\r\n                                </div>\r\n                              </td>\r\n                              <td>\r\n                                <input *ngIf=\"quoteService.QuoteItemData.Type === 'Product'\" name=\"QuoteItemData.Qty\"\r\n                                  #QuoteItemData.Qty=\"ngModel\" [(ngModel)]=\"quoteService.QuoteItemData.Qty\"\r\n                                  height=\"30px\" type=\"text\" min=\"0\" maxlength=\"3\" class=\"form-control\"\r\n                                  [ngClass]=\"{'InvalidInput': isQtyValid===false}\" (keyup)=\"CalculateQuoteProductCost()\"\r\n                                  (keypress)=\"numberOnly($event)\" placeholder=\"Quantity\">\r\n                              </td>\r\n                              <td>\r\n                                <div class=\"input-group\">\r\n                                  <div class=\"input-group-prepend\">\r\n                                    <span class=\"input-group-text\" id=\"basic-addon1\">\r\n                                      <i class=\"fa fa-dollar-sign\"></i>\r\n                                    </span>\r\n                                  </div>\r\n                                  <input name=\"QuoteItemData.UnitCost\" #QuoteItemData.UnitCost=\"ngModel\" type=\"number\"\r\n                                    min=\"0\" maxlength=\"6\" [(ngModel)]=\"quoteService.QuoteItemData.UnitCost\"\r\n                                    class=\"form-control\" [ngClass]=\"{'InvalidInput': ItemUnitCosttIsValid===false}\"\r\n                                    (keyup)=\"CalculateQuoteProductCost()\" (keypress)=\"numberwithDecimalOnly($event)\"\r\n                                    placeholder=\"Unit Cost\">\r\n                                </div>\r\n                              </td>\r\n                              <td>\r\n                                <div class=\"input-group\">\r\n                                  <div class=\"input-group-prepend\">\r\n                                    <span class=\"input-group-text\" id=\"basic-addon1\">\r\n                                      <i class=\"fa fa-dollar-sign\"></i>\r\n                                    </span>\r\n                                  </div>\r\n                                  <input name=\"QuoteItemData.Total\" #QuoteItemData.Total=\"ngModel\" type=\"number\" min=\"0\"\r\n                                    [(ngModel)]=\"quoteService.QuoteItemData.Total\" height=\"30px\" class=\"form-control\"\r\n                                    placeholder=\"Total Cost\" readonly>\r\n                                </div>\r\n                              </td>\r\n                              <td></td>\r\n                            </tr>\r\n                            <tr>\r\n                              <td colspan=\"2\">\r\n                                <textarea name=\"QuoteItemData.ItemDescription\" #QuoteItemData.ItemDescription=\"ngModel\"\r\n                                  [(ngModel)]=\"quoteService.QuoteItemData.ItemDescription\" class=\"form-control\"\r\n                                  placeholder=\"Description\" rows=\"3\"></textarea>\r\n                              </td>\r\n                              <td colspan=\"4\">\r\n                                <div class=\"row\" *ngIf=\"currentUser.Permissions.ProductWarranty\">\r\n                                  <div class=\"col-lg-12 col-md-12\" *ngIf=\"tempInWarranty\">\r\n                                    <div class=\"row\">\r\n                                      <div class=\"col-lg-7 col-md-7 padd-top-10\" style=\"margin:auto;\">\r\n                                        <label class=\"kt-checkbox kt-checkbox--solid kt-checkbox--brand\">\r\n                                          <input type=\"checkbox\" name=\"quoteService.QuoteItemData.InWarranty\"\r\n                                            #quoteService.QuoteItemData.InWarranty=\"ngModel\" (change)=\"GenerateUniqueRandom()\"\r\n                                            [(ngModel)]=\"quoteService.QuoteItemData.InWarranty\">\r\n                                          want to give Warranty on\r\n                                          <i *ngIf=\"quoteService.QuoteItemData.Type === 'Product'\">\r\n                                            {{this.currentUser.Product}}\r\n                                          </i>\r\n                                          <i *ngIf=\"quoteService.QuoteItemData.Type === 'Service'\">\r\n                                            Service\r\n                                          </i>\r\n                                          <span></span>\r\n                                        </label>\r\n\r\n                                      </div>\r\n                                      <div class=\"col-lg-5 col-md-5\" style=\"margin:auto;\"\r\n                                        *ngIf=\"quoteService.QuoteItemData.InWarranty\">\r\n                                        {{quoteService.QuoteItemData.WarrantyDays}}\r\n                                        Days Warranty\r\n                                      </div>\r\n                                      <div class=\"col-lg-5 col-md-5\" *ngIf=\"!quoteService.QuoteItemData.InWarranty\">\r\n                                      </div>\r\n                                    </div>\r\n\r\n                                    <div class=\"row\" *ngIf=\"quoteService.QuoteItemData.InWarranty\">\r\n                                      <div class=\"col-lg-7 col-md-7\">\r\n                                        <input name=\"quoteService.QuoteItemData.UniqId\"\r\n                                          #quoteService.QuoteItemData.UniqId=\"ngModel\"\r\n                                          [(ngModel)]=\"quoteService.QuoteItemData.UniqId\"\r\n                                          [ngClass]=\"{'InvalidInput': ItemUniqueIsValid===false}\" height=\"30px\"\r\n                                          type=\"text\" min=\"0\" maxlength=\"64\" class=\"form-control\"\r\n                                          placeholder=\"Serial No\">\r\n                                      </div>\r\n                                      <div class=\"col-lg-5 col-md-5\">\r\n                                        <a class=\"text-warning btnStockUpdate\" href=\"javascript:void(0)\"\r\n                                          (click)=\"enablewarrantchange()\">\r\n                                          <span *ngIf=\"!customwarrantyShowEdit\"><i class=\"fa fa-plus\"\r\n                                              aria-hidden=\"true\"></i>\r\n                                            Edit Warranty</span>\r\n                                          <span *ngIf=\"customwarrantyShowEdit\"><i class=\"fa fa-minus\"\r\n                                              aria-hidden=\"true\"></i>\r\n                                            Hide </span>\r\n                                        </a>\r\n                                        <div class=\"kt-radio-list\" *ngIf=\"customwarrantyShowEdit\">\r\n                                          <label class=\"kt-radio kt-radio--bold kt-radio--brand\">\r\n                                            <input type=\"radio\" class=\"custom-control-input\" value=\"90\"\r\n                                              name=\"WarrantyDays\" #WarrantyDays=\"ngModel\"\r\n                                              (change)=\"customwarrantyShowMethor()\"\r\n                                              [(ngModel)]=\"quoteService.QuoteItemData.WarrantyDays\">\r\n                                            90 Days\r\n                                            <span></span>\r\n                                          </label>\r\n                                          <label class=\"kt-radio kt-radio--bold kt-radio--brand\">\r\n                                            <input type=\"radio\" class=\"custom-control-input\" value=\"180\"\r\n                                              name=\"WarrantyDays\" #WarrantyDays=\"ngModel\"\r\n                                              (change)=\"customwarrantyShowMethor()\"\r\n                                              [(ngModel)]=\"quoteService.QuoteItemData.WarrantyDays\">\r\n                                            180 Days\r\n                                            <span></span>\r\n                                          </label>\r\n                                          <label class=\"kt-radio kt-radio--bold kt-radio--brand\">\r\n                                            <input type=\"radio\" class=\"custom-control-input\" value=\"270\"\r\n                                              name=\"WarrantyDays\" #WarrantyDays=\"ngModel\"\r\n                                              (change)=\"customwarrantyShowMethor()\"\r\n                                              [(ngModel)]=\"quoteService.QuoteItemData.WarrantyDays\">\r\n                                            270 Days\r\n                                            <span></span>\r\n                                          </label>\r\n                                          <label class=\"kt-radio kt-radio--bold kt-radio--brand\">\r\n                                            <input type=\"radio\" class=\"custom-control-input\" value=\"365\"\r\n                                              name=\"WarrantyDays\" #WarrantyDays=\"ngModel\"\r\n                                              (change)=\"customwarrantyShowMethor()\"\r\n                                              [(ngModel)]=\"quoteService.QuoteItemData.WarrantyDays\">\r\n                                            365 Days\r\n                                            <span></span>\r\n                                          </label>\r\n                                          <label class=\"kt-radio kt-radio--bold kt-radio--brand\"\r\n                                            *ngIf=\"customwarrantyShow\">\r\n                                            <input type=\"radio\" class=\"custom-control-input\" name=\"WarrantyDays\"\r\n                                              #WarrantyDays=\"ngModel\" (change)=\"customwarrantyShowMethor()\"\r\n                                              [(ngModel)]=\"quoteService.QuoteItemData.WarrantyDays\">\r\n                                            Custom\r\n                                            <span></span>\r\n                                          </label>\r\n                                          <label class=\"kt-radio kt-radio--bold kt-radio--brand\"\r\n                                            *ngIf=\"!customwarrantyShow\">\r\n                                            <input type=\"radio\" class=\"custom-control-input\" name=\"WarrantyDays\" checked\r\n                                              (change)=\"customwarrantyShowMethor()\">\r\n                                            Custom\r\n                                            <span></span>\r\n                                          </label>\r\n\r\n                                        </div>\r\n                                        <div *ngIf=\"!customwarrantyShow\">\r\n                                          <input *ngIf=\"customwarrantyShowEdit\"\r\n                                            name=\"quoteService.QuoteItemData.WarrantyDays\"\r\n                                            #quoteService.QuoteItemData.WarrantyDays=\"ngModel\"\r\n                                            [(ngModel)]=\"quoteService.QuoteItemData.WarrantyDays\" height=\"30px\"\r\n                                            type=\"number\" min=\"0\" maxlength=\"4\" class=\"form-control\" placeholder=\"Days\">\r\n                                        </div>\r\n                                      </div>\r\n                                    </div>\r\n                                  </div>\r\n                                </div>\r\n                              </td>\r\n                            </tr>\r\n                            <tr>\r\n                              <td colspan=\"6\">\r\n                                <div class=\"form-group form-group-last\">\r\n                                  <div class=\"col-lg-4\">\r\n                                    <a href=\"javascript:;\"\r\n                                      (click)=\"addProductToQuote(quoteService.QuoteItemData.Id,quoteService.QuoteItemData.ItemName,quoteService.QuoteItemData.Qty,quoteService.QuoteItemData.UnitCost,quoteService.QuoteItemData.Total,quoteService.QuoteItemData.ItemDescription)\"\r\n                                      class=\"btn btn-brand btn-sm add-line-item-btn\">\r\n                                      <i class=\"la la-plus\"></i>\r\n                                      {{ ItemBtn }}\r\n                                    </a>\r\n                                    <a style=\"margin-left: 2px;\" href=\"javascript:;\" (click)=\"CleareProductToQuote()\"\r\n                                      class=\"btn btn-brand btn-sm add-line-item-btn\">\r\n                                      <i class=\"la la-times\"></i>\r\n                                      Cancel\r\n                                    </a>\r\n                                  </div>\r\n                                </div>\r\n                              </td>\r\n                            </tr>\r\n                          </table>\r\n                          <div class=\"col-md-12\">\r\n                            <div class=\"quots-client-view-border-info\"></div>\r\n                          </div>\r\n                          <div class=\"row kt-widget4 total-job-price-client\">\r\n                            <div class=\"kt-widget4__item\">\r\n\r\n                              <div class=\"kt-widget4__info\">\r\n                                <p>\r\n                                  TOTAL\r\n                                </p>\r\n                              </div>\r\n                              <p> ${{ quoteService.QuoteData.NetAmount.toFixed(2) }} </p>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div class=\"row\">\r\n                <div class=\"col-md-12 job-for-tab-content\">\r\n                  <div class=\"kt-portlet kt-portlet--height-fluid kt-widget19\">\r\n                    <div class=\"kt-portlet__head\">\r\n                      <div class=\"kt-portlet__head-label\">\r\n                        <h3 class=\"kt-portlet__head-title\">\r\n                          Quotation value\r\n                        </h3>\r\n                      </div>\r\n                    </div>\r\n                    <div class=\"row\">\r\n                      <div class=\"kt-portlet__body\">\r\n                        <div class=\"col-md-12\">\r\n                          <div class=\"tab-content\" style=\"overflow-x: scroll;overflow:hidden;\">\r\n                            <div class=\"tab-pane active\" id=\"kt_widget11_tab1_content\">\r\n                              <div class=\"kt-widget11\">\r\n                                <div id=\"kt_repeater_1\">\r\n                                  <div id=\"kt_repeater_1\">\r\n                                    <div class=\"row col-md-12\" style=\"padding: 0;\">\r\n                                      <div class=\"col-md-7 col-sm-6 col-xs-6 qty-unit-total\">\r\n                                        <div class=\"clientRemarkSection\">\r\n                                          <div class=\"row--\">\r\n                                            <div class=\"CLRemark\">\r\n                                              <textarea style=\"width: 100%;\" name=\"ClientRemark\" maxlength=\"1024\"\r\n                                                #ClientRemark=\"ngModel\"\r\n                                                [(ngModel)]=\"quoteService.QuoteData.ClientRemark\" class=\"form-control\"\r\n                                                placeholder=\"Client Remarks\" rows=\"3\">\r\n                                              </textarea>\r\n                                            </div>\r\n                                          </div>\r\n                                          <div class=\"row--\" style=\"display: none;\">\r\n                                            <div class=\"clientViewSection\">\r\n                                              <div class=\"form-group\">\r\n                                                <span class=\"clView\">\r\n                                                  <i class=\"fa fa-eye\" aria-hidden=\"true\"></i>\r\n                                                  <label>Client View</label>\r\n                                                </span>\r\n                                                <label>\r\n                                                  Adjust what your client will see on this quote. To change the default\r\n                                                  for ​all future quotes, visit the\r\n                                                  PDF Configuration.\r\n                                                </label>\r\n                                                <div class=\"kt-checkbox-inline\">\r\n                                                  <label class=\"kt-checkbox\">\r\n                                                    <input type=\"checkbox\" name=\"ClientViewQty\"\r\n                                                      [(ngModel)]=\"quoteService.QuoteData.ClientViewQty\"> Quantities\r\n                                                    <span></span>\r\n                                                  </label>\r\n                                                  <label class=\"kt-checkbox\">\r\n                                                    <input type=\"checkbox\" name=\"ClientViewUnitCost\"\r\n                                                      [(ngModel)]=\"quoteService.QuoteData.ClientViewUnitCost\"> Unit Cost\r\n                                                    <span></span>\r\n                                                  </label>\r\n                                                  <label class=\"kt-checkbox\">\r\n                                                    <input type=\"checkbox\" name=\"ClientViewLineItemTotal\"\r\n                                                      [(ngModel)]=\"quoteService.QuoteData.ClientViewLineItemTotal\"> Line\r\n                                                    item totals\r\n                                                    <span></span>\r\n                                                  </label>\r\n                                                  <label class=\"kt-checkbox\">\r\n                                                    <input type=\"checkbox\" name=\"ClientViewTotal\"\r\n                                                      [(ngModel)]=\"quoteService.QuoteData.ClientViewTotal\"> Total\r\n                                                    <span></span>\r\n                                                  </label>\r\n                                                </div>\r\n                                              </div>\r\n                                            </div>\r\n                                          </div>\r\n                                        </div>\r\n                                      </div>\r\n                                      <div class=\"col-md-5 invoicing-list-view-border-left\"\r\n                                        style=\"padding: 0;margin-top: 16px;\">\r\n                                        <div class=\"row slsbTotal\">\r\n                                          <div class=\"col-md-6\">\r\n                                            <div class=\"subTOtal\">\r\n                                              <span>Sub Total</span>\r\n                                            </div>\r\n                                          </div>\r\n                                          <div class=\"col-md-6\">\r\n                                            <div class=\"SubAmount\">\r\n                                              <span>${{quoteService.QuoteData.SubTotal.toFixed(2)}}</span>\r\n                                            </div>\r\n                                          </div>\r\n                                        </div>\r\n                                        <div class=\"row\" style=\"margin: 33px 0 0 0;padding: 0;\">\r\n                                          <div class=\"col-md-3\">\r\n                                            <div class=\"disHead\">\r\n                                              <span>Discount</span>\r\n                                            </div>\r\n                                          </div>\r\n                                          <div class=\"col-md-3\">\r\n                                            <div class=\"inputText\">\r\n                                              <input type=\"number\" placeholder=\"Discount\" min=\"0\" maxlength=\"4\"\r\n                                                class=\"form-control\" (change)=\"changeDiscountValue()\"\r\n                                                (keydown)=\"changeDiscountValue()\"\r\n                                                (keypress)=\"numberwithDecimalOnly($event)\"\r\n                                                (keyup)=\"changeDiscountValue()\" name=\"DiscountTextValue\"\r\n                                                [(ngModel)]=\"quoteService.QuoteData.DiscountTextValue\">\r\n                                            </div>\r\n                                          </div>\r\n                                          <div class=\"col-md-3\">\r\n                                            <div class=\"selectionDrop\">\r\n                                              <select class=\"form-control\" (change)=\"changeDiscountValue()\"\r\n                                                name=\"DiscountType\" [(ngModel)]=\"quoteService.QuoteData.DiscountType\">\r\n                                                <option value=\"0\">SGD</option>\r\n                                                <option value=\"1\">%</option>\r\n                                              </select>\r\n                                            </div>\r\n                                          </div>\r\n                                          <div class=\"col-md-3\">\r\n                                            <div class=\"discountAmt\">\r\n                                              <span>${{quoteService.QuoteData.DiscountAmount.toFixed(2)}}</span>\r\n                                            </div>\r\n                                          </div>\r\n                                        </div>\r\n                                        <div class=\"row\" style=\"padding: 0;margin: 18px 0 0 0;\">\r\n                                          <div class=\"col-md-3\">\r\n                                            <div class=\"taxHead\">\r\n                                              <span>Tax</span>\r\n                                            </div>\r\n                                          </div>\r\n                                          <div class=\"col-md-6\">\r\n                                            <div class=\"taxSectionHead\">\r\n                                              <select class=\"form-control\" (change)=\"CalculateQuoteTax()\" name=\"TaxRate\"\r\n                                                [(ngModel)]=\"quoteService.QuoteData.TaxRate\">\r\n                                                <option value=\"0\">---Select Tax---</option>\r\n                                                <option *ngFor=\"let t of quoteService.TextList\" value=\"{{t.TaxRate}}\">\r\n                                                  {{t.TaxName}}</option>\r\n                                              </select>\r\n                                            </div>\r\n                                          </div>\r\n                                          <div class=\"col-md-3\">\r\n                                            <div class=\"taxAmitHead\">\r\n                                              <span>${{quoteService.QuoteData.TaxAmount.toFixed(2)}}</span>\r\n                                            </div>\r\n                                          </div>\r\n                                        </div>\r\n                                        <div class=\"row slFinalRow\">\r\n                                          <div class=\"col-md-6\">\r\n                                            <div class=\"subTOtal\">\r\n                                              <span>Total</span>\r\n                                            </div>\r\n                                          </div>\r\n                                          <div class=\"col-md-6\">\r\n                                            <div class=\"SubAmount\">\r\n                                              <span>${{quoteService.QuoteData.NetAmount.toFixed(2)}}</span>\r\n                                            </div>\r\n                                          </div>\r\n                                        </div>\r\n                                      </div>\r\n                                    </div>\r\n                                  </div>\r\n                                </div>\r\n                              </div>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div class=\"on-site-client-required\">\r\n                <div class=\"kt-portlet kt-portlet--height-fluid kt-widget19 internal-notes-attachment\">\r\n                  <div class=\"kt-portlet__head\">\r\n                    <div class=\"kt-portlet__head-label\">\r\n                      <h3 class=\"kt-portlet__head-title\">\r\n\r\n                        <strong>\r\n                          TERMS & CONDITIONS\r\n                        </strong>\r\n                      </h3>\r\n                    </div>\r\n                  </div>\r\n                  <div class=\"kt-portlet__body\">\r\n                    <div class=\"kt-widget19__wrapper\">\r\n                      <textarea name=\"QuoteTermsAndCondition\"\r\n                        [(ngModel)]=\"quoteService.QuoteData.QuoteTermsAndCondition\" class=\"form-control\"\r\n                        id=\"QuoteTermsAndCondition\" rows=\"3\" maxlength=\"1024\" placeholder=\"Terms And Condition\">\r\n                      </textarea>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div class=\"on-site-client-required\">\r\n                <div class=\"kt-portlet kt-portlet--height-fluid kt-widget19 internal-notes-attachment\">\r\n                  <div class=\"kt-portlet__head\">\r\n                    <div class=\"kt-portlet__head-label\">\r\n                      <h3 class=\"kt-portlet__head-title\">\r\n\r\n                        <strong>\r\n                          ADDITIONAL REMARKS <span class=\"tooltip-questionMark\" data-container=\"body\"\r\n                            data-toggle=\"kt-popover\" data-placement=\"top\"\r\n                            data-content=\"Vivamus sagittis lacus vel augue laoreet rutrum faucibus.\"\r\n                            data-original-title=\"\" title=\"\">?</span>\r\n                        </strong>\r\n                      </h3>\r\n                    </div>\r\n                  </div>\r\n                  <div class=\"kt-portlet__body\">\r\n                    <div class=\"kt-widget19__wrapper\">\r\n                      <textarea name=\"InternalNotes\" [(ngModel)]=\"quoteService.QuoteData.InternalNotes\"\r\n                        class=\"form-control\" id=\"exampleTextarea\" rows=\"3\" maxlength=\"1024\"\r\n                        placeholder=\"Additional Remarks\">\r\n                      </textarea>\r\n\r\n                      <div class=\"row\">\r\n                        <div class=\"col-md-1\" *ngFor=\"let x of quoteService.QuoteAttachmentList\">\r\n                          <div class=\"row\">\r\n                            <generic-ticket-icon-attachment [(Name)]=\"x.AttachmentExtension\" [(Path)]=\"x.Attachment\"\r\n                              [Status]=\"1\"></generic-ticket-icon-attachment>\r\n                            <div class=\"col-md-3\"></div>\r\n                            <div class=\"col-md-3\">\r\n                              <a href=\"javascript:;\" (click)=\"RemoveQuoteAttachement(x.Id)\"><i\r\n                                  class=\"fa fa-trash text-danger\"></i></a>\r\n                            </div>\r\n                            <div class=\"col-md-3\">\r\n                              <a href=\"{{x.Attachment}}\" target=\"_blank\"><i class=\"fa fa-download text-success\"></i></a>\r\n                            </div>\r\n                            <div class=\"col-md-3\"></div>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                      <div class=\"file-upload\">\r\n                        <label for=\"upload\" class=\"file-upload__label\"><i title=\"Add Attachment\"\r\n                            class=\"fa fa-paperclip\"></i>\r\n                          <br></label>\r\n                        <input id=\"upload\" class=\"file-upload__input\" type=\"file\" name=\"file-upload\"\r\n                          (change)=\"picked($event)\">\r\n                      </div>\r\n                      <br>\r\n                      <div class=\"form-group\">\r\n                        <label>Link note to related</label>\r\n                        <div class=\"kt-checkbox-inline\">\r\n                          <label class=\"kt-checkbox\">\r\n                            <input type=\"checkbox\" name=\"LinkToJob\" #LinkToJob=\"ngModel\"\r\n                              [(ngModel)]=\"quoteService.QuoteData.LinkToJob\"> Ticket\r\n                            <span></span>\r\n                          </label>\r\n                          <label class=\"kt-checkbox\" *ngIf=\"currentUser.Permissions.InvoiceView\">\r\n                            <input type=\"checkbox\" name=\"LinkToInvoice\" #LinkToInvoice=\"ngModel\"\r\n                              [(ngModel)]=\"quoteService.QuoteData.LinkToInvoice\"> Invoice\r\n                            <span></span>\r\n                          </label>\r\n                        </div>\r\n                      </div>\r\n\r\n                      <div class=\"form-group\">\r\n                        <label>Email Notification</label>\r\n                        <div class=\"kt-checkbox-inline\">\r\n                          <label class=\"kt-checkbox\">\r\n                            <input type=\"checkbox\" name=\"QuoteAdmin\" #QuoteAdmin=\"ngModel\"\r\n                              [(ngModel)]=\"notifyService.NotificationData.QuoteAdmin\"> Admin\r\n                            <span></span>\r\n                          </label>\r\n                          <label class=\"kt-checkbox\">\r\n                            <input type=\"checkbox\" name=\"QuoteCustomer\" #QuoteCustomer=\"ngModel\"\r\n                              [(ngModel)]=\"notifyService.NotificationData.QuoteCustomer\"> Customer\r\n                            <span></span>\r\n                          </label>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div class=\"row\">\r\n                  <div class=\"col-md-12 job-for-tab-content\">\r\n                    <generic-reminder-module [(Id)]=\"quoteService.QuoteData.Id\" [(Token)]=\"currentUser.Token\"\r\n                      [ReminderModule]=\"'quote'\"></generic-reminder-module>\r\n                  </div>\r\n                </div>\r\n                <div class=\"row new-request-footer-bottom\">\r\n                  <input type=\"hidden\" name=\"QuoteId\" [(ngModel)]=\"quoteService.QuoteData.QuoteId\" />\r\n                  <button type=\"reset\" routerLink=\"/quotes\" class=\"btn btn-secondary\">CANCEL</button>\r\n                  <div class=\"btn-group\" *ngIf=\"!loader\">\r\n                    <button type=\"button\" class=\"btn btn-brand\" (click)=\"onQuotePost(1)\" >{{ createbuttontext }} as Draft</button>\r\n                   &nbsp;&nbsp;&nbsp;&nbsp; <button type=\"button\" class=\"btn btn-brand\" (click)=\"onQuotePost(2)\" >{{ createbuttontext }} as Pending</button>\r\n                  </div>\r\n                  <div class=\"btn-group\" *ngIf=\"loader\">\r\n                    <div class=\"btn btn-brand\"> please wait... </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</form>","import { Component, OnInit, AfterViewInit, OnDestroy, ViewChild } from '@angular/core';\nimport { QuoteService } from '../../../services/quote.service';\nimport { QuoteSummary } from '../../../services/quote.module';\nimport { QuoteCustomerPopupComponent } from '../quote-customer-popup/quote-customer-popup.component';\nimport { MatDialogConfig, MatDialog } from '@angular/material/dialog';\nimport { Router } from '@angular/router';\nimport { Quote } from '../../../services/quote.module';\nimport { QuotecustomerPropertyPopupComponent } from '../quotecustomer-property-popup/quotecustomer-property-popup.component';\nimport { QuoteStatusPopupComponent } from '../quote-status-popup/quote-status-popup.component';\nimport { UserlogService } from '../../../services/userlog.service';\nimport { AuthenticationService } from '../../../services/authentication.service';\nimport { Login } from '../../../services/login.mudule';\nimport { Property } from '../../../services/property.model';\nimport { Customer } from '../../../services/customer.model';\nimport { PropertyService } from '../../../services/property.service';\nimport { Subject } from 'rxjs/internal/Subject';\nimport { QuoteContactPersonPopupComponent } from '../quote-contact-person-popup/quote-contact-person-popup.component';\nimport { DownloadService } from '../../../services/downloads.service';\nimport { TicketService } from '../../../services/ticket.service';\nimport { saveAs } from 'file-saver';\nimport { CustomerService } from '../../../services/customer.service';\nimport { GenicProfileService } from '../../../services/genicprofile.service';\nimport { DataTableDirective } from 'angular-datatables';\nimport { NgbDateAdapter, NgbTimeAdapter } from '@ng-bootstrap/ng-bootstrap';\nimport { NgbDateToStringAdapter } from '../../../ngb-date-to-string-adapter';\nimport { NgbTimeToStringAdapter } from '../../../ngb-time-to-string-adapter';\nimport { TicketFilter } from '../../../services/genicprofile.module';\nimport { InvoiceService } from '../../../services/invoice.service';\nimport { Title } from '@angular/platform-browser';\nimport { SignatureQuoteStatusPopupComponent } from '../signature-quote-status-popup/signature-quote-status-popup.component';\ndeclare let $: any;\n\n@Component({\n  selector: 'app-quote-list',\n  templateUrl: './quote-list.component.html',\n  styleUrls: ['./quote-list.component.css'],\n  providers: [\n    { provide: NgbDateAdapter, useClass: NgbDateToStringAdapter },\n    { provide: NgbTimeAdapter, useClass: NgbTimeToStringAdapter },\n  ],\n})\nexport class QuoteListComponent implements OnInit, AfterViewInit, OnDestroy {\n  @ViewChild(DataTableDirective, { static: false })\n  dtElement: DataTableDirective;\n  dtOptions: DataTables.Settings = {};\n  dtTrigger: Subject<any> = new Subject();\n  customerPropertyData: Property;\n  customerData: Customer;\n  StatusType: string;\n  currentUser: Login;\n  QuoteSummary: QuoteSummary;\n  TotalQuotation: number;\n  AcceptedQuotation: number;\n  PendingQuotation: number;\n  RejectedQuotation: number;\n  CancelledQuotation: number;\n  temptQuoteStatus: Number = 0;\n  tempQuoteId: string = '';\n  OnDateSearchLoading: boolean;\n  isDtInitialized:boolean = false;\n  CustomerdropdownList = []; CustomerselectedItems = [];\n  CustomerdropdownSettings = { displayKey: 'Name', search: true, limitTo: 5, height: '260', placeholder: 'Customers'};\n  StatusdropdownList = []; StatusselectedItems = [];\n  StatusdropdownSettings = { displayKey: 'Name', search: true, limitTo: 5, height: '260', placeholder: 'Status'};\n  DepartmentdropdownList = []; DepartmentselectedItems = [];\n  DepartmentdropdownSettings = { displayKey: 'Name', search: true, limitTo: 5, height: '260', placeholder: 'Group'};\n  constructor(\n    public titleService: Title,\n    public quoteService: QuoteService,\n    public customerservice: CustomerService,\n    private dialog: MatDialog,\n    private router: Router,\n    public logService: UserlogService,\n    public loginservice: AuthenticationService,\n    public propertyService: PropertyService,\n    public ticketService: TicketService,\n    public invoiceService: InvoiceService,\n    public genicprofileservice: GenicProfileService,\n    public downloadService: DownloadService,\n    ) {\n      this.QuoteSummary = new QuoteSummary();\n      this.loginservice.currentUser.subscribe(x => this.currentUser = x);\n      this.TotalQuotation = 0;\n      this.AcceptedQuotation = 0;\n      this.PendingQuotation = 0;\n      this.RejectedQuotation = 0;\n      this.CancelledQuotation = 0;\n    }\n\n  ngOnInit() {\n    if (this.currentUser.Type === 'Admin' || this.currentUser.Type === 'SubAdmin') {  \n    this.genicprofileservice.TicketFilter.IsReady = false;\n    this.genicprofileservice.TicketFilter.IsReadyInvoice = false;\n    this.OnDateSearchLoading = false;\n    this.dtOptions = { pagingType: 'full_numbers', paging: true, order: [0], lengthMenu: [ 5, 10, 25, 50, 75, 100 ] };\n    if (!this.genicprofileservice.TicketFilter.IsReadyQuote) {\n      this.distroyAndReloadTable();\n    }\n    this.customerservice.getCustomerListSync(this.currentUser.Token).subscribe( res => {\n      if (res) { const response = res as any;\n                 const custList = response.result as Customer[];\n                 custList.forEach(w => {\n          this.CustomerdropdownList.push({Id: w.Id, Name: w.CompanyName , IsAssigned : false});\n          this.genicprofileservice.TicketFilter.CustomerId.forEach(el => {\n            if (w.Id === el) {\n              this.CustomerselectedItems.push({Id: w.Id, Name: w.CompanyName , IsAssigned : true});\n            }\n          });\n        });\n      }}, error =>  console.log(error));\n    this.StatusdropdownList = [\n         { Id: 1, Name: 'Draft' },\n         { Id: 2, Name: 'Pending' },\n         { Id: 3, Name: 'Approved' },\n          { Id: 4, Name: 'Accepted' },\n          { Id: 5, Name: 'Rejected' },\n          { Id: 6, Name: 'Cancelled' }\n          ];\n    if (this.genicprofileservice.TicketFilter.IsReadyQuote) {\n        this.StatusdropdownList.forEach(w => {\n            this.genicprofileservice.TicketFilter.Status.forEach(el => {\n              if (w.item_id === el) {\n                this.StatusselectedItems.push({item_id: w.item_id, item_text: w.item_text });\n              }\n            });\n          });\n        }\n    if (this.genicprofileservice.TicketFilter.IsReadyQuote) {\n          this.distroyAndReloadFilterTable();\n          this.genicprofileservice.TicketFilter.IsReadyQuote = false;\n          setTimeout(() => {\n            this.genicprofileservice.TicketFilter.IsReadyQuote = true;\n          }, 1000);\n        }\n        this.titleService.setTitle('Quotations | Genic Solution');\n      } else { this.router.navigate(['/auth']); }\n  }\n\n  ngAfterViewInit() {\n\n  }\n  ngOnDestroy() {\n    this.dtTrigger.unsubscribe();\n  }\n  OpenAddCustomerToQuoteDialog() {\n    const dialogConfig = new MatDialogConfig();\n    dialogConfig.autoFocus = true;\n    dialogConfig.width = '50%';\n    dialogConfig.data = {};\n    this.dialog.open(QuoteCustomerPopupComponent, dialogConfig).afterClosed().subscribe(res => {\n      if (res !== '') {\n        this.customerData = new Customer();\n        this.customerData = res.x;\n        this.quoteService.QuoteData = new Quote();\n        this.quoteService.QuoteData.CustomerId = res.x.Id;\n        this.quoteService.QuoteData.CompanyName = res.x.CompanyName;\n        setTimeout(() => {\n          this.quoteService.getCustomerProperty(res.x.Id);\n          this.OpenAddnContactPersionDialog();\n        }, 500);\n      }\n    });\n  }\n  OpenAddnContactPersionDialog() {\n    this.quoteService.postTempQuote(this.currentUser.Token).subscribe( res => {\n      if (res) { const response = res as any;\n                 if (response.Message === 'success') {\n                  this.quoteService.QuoteData = response.result as Quote;\n                  }\n                 if (response.Message === 'failure') {\n                  }\n      }}, error =>  console.log(error));\n    const dialogConfig = new MatDialogConfig();\n    dialogConfig.autoFocus = true;\n    dialogConfig.width = '50%';\n    dialogConfig.data = {};\n    this.dialog.open(QuoteContactPersonPopupComponent, dialogConfig).afterClosed().subscribe(res => {\n      if (res !== '') {\n        this.OpenAddCustomerPropertyQuoteDialog();\n      }\n    });\n  }\n\n  OpenAddCustomerPropertyQuoteDialog() {\n    const dialogConfig = new MatDialogConfig();\n    dialogConfig.autoFocus = true;\n    dialogConfig.width = '50%';\n    dialogConfig.data = {};\n    this.dialog.open(QuotecustomerPropertyPopupComponent, dialogConfig).afterClosed().subscribe(res => {\n      if (res !== '') {\n        if (res === undefined) {\n          this.router.navigate(['/properties/property-add/'], {\n            queryParams:\n              { 'id': this.quoteService.QuoteData.CustomerId,\n              'name': this.quoteService.QuoteData.CustomerName, 'companyname': this.quoteService.QuoteData.CompanyName }\n          });\n        } else {\n          this.customerPropertyData = new Property();\n          this.customerPropertyData = res.x;\n          //this.quoteService.QuoteData.CompanyName = this.customerData.CompanyName;\n          //this.quoteService.QuoteData.CustomerName = this.customerPropertyData.CustomerName;\n          this.quoteService.QuoteData.CustomerId = this.customerPropertyData.CustomerId;\n          this.quoteService.QuoteData.PropertyId = this.customerPropertyData.Id;\n          this.quoteService.QuoteData.CustomerAddress = res.x.AddressStreet1 + ' ' + res.x.AddressStreet2 + ', ' + res.x.AddressUnitNo + ' ' + res.x.AddressCountry + ' ' + res.x.AddressZipCode;\n          this.router.navigate(['/quotes/quote-Add']);\n        }\n      }\n    });\n  }\n  popolateQuote(q: Quote) {\n    this.quoteService.QuoteData = Object.assign({}, q);\n    this.propertyService.getPropertyData(q.PropertyId);\n    if (q.ModifiedUtcDate != null) {\n      this.quoteService.QuoteData.ModifiedUtcDate = new Date(q.ModifiedUtcDate);\n    }\n    this.router.navigate(['/quotes/quote-Edit']);\n  }\n  getQuoteDetails(q: Quote) {\n    this.quoteService.QuoteData = q;\n    this.propertyService.getPropertyData(q.PropertyId);\n    this.router.navigate(['/quotes/quote-Details']);\n  }\n\npopulateStatusPopup(q: Quote, Id) {\nthis.quoteService.QuoteData = q;\nconst dialogCon = new MatDialogConfig();\ndialogCon.autoFocus = true;\ndialogCon.width = '600px';\nthis.dialog.open(QuoteStatusPopupComponent, dialogCon).afterClosed().subscribe(res => {\n  if (res !== undefined) {\n    this.quoteService.UpdateQuoteStatus(Id, res.Status, this.currentUser.Token).subscribe( res2 => {\n      if (res) { const response = res2 as any;\n                 if (response.Message === 'success') {\n                  this.postQuoteStatusUserLog(res.Status);\n                  this.distroyAndReloadTable();\n                  }\n                 if (response.Message === 'failure') {\n                  }\n      }}, error =>  console.log(error));\n  } else {\n    return false;\n  }\n});\n}\naddsignature(q: Quote) {\n  this.quoteService.QuoteData = q;\n  const dialogCon = new MatDialogConfig();\n  dialogCon.autoFocus = true;\n  dialogCon.width = '600px';\n  this.dialog.open(SignatureQuoteStatusPopupComponent, dialogCon).afterClosed().subscribe(res => {\n    if (res !== undefined) {\n      this.distroyAndReloadTable();\n    } else {\n      return false;\n    }\n  });\n  }\n\n  // post user log on quote status change\n  postQuoteStatusUserLog(Status: number) {\n    if (Status === 1) { this.StatusType = 'Draft';\n    } else if (Status === 2) { this.StatusType = 'Sent';\n    } else if (Status === 3) { this.StatusType = 'Approved';\n    } else if (Status === 4) { this.StatusType = 'Accepted';\n    } else if (Status === 5) { this.StatusType = 'Rejected';\n    } else if (Status === 6) { this.StatusType = 'Cancellled';\n    }\n\n    const des = 'Status change of Quotation No ' + this.quoteService.QuoteData.QuoteId + ' is as ' +\n    this.StatusType + ' by ' + this.currentUser.UserName + ' for Customer ' + this.quoteService.QuoteData.CustomerName ;\n    const Activity = 'Status mark as : ' + this.StatusType + ' changed of  Quotation No : ' + this.quoteService.QuoteData.QuoteId +\n    ' on mail id : ' + this.quoteService.QuoteData.CustomerEmail;\n    this.logService.postUserLog(this.currentUser.Id, this.currentUser.UserName, 'Quotation',\n    this.quoteService.QuoteData.Id, 'Modify', des, Activity ).subscribe();\n    }\nexportAsXLSX(): void {\n  this.downloadService.downloadFromServer('quotation', this.currentUser.Token).then(blob => {\n    saveAs(blob, 'quotation_' + new Date().getTime() + '.xlsx');\n });\n}\n\nviewTicketDetails(Id) {\n  this.ticketService.getTicketById(this.currentUser.Token, Id).subscribe( res => {\n    if (res) { const response = res as any;\n               if (response.Message === 'success') {\n                  this.ticketService.formData = response.result;\n                  this.router.navigate(['/tickets/ticket-view-detail']);\n                }\n  }}, error =>  console.log(error));\n  }\n  ViewInvoiceDetails(InvoiceId: string) {\n    try{\n      this.invoiceService.refreshInvoiceById(InvoiceId, this.currentUser.Token).subscribe( res => {\n        if (res) { const response = res as any;\n         this.invoiceService.InvoiceData = response.result;\n         setTimeout(() => {\n          this.router.navigate(['/invoices/invoice-details']);\n         }, 200);\n        }\n      }, error =>  console.log(error)) ;\n    } catch {}\n  }\n  morefilters() {\n    if (this.genicprofileservice.TicketFilter.IsReadyQuote) {\n      this.genicprofileservice.TicketFilter.IsReadyQuote = false;\n      this.distroyAndReloadTable();\n    } else {\n      this.genicprofileservice.TicketFilter = new TicketFilter();\n      this.CustomerselectedItems = [];\n      this.StatusselectedItems = [];\n      this.genicprofileservice.TicketFilter.IsReadyQuote = true;\n    }\n  }\n  /// Custimer\n  onCustomerItemSelect(e) {\n    this.genicprofileservice.TicketFilter.CustomerId = [];\n    e.value.forEach(element => {\n      this.genicprofileservice.TicketFilter.CustomerId.push(element.Id);\n    });\n  }\n  /// Engineers\n  onEngineerItemSelect(e) {\n    this.genicprofileservice.TicketFilter.EngineerId = [];\n    e.value.forEach(element => {\n      this.genicprofileservice.TicketFilter.EngineerId.push(element.Id);\n    });\n  }\n  onStatusItemSelect(e) {\n    this.genicprofileservice.TicketFilter.Status = [];\n    e.value.forEach(element => {\n      this.genicprofileservice.TicketFilter.Status.push(element.Id);\n    });\n  }\n  /// Department\n  onDepartmentItemSelect(e) {\n    this.genicprofileservice.TicketFilter.DepartmentId = [];\n    e.value.forEach(element => {\n      this.genicprofileservice.TicketFilter.DepartmentId.push(element.Id);\n    });\n  }\n\n  onDateChange() {\n    this.OnDateSearchLoading = true;\n    this.distroyAndReloadFilterTable();\n    setTimeout(() => {\n      this.OnDateSearchLoading = false;\n    }, 100);\n  }\n  distroyAndReloadTableold(): void {\n    if (this.dtElement !==  undefined && this.dtElement.dtInstance !== undefined) {\n      this.dtElement.dtInstance.then((dtInstance: DataTables.Api) => {\n        dtInstance.destroy();\n      }).catch(err => console.error(err));\n    }\n    this.quoteService.QuoteLocalList = [];\n    this.quoteService.getrefrestQuoteListSync(this.currentUser.Token).subscribe( res => {\n      if (res) {\n        this.quoteService.QuoteLocalList = res as Quote[];\n        if (this.isDtInitialized) {\n          this.dtElement.dtInstance.then((dtInstance: DataTables.Api) => {\n              dtInstance.destroy();\n              this.dtTrigger.next();\n          }); } else {\n          this.isDtInitialized = true;\n          this.dtTrigger.next();\n      }\n        this.TotalQuotation = this.quoteService.QuoteLocalList.length;\n        this.AcceptedQuotation = this.quoteService.QuoteLocalList.filter(x => x.Status === 4).length;\n        this.PendingQuotation = this.quoteService.QuoteLocalList.filter(x => x.Status === 2).length;\n        this.RejectedQuotation  = this.quoteService.QuoteLocalList.filter(x => x.Status === 5).length;\n        this.CancelledQuotation  = this.quoteService.QuoteLocalList.filter(x => x.Status === 6).length;\n      }\n    }, error =>  console.log(error));\n  }\n  distroyAndReloadTable(): void {\n    this.quoteService.getrefrestQuoteListSync(this.currentUser.Token).subscribe( res => {\n      if (res) {  const response = res as any;\n                  if (response.Message === 'success') {\n                    this.quoteService.QuoteLocalList = response.result as Quote[];\n                    if (this.isDtInitialized) {\n                      this.dtElement.dtInstance.then((dtInstance: DataTables.Api) => {\n                          dtInstance.destroy();\n                          this.dtTrigger.next();\n                      }); } else {\n                      this.isDtInitialized = true;\n                      this.dtTrigger.next();\n                  }\n                    setTimeout(() => {\n                      this.TotalQuotation = this.quoteService.QuoteLocalList.length;\n                      this.AcceptedQuotation = this.quoteService.QuoteLocalList.filter(x => x.Status === 4).length;\n                      this.PendingQuotation = this.quoteService.QuoteLocalList.filter(x => x.Status === 2).length;\n                      this.RejectedQuotation  = this.quoteService.QuoteLocalList.filter(x => x.Status === 5).length;\n                      this.CancelledQuotation  = this.quoteService.QuoteLocalList.filter(x => x.Status === 6).length;\n                    }, 500);\n                  }\n      }\n    }, error =>  console.log(error));\n  }\n  distroyAndReloadFilterTableold(): void {\n    this.quoteService.QuoteLocalList = [];\n    this.genicprofileservice.getFilterQuotationListSync(this.currentUser.Token).subscribe( res => {\n      if (res) {\n        this.quoteService.QuoteLocalList = res as Quote[];\n        if (this.isDtInitialized) {\n          this.dtElement.dtInstance.then((dtInstance: DataTables.Api) => {\n              dtInstance.destroy();\n              this.dtTrigger.next();\n          }); } else {\n          this.isDtInitialized = true;\n          this.dtTrigger.next();\n      }\n        this.TotalQuotation = this.quoteService.QuoteList.length;\n        this.AcceptedQuotation = this.quoteService.QuoteLocalList.filter(x => x.Status === 4).length;\n        this.PendingQuotation = this.quoteService.QuoteLocalList.filter(x => x.Status === 2).length;\n        this.RejectedQuotation  = this.quoteService.QuoteLocalList.filter(x => x.Status === 5).length;\n        this.CancelledQuotation  = this.quoteService.QuoteLocalList.filter(x => x.Status === 6).length;\n      }\n    }, error =>  console.log(error));\n  }\n  distroyAndReloadFilterTable(): void {\n    this.genicprofileservice.getFilterQuotationListSync(this.currentUser.Token).subscribe( res => {\n      if (res) { const response = res as any;\n                 if (response.Message === 'success') {\n                  this.quoteService.QuoteLocalList = response.result as Quote[];\n                  if (this.isDtInitialized) {\n                    this.dtElement.dtInstance.then((dtInstance: DataTables.Api) => {\n                        dtInstance.destroy();\n                        this.dtTrigger.next();\n                    }); } else {\n                    this.isDtInitialized = true;\n                    this.dtTrigger.next();\n                }\n                  setTimeout(() => {\n                    this.TotalQuotation = this.quoteService.QuoteLocalList.length;\n                    this.AcceptedQuotation = this.quoteService.QuoteLocalList.filter(x => x.Status === 4).length;\n        this.PendingQuotation = this.quoteService.QuoteLocalList.filter(x => x.Status === 2).length;\n        this.RejectedQuotation  = this.quoteService.QuoteLocalList.filter(x => x.Status === 5).length;\n        this.CancelledQuotation  = this.quoteService.QuoteLocalList.filter(x => x.Status === 6).length;\n                  }, 500);\n                }\n            }\n    }, error =>  console.log(error));\n  }\n}\n","<style>\r\n  .QuoteAddSection {\r\n    width: 100%;\r\n  }\r\n\r\n  .QuoteAddSection a {\r\n    float: right;\r\n  }\r\n</style>\r\n<div class=\"kt-content kt-grid__item kt-grid__item--fluid kt-grid kt-grid--hor\" id=\"kt_content\">\r\n  <div class=\"kt-subheader kt-grid__item\" id=\"kt_subheader\">\r\n    <div class=\"kt-container kt-container--fluid breadcud-kt-container \">\r\n      <div class=\"kt-subheader__main\">\r\n        <h3 class=\"kt-subheader__title\">\r\n          <a href=\"javascript:;\" routerLink=\"/dashboard\">\r\n            Dashboard\r\n          </a>\r\n        </h3>\r\n        <span class=\"kt-subheader__separator kt-hidden\"></span>\r\n        <div class=\"kt-subheader__breadcrumbs\">\r\n          <i class=\"fa fa-angle-double-right\" aria-hidden=\"true\"></i>\r\n          <span class=\"kt-subheader__breadcrumbs-separator\"></span>\r\n          Quotations\r\n        </div>\r\n      </div>\r\n      <div class=\"kt-subheader__toolbar\">\r\n        <div class=\"kt-subheader__wrapper\" *ngIf=\"currentUser.Permissions.QuoteCreate\">\r\n            <a href=\"javascript:;\" class=\"btn btn-brand\" (click)=\"OpenAddCustomerToQuoteDialog()\"><i\r\n                class=\"fa fa-plus\"></i> New Quotation</a>\r\n        </div>\r\n    </div>\r\n    </div>\r\n  </div>\r\n  <div class=\"customer-list-main-section\">\r\n    <div class=\"kt-widget17\">\r\n      <div class=\"kt-widget17__visual kt-widget17__visual--chart kt-portlet-fit--top kt-portlet-fit--sides\"\r\n        style=\"background-color: #fd397a\">\r\n      </div>\r\n      <div class=\"kt-widget17__stats\">\r\n\r\n\r\n        <div class=\"row mrg-top-10\">\r\n          <div class=\"col-lg-3\">\r\n            <div class=\"kt-portlet kt-iconbox kt-iconbox--brand kt-iconbox--animate-slower\">\r\n              <div class=\"kt-portlet__body\">\r\n                <div class=\"kt-iconbox__body\">\r\n                  <div class=\"kt-iconbox__icon\">\r\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" width=\"24px\"\r\n                      height=\"24px\" viewBox=\"0 0 24 24\" version=\"1.1\" class=\"kt-svg-icon\">\r\n                      <g stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\r\n                        <rect id=\"bound\" x=\"0\" y=\"0\" width=\"24\" height=\"24\"></rect>\r\n                        <polygon id=\"“\" fill=\"#000000\"\r\n                          transform=\"translate(16.500000, 12.500000) rotate(-180.000000) translate(-16.500000, -12.500000) \"\r\n                          points=\"19 7 17 13 19 13 19 18 14 18 14 13 16 7\"></polygon>\r\n                        <polygon id=\"Path\" fill=\"#000000\" opacity=\"0.3\"\r\n                          transform=\"translate(8.500000, 12.500000) rotate(-180.000000) translate(-8.500000, -12.500000) \"\r\n                          points=\"11 7 9 13 11 13 11 18 6 18 6 13 8 7\"></polygon>\r\n                      </g>\r\n                    </svg>\r\n                  </div>\r\n                  <div class=\"kt-iconbox__desc\">\r\n                    <h3 class=\"kt-iconbox__title\">\r\n                      <a class=\"kt-link\" href=\"javascript:;\">Total Quotations</a>\r\n                    </h3>\r\n                    <div class=\"kt-iconbox__content\">\r\n                      {{TotalQuotation}} Total Quotations\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class=\"col-lg-3\">\r\n            <div class=\"kt-portlet kt-iconbox kt-iconbox--success kt-iconbox--animate-slow\">\r\n              <div class=\"kt-portlet__body\">\r\n                <div class=\"kt-iconbox__body\">\r\n                  <div class=\"kt-iconbox__icon\">\r\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" width=\"24px\"\r\n                      height=\"24px\" viewBox=\"0 0 24 24\" version=\"1.1\" class=\"kt-svg-icon\">\r\n                      <g stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\r\n                        <rect id=\"bound\" x=\"0\" y=\"0\" width=\"24\" height=\"24\"></rect>\r\n                        <polygon id=\"“\" fill=\"#000000\"\r\n                          transform=\"translate(16.500000, 12.500000) rotate(-180.000000) translate(-16.500000, -12.500000) \"\r\n                          points=\"19 7 17 13 19 13 19 18 14 18 14 13 16 7\"></polygon>\r\n                        <polygon id=\"Path\" fill=\"#000000\" opacity=\"0.3\"\r\n                          transform=\"translate(8.500000, 12.500000) rotate(-180.000000) translate(-8.500000, -12.500000) \"\r\n                          points=\"11 7 9 13 11 13 11 18 6 18 6 13 8 7\"></polygon>\r\n                      </g>\r\n                    </svg>\r\n                  </div>\r\n                  <div class=\"kt-iconbox__desc\">\r\n                    <h3 class=\"kt-iconbox__title\">\r\n                      <a class=\"kt-link\" href=\"javascript:;\">Accepted Quotations</a>\r\n                    </h3>\r\n                    <div class=\"kt-iconbox__content\">\r\n                      {{AcceptedQuotation}} Accepted Quotations\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class=\"col-lg-3\">\r\n            <div class=\"kt-portlet kt-iconbox kt-iconbox--warning kt-iconbox--animate-fast\">\r\n              <div class=\"kt-portlet__body\">\r\n                <div class=\"kt-iconbox__body\">\r\n                  <div class=\"kt-iconbox__icon\">\r\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" width=\"24px\"\r\n                      height=\"24px\" viewBox=\"0 0 24 24\" version=\"1.1\" class=\"kt-svg-icon\">\r\n                      <g stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\r\n                        <rect id=\"bound\" x=\"0\" y=\"0\" width=\"24\" height=\"24\"></rect>\r\n                        <polygon id=\"“\" fill=\"#000000\"\r\n                          transform=\"translate(16.500000, 12.500000) rotate(-180.000000) translate(-16.500000, -12.500000) \"\r\n                          points=\"19 7 17 13 19 13 19 18 14 18 14 13 16 7\"></polygon>\r\n                        <polygon id=\"Path\" fill=\"#000000\" opacity=\"0.3\"\r\n                          transform=\"translate(8.500000, 12.500000) rotate(-180.000000) translate(-8.500000, -12.500000) \"\r\n                          points=\"11 7 9 13 11 13 11 18 6 18 6 13 8 7\"></polygon>\r\n                      </g>\r\n                    </svg>\r\n                  </div>\r\n                  <div class=\"kt-iconbox__desc\">\r\n                    <h3 class=\"kt-iconbox__title\">\r\n                      <a class=\"kt-link\" href=\"javascript:;\">Pending Quotations</a>\r\n                    </h3>\r\n                    <div class=\"kt-iconbox__content\">\r\n                      {{PendingQuotation}} Pending Quotations\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class=\"col-lg-3\">\r\n            <div class=\"kt-portlet kt-iconbox kt-iconbox--danger kt-iconbox--animate-faster\">\r\n              <div class=\"kt-portlet__body\">\r\n                <div class=\"kt-iconbox__body\">\r\n                  <div class=\"kt-iconbox__icon\">\r\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" width=\"24px\"\r\n                      height=\"24px\" viewBox=\"0 0 24 24\" version=\"1.1\" class=\"kt-svg-icon\">\r\n                      <g stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\r\n                        <rect id=\"bound\" x=\"0\" y=\"0\" width=\"24\" height=\"24\"></rect>\r\n                        <polygon id=\"“\" fill=\"#000000\"\r\n                          transform=\"translate(16.500000, 12.500000) rotate(-180.000000) translate(-16.500000, -12.500000) \"\r\n                          points=\"19 7 17 13 19 13 19 18 14 18 14 13 16 7\"></polygon>\r\n                        <polygon id=\"Path\" fill=\"#000000\" opacity=\"0.3\"\r\n                          transform=\"translate(8.500000, 12.500000) rotate(-180.000000) translate(-8.500000, -12.500000) \"\r\n                          points=\"11 7 9 13 11 13 11 18 6 18 6 13 8 7\"></polygon>\r\n                      </g>\r\n                    </svg>\r\n                  </div>\r\n                  <div class=\"kt-iconbox__desc\">\r\n                    <h3 class=\"kt-iconbox__title\">\r\n                      <a class=\"kt-link\" href=\"javascript:;\">Rejected Quotations</a>\r\n                    </h3>\r\n                    <div class=\"kt-iconbox__content\">\r\n                      {{RejectedQuotation}} Rejected Quotations\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"kt-section kt-drop-section\">\r\n          <div class=\"kt-portlet__body customer-listing-datatable\">\r\n            <div id=\"kt_table_1_wrapper\" class=\"dataTables_wrapper dt-bootstrap4 no-footer\">\r\n              <div class=\"row\">\r\n                <div class=\"col-sm-12\">\r\n\r\n                  <div class=\"panel panel-primary list-panel\" id=\"list-panel\">\r\n                    <div class=\"panel-heading list-panel-heading\">\r\n                      <h1 class=\"panel-title list-panel-title\"><i class=\"fa fa-list\"></i> Quotation List</h1>\r\n                      <ul class=\"scFilter\">                        \r\n                        <li>  \r\n                          <a href=\"javascript:;\"  *ngIf=\"!genicprofileservice.TicketFilter.IsReadyQuote\" class=\"btnprimary\" (click)=\"morefilters()\" >Show Filter</a>\r\n                          <a href=\"javascript:;\"  *ngIf=\"genicprofileservice.TicketFilter.IsReadyQuote\" class=\"btnexportToExcel\" (click)=\"morefilters()\" >Clear Filter</a>\r\n                      </li>\r\n                      <li>\r\n                        <a href=\"javascript:void(0)\" (click)=\"exportAsXLSX()\" class=\"btnexportToExcel\">Export to\r\n                          Excel</a>\r\n                      </li>\r\n                      </ul>\r\n                    </div>\r\n                    <div class=\"row filterstrong\" *ngIf=\"genicprofileservice.TicketFilter.IsReadyQuote\">\r\n                      <div class=\"col-md-2\">\r\n                          <strong>From : </strong>\r\n                          <input placeholder=\"From: (dd-mm-yyyy)\" ngbDatepicker name=\"genicprofileservice.TicketFilter.DateFrom\"\r\n                                  #genicprofileservice.TicketFilter.DateFrom=\"ngModel\" [(ngModel)]=\"genicprofileservice.TicketFilter.DateFrom\"\r\n                                  (click)=\"datePickerTicketStartDate.toggle()\" class=\"form-control\"\r\n                                  #datePickerTicketStartDate=\"ngbDatepicker\" dateFormat=\"dd-MMM-yyyy\"\r\n                                  type=\"text\">\r\n                      </div>\r\n                      <div class=\"col-md-2\">\r\n                          <strong>To : </strong>\r\n                          <input type=\"text\" ngbDatepicker name=\"genicprofileservice.TicketFilter.DateTo\" \r\n                          #genicprofileservice.TicketFilter.DateTo=\"ngModel\" class=\"form-control\"\r\n                                  [(ngModel)]=\"genicprofileservice.TicketFilter.DateTo\" (click)=\"datePickerTicketEndDate.toggle()\"\r\n                                  #datePickerTicketEndDate=\"ngbDatepicker\" dateFormat=\"dd-MMM-yyyy\"\r\n                                  placeholder=\"To: (dd-mm-yyyy)\">\r\n                      </div>\r\n                      <div class=\"col\">\r\n                          <strong>Customers : </strong>\r\n                          <ngx-select-dropdown class=\"myselectClass\"\r\n                          (change)=\"onCustomerItemSelect($event)\" [multiple]=\"true\"\r\n                          name=\"CustomerselectedItems\"\r\n                          [(ngModel)]=\"CustomerselectedItems\"\r\n                          [config]=\"CustomerdropdownSettings\" [options]=\"CustomerdropdownList\">\r\n                      </ngx-select-dropdown>\r\n                      </div>\r\n                      <div class=\"col\">\r\n                          <strong>Status : </strong>\r\n                          <ngx-select-dropdown class=\"myselectClass\"\r\n                                    (change)=\"onStatusItemSelect($event)\" [multiple]=\"true\"\r\n                                    name=\"StatusselectedItems\"\r\n                                    [(ngModel)]=\"StatusselectedItems\"\r\n                                    [config]=\"StatusdropdownSettings\" [options]=\"StatusdropdownList\">\r\n                                </ngx-select-dropdown>\r\n                      </div>\r\n                      <div class=\"col-md-1\">\r\n                          <strong>. </strong>\r\n                          <div class=\"cusbtn\" >\r\n                              <a href=\"javascript:;\" class=\"btn btn-sm btn-primary\"\r\n                              (click)=\"onDateChange()\">\r\n                              <i *ngIf=\"!OnDateSearchLoading\">Search</i> \r\n                              <i *ngIf=\"OnDateSearchLoading\" class=\"fa fa-spinner fa-pulse\"></i> </a>\r\n                          </div>\r\n                      </div>\r\n                  </div>\r\n                    <div class=\"panel-body\">\r\n                      <table datatable [dtOptions]=\"dtOptions\" [dtTrigger]=\"dtTrigger\"\r\n                        class=\"table table-striped- table-bordered table-hover table-checkable dataTable no-footer dtr-inline\">\r\n                        <thead>\r\n                          <tr>\r\n                            <th style=\"width: 5%;\">Quotation&nbsp;No<br></th>\r\n                            <th style=\"width: 10%;\">Date</th>\r\n                            <th style=\"width: 15%;\">Subject</th>\r\n                            <th style=\"width: 30%;\">Customer Info</th>\r\n                            <th style=\"width: 25%;\">Amount</th>\r\n                            <th style=\"width: 5%;\">Status</th>\r\n                            <th style=\"width: 10%;\">Actions</th>\r\n                          </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                          <tr *ngFor=\"let q of quoteService.QuoteLocalList; let ii=index async\"\r\n                            class=\"quote-list-view-info odd\">\r\n\r\n                            <td>\r\n                              <span class=\"btn btn-label-primary\"><a href=\"javascript:;\" (click)=\"getQuoteDetails(q)\">{{ q.QuoteId }}</a><br></span>\r\n                              <span *ngIf=\"q.InvoiceNo!\" class=\"btn btn-label-danger btn-pill invoices-btn\"><a href=\"javascript:;\" (click)=\"ViewInvoiceDetails(q.InvoiceId)\"> {{ q.InvoiceNo }}</a><br></span>\r\n                              <span *ngIf=\"q.TicketNo!\" class=\"btn btn-label-danger btn-pill invoices-btn\"><a href=\"javascript:;\" (click)=\"viewTicketDetails(q.TicketId)\"> {{ q.TicketNo }}</a></span>\r\n\r\n                            </td>\r\n                            <td>{{q.CreatedUtcDate | date}}</td>\r\n                            <td>{{q.JobTitle}}</td>\r\n                            <td>\r\n                              <strong>Name: </strong> {{q.CustomerName}} <br>\r\n                              <strong>Company: </strong> {{q.CompanyName}}\r\n                            </td>\r\n\r\n                            <td>\r\n                              <strong>Sub Total: </strong> {{q.SubTotal.toFixed(2)}} <br>\r\n                              <strong>Discount: </strong> {{q.DiscountAmount.toFixed(2)}} <br>\r\n                              <strong>Tax: </strong> {{q.TaxAmount.toFixed(2)}} <br>\r\n                              <strong>Net Amount: </strong> {{q.NetAmount.toFixed(2)}}\r\n                            </td>\r\n                            <td>\r\n                              <generic-quote-status [(Status)]=\"q.Status\"></generic-quote-status>\r\n                            </td>\r\n                            <td>\r\n                              <div class=\"btn-group btn-group-sm\">\r\n                                <a href=\"javascript:;\" style=\"border: #1dc9b7;\" class=\"btn btn-primary dropdown-toggle\"\r\n                                  data-toggle=\"dropdown\">Action<span class=\"caret\"></span></a>\r\n\r\n                                <ul class=\"dropdown-menu\">\r\n                                  <li *ngIf=\"currentUser.Permissions.QuoteEdit && q.Status ===1\"><a (click)=\"popolateQuote(q)\" href=\"javascript:;\">Edit</a></li>\r\n                                  <li *ngIf=\"currentUser.Permissions.QuoteView\"><a (click)=\"getQuoteDetails(q)\" href=\"javascript:;\">View Details</a></li>\r\n                                  <ng-container *ngIf=\"q.Status===1 || q.Status===2\">\r\n                                  <li *ngIf=\"currentUser.Permissions.QuoteEdit\"><a (click)=\"populateStatusPopup(q, q.Id)\"  href=\"javascript:void(0);\">Update Status</a></li>\r\n                                  </ng-container>\r\n                                  <!-- <ng-container *ngIf=\"q.Status===1 || q.Status===2 || q.Status===3\">\r\n                                    <li *ngIf=\"currentUser.Permissions.QuoteEdit\"><a (click)=\"addsignature(q)\"  href=\"javascript:void(0);\">Add Signature</a></li>\r\n                                    </ng-container> -->\r\n                                </ul>\r\n                              </div>\r\n                            </td>\r\n                          </tr>\r\n                        </tbody>\r\n                      </table>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n","export class GenicProfile {\r\n    Id?: number;\r\n    Name?: string;\r\n    Logo?: string;\r\n    Description?: string;\r\n    TicketPrefix?: string;\r\n    QuotePrefix?: string;\r\n    InvoicePrefix?: string;\r\n    ServicePrefix?: string;\r\n    CloserPrefix?: string;\r\n    ContactNumber?: string;\r\n    WhatsAppNumber?: string;\r\n    Email?: string;\r\n    AddressStreet1?: string;\r\n    AddressStreet2?: string;\r\n    AddressCity?: string;\r\n    AddressUnitNo?: string;\r\n    AddressState?: string;\r\n    AddressZipCode?: string;\r\n    AddressCountry?: string;\r\n    Latitude?: string;\r\n    Longitude?: string;\r\n    FacebookUrl?: string;\r\n    TwitterUrl?: string;\r\n    InstagramUrl?: string;\r\n    GoogleUrl?: string;\r\n    WebsiteUrl?: string;\r\n    SundayString?: string;\r\n    MondayString?: string;\r\n    TuesdayString?: string;\r\n    WednesdayString?: string;\r\n    ThursdayString?: string;\r\n    FridayString?: string;\r\n    SaturdayString?: string;\r\n    Sunday?: boolean;\r\n    Monday?: boolean;\r\n    Tuesday?: boolean;\r\n    Wednesday?: boolean;\r\n    Thursday?: boolean;\r\n    Friday?: boolean;\r\n    Saturday?: boolean;\r\n    TimeZone?: string;\r\n    TicketTermsConditions?: string;\r\n    QuotationHeader?: string;\r\n    InvoiceHeader?: string;\r\n    ServiceHeader?: string;\r\n    QuoteTermsAndCondition?: string;\r\n    BufferTime?: number;\r\n    OTAfter: number;\r\n    WarrantyValidation?: boolean;\r\n    Geolocation?: boolean;\r\n    GeolocationAddress?: boolean;\r\n    GeolocationImage?: boolean;\r\n    CreatedUtcDate?: Date;\r\n    ModifiedUtcDate?: Date;\r\n}\r\nexport class GenicProfileCalendar {\r\n    Id?: number;\r\n    GenicProfileId?: number;\r\n    Date?: Date;\r\n    Description?: string;\r\n    WorkType?: string;\r\n    StartTime?: string;\r\n    EndTime?: string;\r\n    LeaveFor?: number; /// 1=Business Calendar, 2=Engineer Holiday\r\n    EngineerId?: string;\r\n    Status?: string;\r\n    EngineerName?: string;\r\n    IsWorking?: boolean;\r\n}\r\nexport class PendingLeaveRequest {\r\n    Count?: number;\r\n}\r\nexport class WebsiteParams {\r\n    UrlPath?: string;\r\n    UrlString?: string;\r\n}\r\nexport class TicketFilter {\r\n    DateFrom?: string;\r\n    DateTo?: string;\r\n    CustomerId?: any = [];\r\n    EngineerId?: any = [];\r\n    DepartmentId?: any = [];\r\n    Status?: any = [];\r\n    IsReady?: boolean;\r\n    IsReadyQuote?: boolean;\r\n    IsReadyInvoice?: boolean;\r\n}\r\nexport class GlobalFilter {\r\n    query: string;\r\n}\r\nexport class ResourceFullCalendarSetting {\r\n    start: string;\r\n    end: string;\r\n}\r\nexport class Country {\r\n    CountryId: number;\r\n    CountryName: string;\r\n}\r\nexport class Smtpsetting {\r\n    Id: number;\r\n    SMTPName: string;\r\n    EmailProtocol: string;\r\n    EmailEncryption: string;\r\n    SMTPHost: string;\r\n    SMTPPort: string;\r\n    SMTPEmail: string;\r\n    SMTPUsername: string;\r\n    SMTPPassword: string;\r\n    EmailCharset: string;\r\n    EmailSignature: string;\r\n}\r\nexport class GenicDocExt {\r\n    Id: number;\r\n    ExtentionName: string;\r\n    IsActive: boolean;\r\n}\r\nexport class EngineerAttendance {\r\n    Id: number;\r\n    EngineerId: string;\r\n    StartLatLong: string;\r\n    EndLatLong: string;\r\n    StartDate: string;\r\n    StartAddress: string;\r\n    EndDate: string;\r\n    EndAddress: string;\r\n    StartIP: string;\r\n    EndIP: string;\r\n    Remark: string;\r\n    EngineerAttendanceImage: EngineerAttendanceImage[];\r\n}\r\nexport class EngineerAttendanceImage {\r\n    Id: number;\r\n    EngineerAttendanceId: number;\r\n    Image: string;\r\n    Size: number;\r\n    Ext: string;\r\n    Status: string;\r\n}","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { TicketIconAttachmentComponent } from './TicketIconAttachment.component';\r\n\r\n@NgModule({\r\n  imports: [CommonModule, FormsModule],\r\n  declarations: [TicketIconAttachmentComponent],\r\n  exports: [TicketIconAttachmentComponent]\r\n})\r\nexport class TicketIconAttachmentModule {}\r\n","import { Component, OnInit, ViewChild } from '@angular/core';\nimport { MatDialogRef } from '@angular/material/dialog';\nimport { Login } from 'src/app/services/login.mudule';\nimport { AuthenticationService } from 'src/app/services/authentication.service';\nimport { UserlogService } from 'src/app/services/userlog.service';\nimport { QuoteService } from 'src/app/services/quote.service';\nimport Swal from 'sweetalert2';\nimport { SignaturePad } from 'angular2-signaturepad';\n\n@Component({\n  selector: 'app-quote-status-popup',\n  templateUrl: './quote-status-popup.component.html',\n  styles: []\n})\nexport class QuoteStatusPopupComponent implements OnInit {\n  @ViewChild('SignaturePad1', { static: false }) SalesPersonSingnaturePad: SignaturePad;\n  SalesPersonSignaturePadOption = { ' minWidth': 2, pecColor: 'rgb(66,133,244)', backgroundcolor: 'rgb(255,255,255)', canvasWidth: 500, canvasHeight: 150 };\n  currentUser: Login;\n  temptQuoteStatus = 0;\n  constructor(\n    public logService: UserlogService,\n    public loginservice: AuthenticationService,\n    public quoteService: QuoteService,\n    public dialogRef: MatDialogRef<QuoteStatusPopupComponent>\n  ) {\n    this.loginservice.currentUser.subscribe(x => this.currentUser = x);\n  }\n\n  ngOnInit() {\n    this.temptQuoteStatus = Number(this.quoteService.QuoteData.Status);\n  }\n  SetStatus(Status: number) {\n    this.temptQuoteStatus = Status;\n  }\n  UpdateQuoteStatus(Status: number) {\n    if (Status === 3) {\n      this.InsertESignature(Status);\n    } else {\n    if (Status === 5 || Status === 6) {\n      Swal.fire({\n        title: 'Are you sure?',\n        text: \"You won't be able to revert this!\",\n       // icon: 'warning',\n        showCancelButton: true,\n        confirmButtonColor: '#3085d6',\n        cancelButtonColor: '#d33',\n        confirmButtonText: 'Continue!'\n      }).then((result) => {\n        if (result.value) {\n          if (Status === undefined) {\n            this.dialogRef.close();\n          } else {\n            this.dialogRef.close({ Status });\n          }\n          Swal.fire(\n            'Changed!',\n            'Your Status is changed.',\n            'success'\n          );\n        }\n      });\n    } else {\n      if (Status === undefined) {\n        this.dialogRef.close();\n      } else {\n        this.dialogRef.close({ Status });\n      }}\n   }\n  }\n  InsertESignature(Status: number) {\n    const SaleBase64 = this.SalesPersonSingnaturePad.toDataURL('image/png');\n    this.quoteService.QuoteData.SalesPersonSignature = SaleBase64;\n    this.quoteService.QuoteData.CustomerSignature = '';\n    this.quoteService.updateQuoteSignature(this.currentUser.Token).subscribe( res => {\n      if (res) { const response = res as any; this.dialogRef.close({ Status });\n      }}, error =>  console.log(error));\n  }\n  cleareSalesPersonSignature() {\n    this.SalesPersonSingnaturePad.clear();\n  }\n  close() {\n    this.dialogRef.close();\n  }\n}\n","<style>\n    .Container {overflow-y: auto !important;overflow-x: hidden;min-height: 22px;max-height: 100vh;}\n    .myStatus {width: 100%;background-color: cyan;padding: 6px 6px;margin: 0 0 1px 0;border: 1px solid #ad5a2242;}\n    .myStatus a {margin: 0px 0 0 11px;color: black;font-size: initial;}\n    .AcceptStatus {margin: 0 5px 0 0;color: green;}\n    .OtherStatus {margin: 0 5px 0 0;color: #847a74;}\n    .btnRemoveSection {background-color: #fcb822;color: black;padding: 2px 15px;float: right;cursor: pointer;margin: 1px 1px 0 0;}\n</style>\n<div class=\"Container\">\n    <h4 class=\"dispaly-4\">Change Status</h4>\n    <hr>\n    <div class=\"form-row\">\n        <div class=\"form-group col-md-12\">\n            <div class=\"kt-radio-list\">\n                <div class=\"row\">\n                    <div class=\"myStatus\" *ngIf=\"quoteService.QuoteData.Status === 1\">\n                        <a href=\"javascript:void(0)\" (click)=\"SetStatus(2)\">\n                            <ng-container *ngIf=\"temptQuoteStatus===2\">\n                                <i class=\"fa fa-check-circle AcceptStatus\" aria-hidden=\"true\"></i>\n                            </ng-container>\n                            <ng-container *ngIf=\"temptQuoteStatus!==2\">\n                                <i class=\"far fa-circle OtherStatus\" aria-hidden=\"true\"></i>\n                            </ng-container>\n                            Pending\n                        </a>\n                    </div>\n                    <div class=\"myStatus\" *ngIf=\"currentUser.Type === 'Admin'\">\n                        <a href=\"javascript:void(0)\" (click)=\"SetStatus(3)\">\n                            <ng-container *ngIf=\"temptQuoteStatus===3\">\n                                <i class=\"fa fa-check-circle AcceptStatus\" aria-hidden=\"true\"></i>\n                            </ng-container>\n                            <ng-container *ngIf=\"temptQuoteStatus!==3\">\n                                <i class=\"far fa-circle OtherStatus\" aria-hidden=\"true\"></i>\n                            </ng-container>\n                            Approve\n                        </a>\n                    </div>\n                    <div class=\"signature\" *ngIf=\"temptQuoteStatus===3\">\n                        <div class=\"col\">\n                            <label>&nbsp;&nbsp;Sales Person Signature</label>\n                            <div id=\"CloseSignarePad\"\n                              class=\"m-signature-pad CloseSignarePad\">\n                              <div class=\"m-signature-pad-body\">\n                                <signature-pad #SignaturePad1\n                                  [options]=\"SalesPersonSignaturePadOption\"></signature-pad>\n                              </div>\n                            </div>\n                            <a style=\"float:right\" class=\"btnRemoveSection\"\n                              (click)=\"cleareSalesPersonSignature()\"> Clear signature</a>\n                          </div>\n                    </div>\n                    <div class=\"myStatus\">\n                        <a href=\"javascript:void(0)\" (click)=\"SetStatus(5)\">\n                            <ng-container *ngIf=\"temptQuoteStatus===5\">\n                                <i class=\"fa fa-check-circle AcceptStatus\" aria-hidden=\"true\"></i>\n                            </ng-container>\n                            <ng-container *ngIf=\"temptQuoteStatus!==5\">\n                                <i class=\"far fa-circle OtherStatus\" aria-hidden=\"true\"></i>\n                            </ng-container>\n                            Reject\n                        </a>\n                    </div>\n                    <div class=\"myStatus\">\n                        <a href=\"javascript:void(0)\" (click)=\"SetStatus(6)\">\n                            <ng-container *ngIf=\"temptQuoteStatus===6\">\n                                <i class=\"fa fa-check-circle AcceptStatus\" aria-hidden=\"true\"></i>\n                            </ng-container>\n                            <ng-container *ngIf=\"temptQuoteStatus!==6\">\n                                <i class=\"far fa-circle OtherStatus\" aria-hidden=\"true\"></i>\n                            </ng-container>\n                            Cancel\n                        </a>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n    <div class=\"form-group\">\n        <button type=\"submit\" class=\"btn btn-primary\" (click)=\"UpdateQuoteStatus(temptQuoteStatus)\"> Change\n            Status</button>\n        <button type=\"button\" class=\"btn btn-outline-dark ml-1\" (click)=\"close()\"><i class=\"fa fa-close\"></i>\n            Close</button>\n    </div>\n</div>","import { Component, OnInit } from '@angular/core';\nimport { MatDialogRef } from '@angular/material/dialog';\nimport { CustomerService } from '../../../services/customer.service';\nimport { CustomerContactPerson, Customer } from '../../../services/customer.model';\nimport { QuoteService } from '../../../services/quote.service';\nimport { ToastrService } from 'ngx-toastr';\nimport { AuthenticationService, Login } from '../../../services';\n\n@Component({\n  selector: 'app-quote-contact-person-popup',\n  templateUrl: './quote-contact-person-popup.component.html',\n  styleUrls: ['./quote-contact-person-popup.component.css']\n})\nexport class QuoteContactPersonPopupComponent implements OnInit {\n  LocalList: CustomerContactPerson[];\n  isValidTitle = true;\n  isValidFirstname = true;\n  isValidLastname = true;\n  IsContactPersonCreate = true;\n  currentUser: Login;\n  constructor(\n    public dialogRef: MatDialogRef<QuoteContactPersonPopupComponent>,\n    public loginservice: AuthenticationService,\n    public customerservice: CustomerService,\n    public quoteService: QuoteService,\n    private toastr: ToastrService\n  ) { this.loginservice.currentUser.subscribe(x => this.currentUser = x); }\n\n  ngOnInit() {\n    setTimeout(() => {\n      this.LocalList = this.customerservice.formData.CustomerContactPerson;\n      this.customerservice.CustomerContactPersonData.CustomerId = this.customerservice.formData.Id;\n    }, 500);\n  }\n  onClick(c: CustomerContactPerson) {\n    if (c === null) {\n      this.dialogRef.close();\n    } else {\n      this.quoteService.QuoteData.CustomerName = c.NameTitle + ' ' + c.FirstName + ' ' + c.LastName;\n      this.quoteService.QuoteData.CustomerEmail = c.Email;\n      this.quoteService.QuoteData.CustomerContactNo = c.Phone;\n      this.quoteService.QuoteData.CompanyName = this.customerservice.formData.CompanyName;\n      this.quoteService.QuoteData.CustomerId = this.customerservice.formData.Id;\n      this.quoteService.QuoteData.Attention = '';\n      }\n      //  let x = this.customerservice.formData;\n    setTimeout(() => {\n      this.dialogRef.close();\n    }, 100);\n  }\n  redirect(c: Customer) {\n    this.customerservice.formData = Object.assign({}, c);\n    // setTimeout(() => {\n    //   this.router.navigate(['/customers/customer-edit/']);\n    // }, 100);\n    this.IsContactPersonCreate = false;\n  }\n  onBack() {\n    this.IsContactPersonCreate = true;\n  }\n  onSubmit() {\n    if (this.customerservice.CustomerContactPersonData.NameTitle === '' ||\n     this.customerservice.CustomerContactPersonData.NameTitle === undefined) {\n      this.isValidTitle = false;\n      this.toastr.warning('', 'Title is required!');\n      return false;\n    }\n    if (this.customerservice.CustomerContactPersonData.FirstName === '' ||\n     this.customerservice.CustomerContactPersonData.FirstName === undefined) {\n      this.isValidFirstname = false;\n      this.toastr.warning('', 'First Name is required!');\n      return false;\n    }\n    if (this.customerservice.CustomerContactPersonData.LastName === '' ||\n    this.customerservice.CustomerContactPersonData.LastName === undefined) {\n      this.isValidLastname = false;\n      this.toastr.warning('', 'Last Name is required!');\n      return false;\n    }\n    this.customerservice.AddNewContactPerson(this.currentUser.Token).subscribe( res => {\n      if (res) { const response = res as any;\n                 if (response.Message === 'success') {\n                  this.toastr.success('success', response.MessageDescription);\n                  this.customerservice.formData.CustomerContactPerson = response.result;\n                  this.LocalList = response.result;\n                  this.IsContactPersonCreate = true;\n                  }\n                 if (response.Message === 'failure') {\n                    this.toastr.warning('warning', response.MessageDescription);\n                  }\n    }}, error =>  console.log(error));\n  }\n  onkeypress(value: string) {\n    this.LocalList = this.customerservice.formData.CustomerContactPerson.filter(item =>\n      item.Phone.toLowerCase().match(value.toLowerCase()) ||\n      item.Email.toLowerCase().match(value.toLowerCase()) ||\n      item.FirstName.toLowerCase().match(value.toLowerCase()) ||\n      item.LastName.toLowerCase().match(value.toLowerCase()));\n  }\n}\n","<div class=\"modal-header select-new-properties\">\n    <h5 class=\"modal-title\" id=\"exampleModalLabel\">Select or create a Contact Person</h5>\n    <button class=\"btn btn-default pull-right\" mat-dialog-close>x</button>\n    <input type=\"hidden\" name=\"Id\" #Id=\"ngModel\" [(ngModel)]=\"customerservice.formData.Id\">\n    <input type=\"hidden\" name=\"CustomerId\" #CustomerId=\"ngModel\" [(ngModel)]=\"customerservice.CustomerContactPersonData.CustomerId\">\n</div>\n<div class=\"modal-body property-modal-body\" *ngIf=\"IsContactPersonCreate\">\n        <p>Which contact person would you like to create this quotation for?</p>\n        <div class=\"row forn-group\">\n            <div class=\"col-md-7\">\n                <input type=\"text\" (keydown)=\"onkeypress($event.target.value)\" (keyup)=\"onkeypress($event.target.value)\" class=\"form-control\" placeholder=\"Search Clients...\">\n            </div>\n            <div class=\"col-md-1 text-center\" *ngIf=\"currentUser.Permissions.CustomerCreate\">\n                or\n            </div>\n            <div class=\"col-md-4 text-right\">\n                <a on class=\"btn btn-brand text-white \" (click)=\"redirect(customerservice.formData)\" *ngIf=\"currentUser.Permissions.CustomerCreate\" >\n                    <i class=\"la la-plus\"></i> Create new contact Person </a>\n            </div>\n        </div>\n        <div class=\"kt-portlet__body new_clients_properties_body\">\n            <div class=\"kt-widget4 kt-scroll ps\" data-scroll=\"true\" data-height=\"220\"\n                style=\"height: 220px; overflow: hidden;\" id=\"style-3\">\n                <div *ngFor = \"let x of LocalList;\" class=\"kt-widget4__item create-quote-client-item\" >\n                    <div class=\"kt-widget4__pic kt-widget4__pic--logo\">\n                        &nbsp;&nbsp; <i class=\"fa fa-user\"></i>\n                    </div>\n                    <div class=\"kt-widget4__info\" (click)=\"onClick(x)\">\n                        <a class=\"kt-widget4__title\" href=\"javascript:;\">\n                           {{ x.NameTitle }} {{ x.FirstName }} {{ x.LastName }}\n                        </a>\n                       \n                    </div>\n                </div>\n        </div>\n        </div>\n</div>\n<div class=\"modal-body property-modal-body\" *ngIf=\"!IsContactPersonCreate\">\n    <p>Add Contact Person</p>\n    <div class=\"row\">\n        <div class=\"col-xl-2\">\n            <div class=\"form-group\">\n                <label for=\"\" class=\"label whole-text-required\">Title<span class=\"text-danger\">*</span></label>\n                <select class=\"form-control\" name=\"NameTitle\" #NameTitle=\"ngModel\" [class.is-invalid]=\"!isValidTitle\"\n                    [(ngModel)]=\"customerservice.CustomerContactPersonData.NameTitle\">\n                    <option value=\"\">Title</option>\n                    <option value=\"Mrs.\">Mrs.</option>\n                    <option value=\"Mr.\">Mr.</option>\n                    <option value=\"Ms.\">Ms.</option>\n                    <option value=\"Mss.\">Mss.</option>\n                    <option value=\"Dr.\">Dr.</option>\n                </select>\n\n            </div>\n        </div>\n        <div class=\"col-xl-5\">\n            <div class=\"form-group\">\n                <label for=\"\" class=\"label whole-text-required\">First Name<span class=\"text-danger\">*</span></label>\n                <input name=\"FirstName\" #FirstName=\"ngModel\" [(ngModel)]=\"customerservice.CustomerContactPersonData.FirstName\"\n                    class=\"form-control\" placeholder=\"First Name\" [class.is-invalid]=\"!isValidFirstname\" min=\"0\"\n                    maxlength=\"64\">\n            </div>\n        </div>\n        <div class=\"col-xl-5\">\n            <div class=\"form-group\">\n                <label for=\"\" class=\"label\">Last Name <span class=\"text-danger\">*</span></label>\n                <input name=\"LastName\" #LastName=\"ngModel\" [(ngModel)]=\"customerservice.CustomerContactPersonData.LastName\" class=\"form-control\"\n                    placeholder=\"Last Name\" [class.is-invalid]=\"!isValidLastname\" maxlength=\"64\">\n            </div>\n        </div>\n    </div>\n    <div class=\"row\">\n        <div class=\"col-xl-6\">\n            <div class=\"form-group\">\n                <label for=\"\" class=\"label\">Email Address</label>\n                <input name=\"Email\" #Email=\"ngModel\" [(ngModel)]=\"customerservice.CustomerContactPersonData.Email\"\n                    class=\"form-control\" placeholder=\"Email\">\n            </div>\n        </div>\n        <div class=\"col-xl-6\">\n            <div class=\"form-group\">\n                <label for=\"\" class=\"label\">Phone Number </label>\n                <input name=\"Phone\" #Phone=\"ngModel\" [(ngModel)]=\"customerservice.CustomerContactPersonData.Phone\"\n                    class=\"form-control\" placeholder=\"Phone Number\">\n            </div>\n        </div>\n    </div>\n    <div class=\"row\">\n        <div class=\"col-xl-12\">\n            <button type=\"button\" (click)=\"onBack()\" class=\"btn btn-secondary\"><i class=\"fas fa-angle-double-left\"></i>Back</button>&nbsp;&nbsp;&nbsp;\n            <button type=\"submit\" (click)=\"onSubmit()\" class=\"btn btn-brand\">\n                Create\n            </button>\n        </div>\n    </div>\n</div>\n","import { Component, OnInit, ViewChild } from '@angular/core';\nimport { MatDialogRef } from '@angular/material/dialog';\nimport { Login } from 'src/app/services/login.mudule';\nimport { AuthenticationService } from 'src/app/services/authentication.service';\nimport { UserlogService } from 'src/app/services/userlog.service';\nimport { QuoteService } from 'src/app/services/quote.service';\nimport { SignaturePad } from 'angular2-signaturepad';\n\n@Component({\n  selector: 'app-quote-status-popup',\n  templateUrl: 'signature-quote-status-popup.component.html',\n  styles: []\n})\nexport class SignatureQuoteStatusPopupComponent implements OnInit {\n  @ViewChild('SignaturePad2', { static: false }) CustomerSingnaturePad: SignaturePad;\n  CustomerSignaturePadOption = {\n    ' minWidth': 2, pecColor: 'rgb(66,133,244)', backgroundcolor: 'rgb(255,255,255)', canvasWidth: 500, canvasHeight: 200 };\n  currentUser: Login;\n  temptQuoteStatus = 0;\n  constructor(\n    public logService: UserlogService,\n    public loginservice: AuthenticationService,\n    public quoteService: QuoteService,\n    public dialogRef: MatDialogRef<SignatureQuoteStatusPopupComponent>\n  ) {\n    this.loginservice.currentUser.subscribe(x => this.currentUser = x);\n  }\n\n  ngOnInit() {\n  }\n  UpdateQuoteStatus() {\n    const CustBase64 = this.CustomerSingnaturePad.toDataURL('image/png');\n    this.quoteService.QuoteData.SalesPersonSignature = CustBase64;\n    this.quoteService.updateQuoteSignature(this.currentUser.Token).subscribe( res => {\n      if (res) { const response = res as any; this.dialogRef.close();\n      }}, error =>  console.log(error));\n  }\n  cleareCustomerCloserSignature() {\n    this.CustomerSingnaturePad.clear();\n  }\n  close() {\n    this.dialogRef.close();\n  }\n}\n","<style>\n    .Container {\n        overflow-y: auto !important;\n        overflow-x: hidden;\n        min-height: 22px;\n        max-height: 100vh;\n    }\n\n    .myStatus {\n        width: 100%;\n        background-color: cyan;\n        padding: 6px 6px;\n        margin: 0 0 1px 0;\n        border: 1px solid #ad5a2242;\n    }\n\n    .myStatus a {\n        margin: 0px 0 0 11px;\n        color: black;\n        font-size: initial;\n    }\n\n    .AcceptStatus {\n        margin: 0 5px 0 0;\n        color: green;\n    }\n\n    .OtherStatus {\n        margin: 0 8px 0 0;\n        color: #ad5a22;\n    }\n\n    .signature {\n        width: 100%;\n        height: 280px;\n        border: 1px solid #ad5a2242;\n    }\n\n    .btnRemoveSection {\n        background-color: #fcb822;\n        color: black;\n        padding: 2px 15px;\n        float: left;\n        margin-top: 2px;\n        cursor: pointer;\n    }\n</style>\n<div class=\"Container\">\n    <h4 class=\"dispaly-4\">Add Sale Person Signature</h4>\n    <hr>\n    <div class=\"form-row\">\n        <div class=\"form-group col-md-12\">\n            <div class=\"kt-radio-list\">\n                <div class=\"row\">\n                    <div class=\"signature\">\n                        <div class=\"row forn-group\">\n                            <div class=\"col\">\n                                <div id=\"CloseSignarePad\" class=\"m-signature-pad CloseSignarePad\">\n                                    <div class=\"m-signature-pad-body\">\n                                        <signature-pad #SignaturePad2 [options]=\"CustomerSignaturePadOption\">\n                                        </signature-pad>\n                                    </div>\n                                </div>\n                                <a class=\"btnRemoveSection\"\n                                    (click)=\"cleareCustomerCloserSignature()\"> Clear signature</a>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n    <div class=\"form-group\">\n        <button type=\"submit\" class=\"btn btn-primary\" (click)=\"UpdateQuoteStatus()\"> Add Signature</button>\n        <button type=\"button\" class=\"btn btn-outline-dark ml-1\" (click)=\"close()\"><i class=\"fa fa-close\"></i>Close</button>\n    </div>\n</div>","import { ReminderBase } from './CommanExtendsClass.module';\nimport { Customer } from './customer.model';\nimport { Property } from './property.model';\n\nexport class Ticket {\n    Id?: string;\n    RecurringId?: number;\n    TicketUniqueID?: number;\n    TicketId?: string;\n    CustomerId?: string;\n    PropertyId?: string;\n    CustomerName?: string;\n    CustomerContactNo: string;\n    CustomerEmail?: string;\n    CustomerAddress?: string;\n    CustomerCompanyName?: string;\n    Title?: string;\n    Description?: string;\n    TicketType?: string;\n    OneOffScheduled?: boolean;\n    OneOffAppointmentDate?: string;\n    OneOffStartTime?: string;\n    OneOffEndTime?: string;\n    AppointmentStart: string;\n    AppointmentEnd: string;\n    OneOffInvoice?: boolean;\n    RecurringScheduled?: boolean;\n    RecurringStartDate?: string;\n    RecurringEndDate?: string;\n    RecurringDuration?: number;\n    RecurringVisitFrequency?: number;\n    RecurringTotalVisit?: number;\n    RecurringInvoice?: string;\n    Status?: string;\n    InternalNoteDescription?: string;\n    TermsAndConditions?: string;\n    InternalNoteQuote?: boolean;\n    InternalNoteTicket?: boolean;\n    InternalNoteInvoice?: boolean;\n    InternalNoteAllowPayment?: boolean;\n    WhenInvoiceClosed?: boolean;\n    CreatedUtcDate?: string;\n    Rescheduled?: boolean;\n    Reallocate?: boolean;\n    RequestId?: string;\n    IsRequestExists?: boolean;\n    Priority?: number;\n    OverDueDays?: number;\n    NetAmount?: number;\n    InvoiceId?: string;\n    InvoiceNo?: string;\n    QuoteId?: string;\n    TicketConvertedFrom?: string;\n    TicketConvertedID?: string;\n    Customers?: Customer;\n    Properties?: Property;\n    TicketTeams?: TicketTeam[];\n    TicketTeamList?: TicketTeam[];\n    TicketItems?: TicketItem[];\n    TicketItemList?: TicketItem[];\n    TicketAttachments?: TicketAttachment[];\n    TicketAttachmentList?: TicketAttachment[];\n    TicketWiseIssueType?: TicketWiseIssueType[];\n    TicketClosedDate?: string;\n    CreatedBy?: string;\n    SMTPId?: number;\n    DepartmentName?: string;\n    TicketReminder?: TicketReminder[];\n    Rating?: number;\n    RatingFeedback?: string;\n}\nexport class TicketTeam {\n    Id?: number;\n    TicketId?: string;\n    EngineerId?: string;\n    EngineerName?: string;\n    EngineerLogo?: string;\n    TicketAssignDate?: Date;\n    Type?: number;\n}\nexport class TicketItem {\n    Id?: number;\n    TicketId?: string;\n    ItemName?: string;\n    Type?: string;\n    ItemDescription?: string;\n    ItemQuantity?: number;\n    ItemUnitCost?: number;\n    ItemTotalCost?: number;\n    IsPriseRevised?: boolean;\n    ItemAddredBy?: boolean;\n    ItemAddredById?: string;\n    ItemAddredByName?: string;\n    ItemBatch?: string;\n    BatchQty?: string;\n    UniqId?: string;\n    InWarranty?: boolean;\n    WarrantyDays?: number;\n    InstallationDate?: Date;\n    IsMaintance?: boolean;\n    MaintanceRemarks?: string;\n}\nexport class TicketAttachment {\n    Id?: number;\n    AttachmentName?: string;\n    TicketId?: string;\n    AttachmentPath?: string;\n    AttachmentSize?: number;\n}\nexport class TicketIssueType {\n    Id?: number;\n    Name?: string;\n    IsAssigned: boolean;\n}\nexport class TicketWiseIssueType {\n    Id?: number;\n    TicketId?: string;\n    TicketIssueTypeId?: number;\n    IssueTypeName?: string;\n}\nexport class TicketTimer {\n    ID?: number;\n    EngineerID?: string;\n    TicketID?: string;\n    StartDate?: Date;\n    EndDate?: Date;\n    StartTime?: string;\n    EndTime?: string;\n    Status?: number;\n    }\nexport class TicketReminder extends ReminderBase {\n    Id?: number; \n    TicketId?: string;\n}\nexport class TicketEquipment {\n    Id: number;\n    TicketId: string;\n    Name: string;\n    Remark: string;\n    Quantity: number;\n}\nexport class TicketEquipmentMasterData {\n    Id: number;\n    Name: string;\n    IsActive: boolean;\n}\nexport class TicketRecurringHelper {\n    Id?: number;\n    Type?: number;\n    IsFor: number;\n    RecurringStartDate?: string;\n    RecurringDuration?: number;\n    RecurringVisitFrequency?: number;\n    SundayIsActive?: boolean;\n    MondayIsActive?: boolean;\n    TuesdayIsActive?: boolean;\n    WednesdayIsActive?: boolean;\n    ThursdayIsActive?: boolean;\n    FridayIsActive?: boolean;\n    SaturdayIsActive?: boolean;\n    Date1?: boolean;\n    Date2?: boolean;\n    Date3?: boolean;\n    Date4?: boolean;\n    Date5?: boolean;\n    Date6?: boolean;\n    Date7?: boolean;\n    Date8?: boolean;\n    Date9?: boolean;\n    Date10?: boolean;\n    Date11?: boolean;\n    Date12?: boolean;\n    Date13?: boolean;\n    Date14?: boolean;\n    Date15?: boolean;\n    Date16?: boolean;\n    Date17?: boolean;\n    Date18?: boolean;\n    Date19?: boolean;\n    Date20?: boolean;\n    Date21?: boolean;\n    Date22?: boolean;\n    Date23?: boolean;\n    Date24?: boolean;\n    Date25?: boolean;\n    Date26?: boolean;\n    Date27?: boolean;\n    Date28?: boolean;\n    Date29?: boolean;\n    Date30?: boolean;\n    Date31?: boolean;\n    }\n","import { Component, OnInit } from '@angular/core';\nimport { QuoteService } from 'src/app/services/quote.service';\nimport { MatDialogRef } from '@angular/material/dialog';\nimport { Property } from 'src/app/services/property.model';\nimport { environment } from 'src/environments/environment';\nimport { ToastrService } from 'ngx-toastr';\nimport { PropertyService } from 'src/app/services/property.service';\nimport { CustomerService } from 'src/app/services/customer.service';\nimport { AuthenticationService, Login } from 'src/app/services';\nimport { GenicProfileService } from 'src/app/services/genicprofile.service';\n\n@Component({\n  selector: 'app-quotecustomer-property-popup',\n  templateUrl: './quotecustomer-property-popup.component.html',\n  styleUrls: ['./quotecustomer-property-popup.component.css']\n})\nexport class QuotecustomerPropertyPopupComponent implements OnInit {\n  LocalPropertyList: Property[];\n  localPrependUrl: string;\n  isValidZipCode = true;\n  isValidCountry = true;\n  IsPropertyCreate = true;\n  lat: number;\n  lng: number;\n  zoom = 8;\n  IsPostalSearch: boolean;\n  options = { componentRestrictions: {country: ['SG']}};\n  street_number = '';\n  route = '';\n  neighborhood = '';\n  sublocality_level_3 = '';\n  sublocality_level_2 = '';\n  sublocality_level_1 = '';\n  locality = '';\n  administrative_area_level_2 = '';\n  administrative_area_level_1 = '';\n  country = '';\n  postal_code = '';\n  currentUser: Login;\n  countrylist: any;\n  constructor(\n    private toastr: ToastrService,\n    public dialogRef: MatDialogRef<QuotecustomerPropertyPopupComponent>,\n    public quoterService: QuoteService,\n    public service: PropertyService,\n    public loginservice: AuthenticationService,\n    public customerservice: CustomerService,\n    public genicprofileservice: GenicProfileService\n    ) {\n      this.loginservice.currentUser.subscribe(x => this.currentUser = x);\n      this.localPrependUrl = environment.apiUrl; }\n\n  ngOnInit() {\n    this.IsPropertyCreate = true;\n    this.service.Propertylist = [];\n    this.service.refrestPropertylistCustomerWise(this.currentUser.Token, this.customerservice.formData.Id).subscribe( res => {\n      if (res) { const response = res as any;\n                 if (response.Message === 'success') {\n                    this.service.Propertylist = this.service.locallist = response.result as Property[];\n                    this.service.locallist = this.service.Propertylist.filter(x => x.IsActive === true);\n                    this.service.formData.CustomerId = this.customerservice.formData.Id;\n                  }\n    }}, error =>  console.log(error));\n  }\n  onClick(x: Property) {\n    if (x === undefined) {\n      this.dialogRef.close();\n    } else {\n      this.dialogRef.close({x});\n    }\n  }\n  onSubmit() {\n    if (this.service.formData.AddressZipCode === '' ||\n    this.service.formData.AddressZipCode === undefined) {\n      this.isValidZipCode = false;\n      this.toastr.warning('', 'ZipCode is required!');\n      return false;\n    }\n    if (this.service.formData.AddressCountry === '' ||\n     this.service.formData.AddressCountry === undefined) {\n      this.isValidCountry = false;\n      this.toastr.warning('', 'Country is required!');\n      return false;\n    }\n\n    this.service.AddNewProperty()\n    .subscribe( res => {\n      if (res) {\n        setTimeout(() => {\n          this.toastr.success('', 'Property is added');\n          this.service.Propertylist = res as [];\n        }, 400);\n        setTimeout(() => {\n          this.service.locallist = this.service.Propertylist.filter(x => x.IsActive === true);\n          }, 1000);\n        this.IsPropertyCreate = true;\n        setTimeout(() => {\n          this.service.formData.AddressStreet1 = '';\n          this.service.formData.AddressStreet2 = '';\n          this.service.formData.AddressCity = '';\n          this.service.formData.AddressState = '';\n          this.service.formData.AddressUnitNo = '';\n          this.service.formData.AddressZipCode = '';\n        }, 1500);\n\n      }\n    }, error =>  console.log(error));\n  }\n  redirect() {\n    this.IsPropertyCreate = false;\n    this.genicprofileservice.getCountryList(this.currentUser.Token).subscribe( res => {\n      if (res) { const response = res as any;\n                 if (response.Message === 'success') {\n                   this.countrylist = response.result;\n                  }\n    }}, error =>  console.log(error));\n  }\n  onBack() {\n    this.IsPropertyCreate = true;\n  }\n  onkeypress(value: string) {\n    this.LocalPropertyList = this.quoterService.PropertyList.filter(item =>\n      item.CustomerName.toLowerCase().match(value.toLowerCase()) ||\n      item.AddressCity.toLowerCase().match(value.toLowerCase()) ||\n      item.AddressCountry.toLowerCase().match(value.toLowerCase()) ||\n      item.AddressStreet1.toLowerCase().match(value.toLowerCase()) ||\n      item.AddressStreet1.toLowerCase().match(value.toLowerCase()) ||\n      item.AddressUnitNo.toLowerCase().match(value.toLowerCase()) ||\n      item.AddressZipCode.toLowerCase().match(value.toLowerCase()));\n  }\n  public handleAddressChange(address: any) {\n    this.service.formData.AddressStreet1 = '';\n    this.service.formData.AddressStreet2 = '';\n    this.service.formData.AddressCity = '';\n    this.service.formData.AddressState =  '';\n    this.service.formData.AddressZipCode = '';\n    this.service.formData.AddressCountry = '';\n\n    this.lat = address.geometry.location.lat();\n    this.lng = address.geometry.location.lng();\n    address.address_components.forEach((element: any) => {\n      switch (element.types[0]) {\n        case 'postal_code': { this.postal_code = element.long_name; break; }\n        case 'country': { this.country = element.long_name; break; }\n        case 'administrative_area_level_1': { this.administrative_area_level_1 = element.long_name + ' '; break; }\n        case 'administrative_area_level_2': { this.administrative_area_level_2 = element.long_name + ' '; break; }\n        case 'locality': { this.locality = element.long_name + ' '; break; }\n        case 'sublocality_level_1': { this.sublocality_level_1 = element.long_name + ' '; break; }\n        case 'sublocality_level_2': { this.sublocality_level_2 = element.long_name + ' '; break; }\n        case 'sublocality_level_3': { this.sublocality_level_3 = element.long_name + ' '; break; }\n        case 'neighborhood': { this.neighborhood = element.long_name + ' '; break; }\n        case 'route': { this.route = element.long_name + ' '; break; }\n        case 'street_number': { this.street_number = element.long_name + ' '; break; }\n      }\n    });\n\n    this.service.formData.Latitude = this.lat.toString();\n    this.service.formData.Longitude = this.lng.toString();\n    this.service.formData.AddressStreet1 = this.street_number + this.route;\n    this.service.formData.AddressStreet2 =  this.administrative_area_level_2 + this.sublocality_level_3 +\n    this.sublocality_level_2 +\n    this.sublocality_level_1 + this.neighborhood + this.administrative_area_level_1;\n    this.service.formData.AddressCity = '';\n    this.service.formData.AddressState =  '';\n    this.service.formData.AddressZipCode = this.postal_code;\n    this.service.formData.AddressCountry = this.country;\n\n    this.street_number = '';\n    this.route = '';\n    this.administrative_area_level_2 = '';\n    this.sublocality_level_3 = '';\n    this.sublocality_level_2 = '';\n    this.sublocality_level_1 = '';\n    this.neighborhood = '';\n    this.administrative_area_level_1 = '';\n    this.locality = '';\n    this.postal_code = '';\n    this.country = '';\n  }\n}\n","<div class=\"modal-header select-new-properties\">\n    <h5 class=\"modal-title\" id=\"exampleModalLabel\">Select or create a Property</h5>\n    <button class=\"btn btn-default pull-right\" mat-dialog-close>x</button>\n</div>\n<div class=\"modal-body property-modal-body\" *ngIf=\"IsPropertyCreate\">\n        <p>Which property would you like to select for quotation ?</p>\n        <div class=\"row forn-group\">\n            <div class=\"col-md-7\">\n                <input type=\"text\" (keydown)=\"onkeypress($event.target.value)\" (keyup)=\"onkeypress($event.target.value)\" class=\"form-control\" placeholder=\"Search Clients...\">\n            </div>\n            <div class=\"col-md-1 text-center\" *ngIf=\"currentUser.Permissions.PropertyCreate\">\n                or\n            </div>\n            <div class=\"col-md-4\" *ngIf=\"currentUser.Permissions.PropertyCreate\">\n                <a on class=\"btn btn-brand text-white \" (click)=\"redirect()\" >\n                    <i class=\"la la-plus\"></i> Create new Property </a>\n            </div>\n        </div>\n        <div class=\"kt-portlet__body new_clients_properties_body\">\n            <div class=\"kt-widget4 kt-scroll ps\" data-scroll=\"true\" data-height=\"220\"\n                style=\"height: 220px; overflow: hidden;\">\n                <div *ngFor = \"let x of service.locallist\" class=\"kt-widget4__item create-quote-client-item\" (click)=\"onClick(x)\">\n                    <div class=\"kt-widget4__pic kt-widget4__pic--logo\">\n                        <img src=\"{{localPrependUrl}}/assets/media/client-logos/logo1.png\" alt=\"\">\n                    </div>\n                    <div class=\"kt-widget4__info\">\n                            <p class=\"kt-widget4__text\">\n                            {{ x.AddressStreet1 }} {{ x.AddressStreet2 }} {{ x.AddressUnitNo }} \n                            {{ x.AddressCountry }} {{ x.AddressZipCode }}\n                                </p>\n                        <a class=\"kt-widget4__title\">\n                            \n                            {{ x.CustomerName }}\n                        </a>\n                        \n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n\n    <div class=\"modal-body property-modal-body\" *ngIf=\"!IsPropertyCreate\">\n        <div class=\"kt-content kt-grid__item kt-grid__item--fluid kt-grid kt-grid--hor\" id=\"kt_content\">\n            <input type=\"hidden\" name=\"Id\" #Id=\"ngModel\" [(ngModel)]=\"service.formData.Id\">\n            <input type=\"hidden\" name=\"CustomerId\" #CustomerId=\"ngModel\" [(ngModel)]=\"service.formData.CustomerId\">\n            <input type=\"hidden\" name=\"CustomerName\" #CustomerName=\"ngModel\" [(ngModel)]=\"service.formData.CustomerName\">\n            <input type=\"hidden\" name=\"Latitude\" #Latitude=\"ngModel\" [(ngModel)]=\"service.formData.Latitude\">\n            <input type=\"hidden\" name=\"Longitude\" #Longitude=\"ngModel\" [(ngModel)]=\"service.formData.Longitude\">\n            <div class=\"creat-properties-form-main-section\">\n                <div class=\"kt-container kt-container--fluid\">\n                    <div class=\"create_properties-filter_form create_properties-filter_form-1\">\n                        <div class=\"form-group form-group-last\">\n                            <div class=\"alert alert-secondary\" role=\"alert\">\n                                <div class=\"alert-icon\"><i class=\"fa fa-building\"></i></div>\n                                <div class=\"new-properties-popupcreate-text\">\n                                    New Property for {{ service.formData.CustomerName }}\n                                </div>\n                            </div>\n                        </div>\n                        <div class=\"row property-applications\">\n                            <div class=\"col-md-12\">\n                                <div class=\"create_properties-filter_form\">\n    \n                                    <div class=\"form-group row creat-properties-form-group\">\n                                        <div class=\"col-lg-12\">                                        \n                                            <div class=\"form-group\">\n                                                <label for=\"\" class=\"label\">Address Street 1</label>\n                                                <input name=\"AddressStreet1\" #AddressStreet1=\"ngModel\"\n                                                    ngx-google-places-autocomplete [options]=\"options\"\n                                                    (onAddressChange)=\"handleAddressChange($event)\"\n                                                    [(ngModel)]=\"service.formData.AddressStreet1\" class=\"form-control\"\n                                                    placeholder=\"Address Street 1\" maxlength=\"128\">\n                                            </div>\n                                        </div>\n                                    </div>\n                                    <div class=\"form-group row creat-properties-form-group\">\n                                        <div class=\"col-lg-12\">\n                                            <div class=\"form-group\">\n                                                <label for=\"\" class=\"label\">Address Street 2</label>\n                                                <input name=\"AddressStreet2\" #AddressStreet2=\"ngModel\"\n                                                    [(ngModel)]=\"service.formData.AddressStreet2\" class=\"form-control\"\n                                                    placeholder=\"Address Street 2\" maxlength=\"128\">\n                                            </div>\n                                        </div>\n                                    </div>\n                                    <div class=\"form-group row creat-properties-form-group\">\n                                        <div class=\"col-lg-12\">\n                                            <div class=\"form-group\">\n                                                <label for=\"\" class=\"label\">Address Unit No</label>\n                                                <input name=\"AddressUnitNo\" #AddressUnitNo=\"ngModel\"\n                                                    [(ngModel)]=\"service.formData.AddressUnitNo\" class=\"form-control\"\n                                                    placeholder=\"Address Unit No\" maxlength=\"16\">\n                                            </div>\n                                        </div>\n                                    </div>\n                                    <div class=\"form-group row creat-properties-form-group\" style=\"display:none;\">\n                                        <!-- <div class=\"col-lg-6 padding-right-mo-10\" style=\"padding-right:0px;\">\n                                            <div class=\"form-group\">\n                                                <label for=\"\" class=\"label\">City</label>\n                                                <input name=\"AddressCity\" #AddressCity=\"ngModel\"\n                                                    [(ngModel)]=\"service.formData.AddressCity\" class=\"form-control\"\n                                                    placeholder=\"City\" maxlength=\"64\">\n                                            </div>\n                                        </div> -->\n                                         <!-- <div class=\"col-lg-6 padding-left-mo-10\" style=\"padding-left:0px;\">\n                                            <div class=\"form-group\">\n                                                <label for=\"\" class=\"label\">State</label>\n                                                <input name=\"AddressState\" #AddressState=\"ngModel\"\n                                                    [(ngModel)]=\"service.formData.AddressState\" class=\"form-control\"\n                                                    placeholder=\"State\" maxlength=\"64\">\n                                            </div>\n                                        </div>  -->\n                                    </div>\n                                    <div class=\"form-group row creat-properties-form-group\">\n                                        <div class=\"col-lg-6 padding-right-mo-10\" style=\"padding-right:0px;\">\n                                            <label for=\"\" class=\"label\">Postal Code</label>     \n                                            <div class=\"input-group\">    \n                                                                                 \n                                              <input name=\"AddressZipCode\" #AddressZipCode=\"ngModel\" min=\"5\" maxlength=\"6\"\n                                              [(ngModel)]=\"service.formData.AddressZipCode\" class=\"form-control\" placeholder=\"Postal Code\" >\n                                              <div class=\"input-group-prepend\">\n                                                <div class=\"input-group-text\">\n                                                    <a href=\"javascript:;\" *ngIf=\"service.formData.AddressZipCode.toString().length === 6\"\n                                                      >\n                                                    <i *ngIf=\"!IsPostalSearch\" class=\"la la-refresh\"></i>\n                                                    <i *ngIf=\"IsPostalSearch\" class=\"la la-spinner fa-spin\"></i>\n                                                </a></div>\n                                              </div>\n                                            </div>\n                                          </div>\n                                        <div class=\"col-lg-6 padding-left-mo-10\" style=\"padding-left:0px;\">\n                                            <div class=\"form-group\">\n                                                <label for=\"\" class=\"label\">Country</label>\n                                                <select name=\"AddressCountry\" #AddressCountry=\"ngModel\"\n                                                    [(ngModel)]=\"service.formData.AddressCountry\" class=\"form-control\">\n                                                    <option value=\"\">select</option>\n                                                    <option *ngFor=\"let x of countrylist\" value=\"{{x.CountryName}}\">\n                                                        {{x.CountryName}}\n                                                    </option>\n                                                </select>\n                                            </div>\n    \n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                    </div>\n                    <div class=\"row\">\n                        <div class=\"col-xl-12\">\n                            <button type=\"button\" (click)=\"onBack()\" class=\"btn btn-secondary\"><i class=\"fas fa-angle-double-left\"></i>Back</button>&nbsp;&nbsp;&nbsp;\n                            <button type=\"submit\" (click)=\"onSubmit()\" class=\"btn btn-brand\">\n                                Create\n                            </button>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>","import { Component, OnInit, AfterViewInit } from '@angular/core';\nimport { QuoteService } from '../../../services/quote.service';\nimport { ProductService } from '../../../services/product.service';\nimport { Router } from '@angular/router';\nimport { FileUploader } from 'ng2-file-upload';\nimport { environment } from 'src/environments/environment';\nimport { ToastrService } from 'ngx-toastr';\nimport { Quote } from '../../../services/quote.module';\nimport { InvoiceService } from '../../../services/invoice.service';\nimport { TicketService } from '../../../services/ticket.service';\nimport { UserlogService } from '../../../services/userlog.service';\nimport { AuthenticationService } from '../../../services/authentication.service';\nimport { Login } from '../../../services/login.mudule';\nimport { Property } from '../../../services/property.model';\nimport { PropertyService } from '../../../services/property.service';\nimport { MatDialogConfig, MatDialog } from '@angular/material/dialog';\nimport { QuoteCustomerPopupComponent } from '../quote-customer-popup/quote-customer-popup.component';\nimport { Customer } from '../../../services/customer.model';\nimport { QuotecustomerPropertyPopupComponent } from '../quotecustomer-property-popup/quotecustomer-property-popup.component';\nimport { Title } from '@angular/platform-browser';\n\n@Component({\n  selector: 'app-quote-details',\n  templateUrl: './quote-details.component.html',\n  styleUrls: ['./quote-details.component.css'],\n})\nexport class QuoteDetailsComponent implements OnInit, AfterViewInit {\n  localPropertyData: Property;\n  public uploader: FileUploader = new FileUploader({});\n  currentUser: Login;\n  localPrependUrl: string;\n  localQuoteData: Quote;\n  customerData: Customer;\n  customerPropertyData: Property;\n  emailIdToSendPDF: string;\n  isValidEmailIdToSendPDF: boolean = true;\n  constructor(\n    public titleService: Title,\n    public quoteService: QuoteService,\n    public productservice: ProductService,\n    public toastr: ToastrService,\n    private router: Router,\n    public invoiceService: InvoiceService,\n    public ticketService: TicketService,\n    public logService: UserlogService,\n    public loginservice: AuthenticationService,\n    public propertyService: PropertyService,\n    private dialog: MatDialog,\n  ) {\n    this.loginservice.currentUser.subscribe(x => this.currentUser = x);\n    this.localPrependUrl = environment.apiUrl;\n    this.emailIdToSendPDF = '';\n   }\n\n  ngOnInit() {\n    this.localPropertyData = new Property();\n    if (this.quoteService.QuoteData.CustomerName === 'Customer Name?' || this.quoteService.QuoteData.CustomerName === undefined) {\n      this.router.navigate(['/quotes/']);\n    }\n    this.titleService.setTitle('Quotation Details | Genic Solution');\n  }\n  ngAfterViewInit() {\n    setTimeout(() => {\n      this.emailIdToSendPDF = this.quoteService.QuoteData.CustomerEmail;\n      this.getQuoteItems();\n      this.quoteService.getQuoteAttachments(this.quoteService.QuoteData.Id);\n    }, 200);\n    setTimeout(() => {\n      this.localPropertyData = Object.assign({}, this.propertyService.formData);\n      // alert(this.quoteService.QuoteData.InvoiceNo + '-' + this.quoteService.QuoteData.Status);\n    }, 500);\n\n    this.uploader.onAfterAddingFile = (file) => { file.withCredentials = false; };\n    this.uploader.onCompleteItem = (item: any, response: any, status: any, headers: any) => {\n        // console.log('FileUpload:uploaded:', item, status, response);\n         this.toastr.info('info', 'file Add');\n\n         const des = 'An attachment has been Added to the Quotation No ' +\n         this.quoteService.QuoteData.QuoteId + ' of Customer ' + this.quoteService.QuoteData.CustomerName +\n           ' by user ' + this.currentUser.UserName;\n         const Activity = 'An attachment is added to the Quotation No : ' + this.quoteService.QuoteData.QuoteId;\n         this.logService.postUserLog(this.currentUser.Id, this.currentUser.UserName, 'Quotation',\n         this.quoteService.QuoteData.Id, 'Added', des, Activity ).subscribe();\n\n\n         this.quoteService.getQuoteAttachments(this.quoteService.QuoteData.Id);\n        };\n    this.uploader.onBeforeUploadItem = (file) =>\n      file.url = environment.apiUrl + '/api/Quotes/UploadQuoteAttachment/' + this.quoteService.QuoteData.Id;\n  }\n  getQuoteItems() {\n    this.quoteService.getQuoteItems(this.currentUser.Token, this.quoteService.QuoteData.Id).subscribe( res => {\n      if (res) { const response = res as any;\n                 if (response.Message === 'success') {\n                    this.quoteService.QuoteItemList = response.result;\n                  }\n    }}, error =>  console.log(error));\n  }\n\npopolateQuote(q: Quote) {\n  this.quoteService.QuoteData = Object.assign({}, q);\n  if (q.ModifiedUtcDate != null) {\n    this.quoteService.QuoteData.ModifiedUtcDate = new Date(q.ModifiedUtcDate);\n  }\n  this.propertyService.formData = new Property();\n  this.propertyService.getPropertyData(q.PropertyId);\n  this.router.navigate(['/quotes/quote-Edit']);\n}\nConvertQuoteToInvoice(q: Quote) {\n  this.invoiceService.postTempInvoice(this.currentUser.Token).subscribe( res => {\n    if (res) { const response = res as any;\n               if (response.Message === 'success') {\n                this.invoiceService.InvoiceData = response.result;\n                this.quoteService.QuoteData = Object.assign({}, q);\n                this.invoiceService.InvoiceData.InvoiceConvertedFrom = 'QUOTE';\n                this.invoiceService.InvoiceData.InvoiceConvertedID = q.Id;\n                this.invoiceService.InvoiceData.Status = 'Draft';\n                this.invoiceService.InvoiceData.InvoiceTitle = q.JobTitle;\n                this.invoiceService.InvoiceData.CustomerName = q.CustomerName;\n                this.invoiceService.InvoiceData.CustomerAddress = q.CustomerAddress;\n                this.invoiceService.InvoiceData.CustomerId = q.CustomerId;\n                this.invoiceService.InvoiceData.PropertyId = q.PropertyId;\n                this.invoiceService.InvoiceData.CustomerContactNo = q.CustomerContactNo;\n                this.invoiceService.InvoiceData.CustomerEmail = q.CustomerEmail;\n                this.invoiceService.InvoiceData.ClientRemark = q.ClientRemark;\n                this.invoiceService.InvoiceData.InternalNotes = q.InternalNotes;\n                this.invoiceService.InvoiceData.NetAmount = q.NetAmount;\n                this.invoiceService.InvoiceData.SubTotal = q.SubTotal;\n                this.invoiceService.InvoiceData.TaxAmount = q.TaxAmount;\n                this.invoiceService.InvoiceData.TaxId = q.TaxId;\n                this.invoiceService.InvoiceData.TaxRate = q.TaxRate;\n                this.invoiceService.InvoiceData.DiscountType = q.DiscountType;\n                this.invoiceService.InvoiceData.DiscountTextValue = q.DiscountAmount;\n                this.invoiceService.InvoiceData.DiscountAmount = q.DiscountAmount;\n                this.invoiceService.InvoiceData.ReqDepositeAmount = q.ReqDepositeAmount;\n                this.invoiceService.InvoiceData.ReqDepositeTextValue = q.ReqDepositeTextValue;\n                this.invoiceService.InvoiceData.ReqDepositeType = q.ReqDepositeType;\n                this.invoiceService.InvoiceData.QuoteId = q.QuoteId;\n                // setTimeout(() => {\n                this.invoiceService.posQuoteItemToInvoiceItem(this.quoteService.QuoteData.Id, this.invoiceService.InvoiceData.Id);\n              // }, 200);\n                this.router.navigate(['/invoices/invoice-from-quote']);\n                }\n  }}, error =>  console.log(error));\n}\nConvertQuoteToTicket(q: Quote) {\n  this.ticketService.formData.QuoteId = q.Id;\n  localStorage.setItem(\"QuoteId\",this.ticketService.formData.QuoteId);\n  this.router.navigate(['/tickets/ticket-create-from-quote']);\n}\nConvertToPDFQuote(i: Quote) {\n  if (confirm('Are you sure want to download Quotation?')) {\n\n    const des = 'An download requrest sent by : ' + this.currentUser.UserName + ' of Quotation No : '\n    + i.QuoteId + ' for Customer : '\n     + i.CustomerName + ' Quotation title \" ' +\n     i.JobTitle + ' Amount of $ ' + i.NetAmount + '0.00 on dated : ' + new Date();\n    const Activity2 = 'PDF download request is received against Quotation No : ' + this.quoteService.QuoteData.QuoteId;\n    this.logService.postUserLog(this.currentUser.Id, this.currentUser.UserName, 'Quotation',\n    this.quoteService.QuoteData.Id, 'download', des, Activity2 ).subscribe();\n    this.toastr.success('success', 'Quotation copy is send to your registered email');\n  }\n}\n\ncopyQuotation(q: Quote) {\n  this.OpenAddCustomerToQuoteDialog(q);\n}\nOpenAddCustomerToQuoteDialog(q: Quote) {\n  const dialogConfig = new MatDialogConfig();\n  dialogConfig.autoFocus = true;\n  dialogConfig.width = '50%';\n  dialogConfig.data = {};\n  this.dialog.open(QuoteCustomerPopupComponent, dialogConfig).afterClosed().subscribe(res => {\n    if (res !== '') {\n      this.customerData = new Customer();\n      this.customerData = res.x;\n      this.localQuoteData = new Quote();\n\n      this.OpenAddCustomerPropertyQuoteDialog(q);\n      this.quoteService.getCustomerProperty(res.x.Id);\n      this.quoteService.QuoteData.CustomerId = res.x.Id;    \n      setTimeout(() => {\n        this.invoiceService.refrestArrayofKeyslist(res.x.Id);\n      }, 200);\n    }\n  });\n}\nOpenAddCustomerPropertyQuoteDialog(q: Quote) {\n  const dialogConfig = new MatDialogConfig();\n  dialogConfig.autoFocus = true;\n  dialogConfig.width = '50%';\n  dialogConfig.data = {};\n  this.dialog.open(QuotecustomerPropertyPopupComponent, dialogConfig).afterClosed().subscribe(res => {\n  this.quoteService.setDetaultQuoteData();\n  this.quoteService.QuoteData.CustomerId = this.customerData.Id;\n  this.quoteService.QuoteData.CompanyName = this.customerData.CompanyName; \n  if( this.invoiceService.ArrayofKeys.length > 0){\n    this.quoteService.QuoteData.CustomerEmail = this.invoiceService.ArrayofKeys.filter(d=> d.IsDefault === true && d.Type === 'Email')[0].Value;\n  this.quoteService.QuoteData.CustomerContactNo = this.invoiceService.ArrayofKeys.filter(d=> d.IsDefault === true && d.Type === 'Phone')[0].Value;\n}\n  this.quoteService.QuoteData.CustomerAddress = this.quoteService.PropertyList[0].AddressStreet1 + ' ' + this.quoteService.PropertyList[0].AddressStreet2 + ' ' + this.quoteService.PropertyList[0].AddressUnitNo + ' ' + this.quoteService.PropertyList[0].AddressCountry + ' ' + this.quoteService.PropertyList[0].AddressZipCode;\n  this.quoteService.postTempQuote(this.currentUser.Token).subscribe( resq => {\n    if (res) { const response = resq as any;\n               if (response.Message === 'success') {\n                this.quoteService.QuoteData = response.result as Quote;\n                }\n               if (response.Message === 'failure') {\n                }\n    }}, error =>  console.log(error));\n  if (res !== '') {\n        this.customerPropertyData = new Property();\n        this.customerPropertyData = res.x;\n\n        this.localQuoteData.CompanyName = this.customerData.CompanyName;\n        this.localQuoteData.CustomerName = this.customerPropertyData.CustomerName;\n        this.localQuoteData.CustomerId = this.customerPropertyData.CustomerId;\n        this.localQuoteData.PropertyId = this.customerPropertyData.Id;\n        this.localQuoteData.CustomerEmail = this.quoteService.QuoteData.CustomerEmail;\n        this.localQuoteData.CustomerAddress = this.customerPropertyData.AddressStreet1 + ' ' + this.customerPropertyData.AddressStreet2 + ' ' + this.customerPropertyData.AddressUnitNo + ' ' + this.customerPropertyData.AddressCountry + ' ' + this.customerPropertyData.AddressZipCode;\n        this.propertyService.formData = res.x;\n       \n        setTimeout(() => {\n          this.quoteService.copyQuotation(this.quoteService.QuoteData.Id, q.Id)\n          this.quoteService.QuoteData.CompanyName = this.localQuoteData.CompanyName;\n          this.quoteService.QuoteData.CustomerName = this.localQuoteData.CustomerName;\n          this.quoteService.QuoteData.CustomerId = this.localQuoteData.CustomerId;\n          this.quoteService.QuoteData.PropertyId = this.localQuoteData.PropertyId;\n          this.quoteService.QuoteData.CustomerAddress = this.localQuoteData.CustomerAddress;\n          this.quoteService.QuoteData.CustomerEmail = this.localQuoteData.CustomerEmail;\n          this.quoteService.QuoteData.JobTitle =q.JobTitle;\n          this.quoteService.QuoteData.InternalNotes =q.InternalNotes;\n          this.quoteService.QuoteData.ClientRemark =q.ClientRemark;\n          this.quoteService.QuoteData.SubTotal =Number(q.SubTotal);\n          this.quoteService.QuoteData.DiscountType =q.DiscountType;\n          this.quoteService.QuoteData.DiscountTextValue = Number(q.DiscountTextValue);\n          this.quoteService.QuoteData.DiscountAmount =Number(q.DiscountAmount);\n          this.quoteService.QuoteData.TaxId =q.TaxId;\n          this.quoteService.QuoteData.TaxRate =Number(q.TaxRate);\n          this.quoteService.QuoteData.TaxAmount =Number(q.TaxAmount);\n          this.quoteService.QuoteData.NetAmount =(Number(q.SubTotal) + Number(q.TaxAmount) - Number(q.DiscountAmount));\n          this.quoteService.QuoteData.InternalNotes =q.InternalNotes;\n          this.quoteService.QuoteData.ClientViewQty =q.ClientViewQty;\n          this.quoteService.QuoteData.ClientViewUnitCost =q.ClientViewUnitCost;\n          this.quoteService.QuoteData.ClientViewLineItemTotal =q.ClientViewLineItemTotal;\n          this.quoteService.QuoteData.ClientViewTotal =q.ClientViewTotal;\n          this.quoteService.QuoteData.LinkToJob =q.LinkToJob;\n          this.quoteService.QuoteData.LinkToInvoice =q.LinkToInvoice;\n          this.quoteService.QuoteData.Rating =q.Rating;\n          this.quoteService.QuoteData.CCName =q.CCName;\n          this.quoteService.QuoteData.CCContact =q.CCContact;\n          this.quoteService.QuoteData.DID =q.DID;\n          this.quoteService.QuoteData.FAX =q.FAX;\n          this.quoteService.QuoteData.QuoteTermsAndCondition =q.QuoteTermsAndCondition;\n          this.quoteService.QuoteData.SalesRepresentative =q.SalesRepresentative;\n          this.quoteService.QuoteData.PreparedBy =q.PreparedBy;\n          this.quoteService.QuoteData.Attention =q.Attention;\n\n          this.router.navigate(['/quotes/quote-Add']);\n        }, 1000);\n    }\n  });\n}\n\ndownloadQuote(quoteId: string) {\n  this.quoteService.downoadQuotationPDF(quoteId, this.currentUser.Token).subscribe( res => {\n    if (res) { const response = res as any;\n               if (response.Message === 'success') {\n                this.toastr.success('success', response.MessageDescription);\n                const a = $(\"<a>\")\n                  .attr(\"href\", response.Path)\n                  .attr(\"target\", \"_blank\")\n                  .attr(\"download\", this.quoteService.QuoteData.QuoteId + '.pdf')\n                  .appendTo(\"body\");\n                a[0].click();\n                a.remove();\n               }\n               if (response.Message === 'failure') {\n              this.toastr.warning('warning', response.MessageDescription);\n              }\n    }}, error =>  console.log(error));\n}\n\nSendQuoteByMail(i: Quote) {\n  let emailText = this.emailIdToSendPDF;\n  if (emailText === '') {\n    this.isValidEmailIdToSendPDF = false;\n    alert('Email can not be emplty.');\n    return false;\n  } else {\n    let element: HTMLElement = document.getElementById('btnCLoseremail') as HTMLElement;\n    element.click();\n    this.isValidEmailIdToSendPDF=true;\n    this.quoteService.sendForClientSign(this.quoteService.QuoteData.Id, emailText)\n    .subscribe( res => {\n      if (res) {\n        this.toastr.success('success', 'Quotation link is send to client email for signature');\n        const des = 'A Quotation send for signature , Quitation Id is  : '\n      + i.QuoteId + ' for Customer : '\n       + i.CustomerName + ' Quotation title \" ' +\n       i.JobTitle + ' Amount of $ ' + i.NetAmount + '0.00 on dated : ' + new Date();\n      const Activity3 = 'An email request received against Quotation No : ' + this.quoteService.QuoteData.QuoteId +\n      ' on mail id : ' + this.quoteService.QuoteData.CustomerEmail;\n      this.logService.postUserLog(this.currentUser.Id, this.currentUser.UserName, 'Quotation',\n      this.quoteService.QuoteData.Id, 'Email', des, Activity3 ).subscribe();\n      }\n    }, error =>  console.log(error));\n  }  \n}\n\n\n}\n","<style>\n  .myshap {\n    width: 100%;\n  }\n\n  .job-for-tab-content .kt-portlet.kt-portlet--height-fluid.kt-widget19 {\n    border: 1px solid #eaeaea;\n    padding: 14px 9px 0 10px !important;\n  }\n\n  .dropdown-menu.show {\n    transform: translate3d(-61px, 38px, 0px) !important;\n  }\n\n  .dropdown-menu.show li {\n    border-bottom: 1px solid gainsboro;\n  }\n\n  .dropdown-menu.show li:last-child {\n    border-bottom: none;\n  }\n\n  .dropdown-menu.show li a {\n    padding: 6 0 6px 42px;\n  }\n\n  .dropdown-menu li:hover {\n    background-color: #ff8533 !important;\n  }\n\n  .dropdown-menu li a:hover {\n    color: #fff !important;\n  }\n</style>\n<div class=\"kt-subheader kt-grid__item\" id=\"kt_subheader\">\n  <div class=\"kt-container kt-container--fluid breadcud-kt-container \">\n    <div class=\"kt-subheader__main\">\n      <h3 class=\"kt-subheader__title\">\n        <a href=\"javascript:;\" routerLink=\"/dashboard\">\n          Dashboard\n        </a>\n      </h3>\n      <span class=\"kt-subheader__separator kt-hidden\"></span>\n      <div class=\"kt-subheader__breadcrumbs\">\n        <i class=\"fa fa-angle-double-right\" aria-hidden=\"true\"></i>\n        <span class=\"kt-subheader__breadcrumbs-separator\"></span>\n        <a href=\"javascript:;\" routerLink=\"/quotes\" class=\"kt-subheader__breadcrumbs-link\"> Quotation's </a>\n      </div>\n      <span class=\"kt-subheader__separator kt-hidden\"></span>\n      <div class=\"kt-subheader__breadcrumbs\">\n        <i class=\"fa fa-angle-double-right\" aria-hidden=\"true\"></i>\n        <span class=\"kt-subheader__breadcrumbs-separator\"></span>\n        Quotation Details\n      </div>\n    </div>\n\n  </div>\n</div>\n<div class=\"new-request-main-section jobs-for-client-section\">\n  <div class=\"kt-container kt-container--fluid\">\n    <div class=\"new-requst-filter_form\">\n      <div class=\"\">\n        <div class=\"col-md-12 section-client-requst-form\">\n          <div class=\"\">\n            <div class=\"kt-section kt-customer-list-view-section uppercase\">\n              <span class=\"flaticon-list pending-view-page-list\"></span>\n              <span *ngIf=\"quoteService.QuoteData.Status === 1\" class=\"view-pending\">Draft</span>\n              <span *ngIf=\"quoteService.QuoteData.Status === 2\" class=\"view-pending\">Pending</span>\n              <span *ngIf=\"quoteService.QuoteData.Status === 3\" class=\"view-pending\">Approved</span>\n              <span *ngIf=\"quoteService.QuoteData.Status === 4\" class=\"view-pending\">Accepted</span>\n              <span *ngIf=\"quoteService.QuoteData.Status === 5\" class=\"view-pending\">Rejected</span>\n              <span *ngIf=\"quoteService.QuoteData.Status === 6\" class=\"view-pending\">Cancelled</span>\n            </div>\n          </div>\n          <div class=\"quote-view-top\">\n            <div class=\"row\">\n              <div class=\"col-md-7\">\n                <div class=\"quote-1-top\">\n                  <h2>{{quoteService.QuoteData.CompanyName}} ({{quoteService.QuoteData.CustomerName}})</h2>\n                  <div class=\"table-quote\">\n                    <table class=\"table\">\n                      <tbody>\n                        <tr>\n                          <td><strong>Subject:</strong></td>\n                          <td><p><span>{{quoteService.QuoteData.JobTitle}}</span></p></td>\n                        </tr>\n                        <tr>\n                          <td><strong>Billing Address:</strong></td>\n                          <td>\n                            <span class=\"kt-widget4__sub\">\n                              <a href=\"https://maps.google.com/?q={{quoteService.QuoteData.CustomerAddress}}\"\n                              target=\"_blank\">\n                              <em *ngFor=\"let subCategory of quoteService.QuoteData.CustomerAddress?.split(',')\">\n                              {{ subCategory }} <br>\n                              </em>  </a>\n                            </span>\n                          </td>\n                        </tr>\n                        <tr>\n                          <td><strong>Name: </strong></td>\n                          <td><span>{{quoteService.QuoteData.CustomerName}}</span></td>\n                        </tr>\n                        <tr>\n                          <td><strong>Email: </strong></td>\n                          <td><span>{{quoteService.QuoteData.CustomerEmail}}</span></td>\n                        </tr>\n                        <tr>\n                          <td><strong>Contact: </strong></td>\n                          <td><span> {{quoteService.QuoteData.CustomerContactNo}}</span></td>\n                        </tr>\n                        <tr>\n                          <td><strong>Attention: </strong></td>\n                          <td><span> {{quoteService.QuoteData.Attention}}</span></td>\n                        </tr>\n                      </tbody>\n                    </table>\n                  </div>\n                </div>\n              </div>\n              <div class=\"col-md-5\">\n                <div class=\"quote-right-view text-right\">\n                  <h2>Quote Details</h2>\n                  <div class=\"table-right-quote text-right\">\n                    <table class=\"table\">\n                      <tbody>\n                        <tr>\n                          <td></td>\n                          <td>\n                            <a class=\"btn btn-primary\"\n                              style=\"margin-right: 3px;color: white;padding: 6px 10px 7px 10px;cursor: pointer;\"\n                              onclick=\"window.history.back()\"> Back </a>\n                            <div class=\"btn-group btn-group-sm\">\n                              <a href=\"javascript:void(0);\" style=\"line-height: 19px;\"\n                                class=\"btn btn-primary dropdown-toggle\" data-toggle=\"dropdown\">More Action's <span\n                                  class=\"caret\"></span></a>\n                              <ul class=\"dropdown-menu\" style=\"text-align: center;\">\n                                <li *ngIf=\"quoteService.QuoteData.Status===1\"><a *ngIf=\"currentUser.Permissions.QuoteEdit\" (click)=\"popolateQuote(quoteService.QuoteData)\" href=\"javascript:void(0);\">Edit Quotation</a></li>\n                                <li *ngIf=\"quoteService.QuoteData.TicketNo === null  && quoteService.QuoteData.Status==4\">\n                                  <a (click)=\"ConvertQuoteToTicket(quoteService.QuoteData)\" *ngIf=\"currentUser.Permissions.TicketCreate\" href=\"javascript:void(0);\">Convert to {{this.currentUser.Ticket}}</a>\n                                </li>\n                                <li *ngIf=\"quoteService.QuoteData.Status===3 || quoteService.QuoteData.Status===4\"><a (click)=\"downloadQuote(quoteService.QuoteData.Id)\" #pdfDownlad href=\"javascript:void(0);\">Download PDF</a></li>\n                                <li *ngIf=\"quoteService.QuoteData.Status==3\"><a data-toggle=\"modal\" data-target=\"#emailConfirmPopup\" href=\"javascript:void(0);\">Send for Client Signature</a></li>\n                                <li *ngIf=\"currentUser.Permissions.QuoteCreate\"><a (click)=\"copyQuotation(quoteService.QuoteData)\" href=\"javascript:void(0);\">Copy Quotation</a></li>\n                              </ul>\n                            </div>\n                          </td>\n                        </tr>\n                        <tr>\n                          <td><strong>Quote Number:</strong></td>\n                          <td>\n                            <p> {{quoteService.QuoteData.QuoteId}}</p>\n                          </td>\n                        </tr>\n                        <tr>\n                          <td><strong>Date:</strong></td>\n                          <td>\n                            <p> {{quoteService.QuoteData.CreatedUtcDate | date}}</p>\n                          </td>\n                        </tr>\n                        <tr *ngIf=\"quoteService.QuoteData.TicketNo!\">\n                          <td><strong>{{this.currentUser.Ticket}} Number:</strong></td>\n                          <td>\n                            <p> {{quoteService.QuoteData.TicketNo}}</p>\n                          </td>\n                        </tr>\n                      </tbody>\n                    </table>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div class=\"col-md-12 new-request-service-details-form\">\n          <div class=\"row\">\n            <div class=\"col-md-12 job-for-tab-content\">\n              <div class=\"kt-portlet kt-portlet--height-fluid kt-widget19\">\n                <div class=\"row--\">\n                  <div class=\"kt-portlet__body\" style=\"padding:0px !important;\">\n                    <div class=\"col-md-12-- kt-portlet-body-1\" style=\"width:100%\">\n                      <div class=\"tab-content\">\n                        <div class=\"tab-pane active\" id=\"kt_widget11_tab1_content\">\n                          <div class=\"kt-widget11\">\n                            <div id=\"kt_repeater_1\">\n                              <div id=\"kt_repeater_1\">\n                                <div class=\"row quote-row\" style=\"height: 50px;\">\n                                  <div class=\"col-md-6\">\n                                    <div class=\"product-service-colun-name\">\n                                      SERVICES\n                                    </div>\n                                  </div>\n                                  <div class=\"col-md-2\">\n                                    <div class=\"product-service-colun-name kt-align-right\">\n                                      QTY.\n                                    </div>\n                                  </div>\n                                  <div class=\"col-md-2\">\n                                    <div class=\"product-service-colun-name kt-align-right\">\n                                      UNIT COST\n                                    </div>\n                                  </div>\n                                  <div class=\"col-md-2\">\n                                    <div class=\"product-service-colun-name kt-align-right\">\n                                      TOTAL\n                                    </div>\n                                  </div>\n                                </div>\n                                <div class=\"add-data-ticket-list-view\"></div>\n                                <div class=\"row col-md-12\" *ngFor=\"let p of quoteService.QuoteItemList\">\n                                  <div class=\"col-md-6\">\n                                    <div class=\"product-service-colun-name invoice-list-view-product-service\">\n                                      <span>{{p.ItemName}}</span>\n                                      <p>{{p.ItemDescription}}</p>\n                                      <div *ngIf=\"p.InWarranty\">\n                                        <small>{{p.WarrantyDays}} Days warranty</small>\n                                        <small *ngIf=\"p.UniqId.length > 0\">({{p.UniqId}})</small>\n                                      </div>\n                                    </div>\n                                  </div>\n                                  <div class=\"col-md-2\">\n                                    <div class=\"product-service-colun-name kt-align-right\" *ngIf=\"p.Type === 'Product'\">\n                                      {{p.Qty}}\n                                    </div>\n                                  </div>\n                                  <div class=\"col-md-2\">\n                                    <div class=\"product-service-colun-name kt-align-right\">\n                                      $ {{p.UnitCost.toFixed(2)}}\n                                    </div>\n                                  </div>\n                                  <div class=\"col-md-2\">\n                                    <div class=\"product-service-colun-name kt-align-right\">\n                                      $ {{p.Total.toFixed(2)}}\n                                    </div>\n                                  </div>\n                                  <hr class=\"myshap\" />\n                                </div>\n                                <div data-repeater-list=\"\" class=\"col-lg-12\">\n                                  <div class=\"add-invoicing-view-list-border\"></div>\n                                  <div class=\"kt-widget4\">\n                                    <div class=\"kt-widget4__item\">\n                                      <div class=\"col-md-5 no-spacing\">\n                                        <p>{{quoteService.QuoteData.ClientRemark}}</p>\n                                      </div>\n                                      <div class=\"col-md-7 invoicing-list-view-border-left\">\n                                        <div class=\"kt-widget1\">\n                                          <div class=\"kt-widget1__item\">\n                                            <div class=\"kt-widget1__info\">\n                                              <h3 class=\"kt-widget1__title\">Subtotal</h3>\n\n                                            </div>\n                                            <span\n                                              class=\"kt-widget1__number kt-font-success\">${{quoteService.QuoteData.SubTotal.toFixed(2)}}</span>\n                                          </div>\n                                          <div class=\"kt-widget1__item\">\n                                            <div class=\"kt-widget1__info\">\n                                              <h3 class=\"kt-widget1__title\">Discount</h3>\n                                            </div>\n                                            <div class=\"discountSection\">\n                                              <div class=\"discountShow\">\n                                                <span\n                                                  class=\"kt-widget1__number kt-font-success\">${{quoteService.QuoteData.DiscountAmount.toFixed(2)}}</span>\n                                              </div>\n                                            </div>\n                                          </div>\n                                          <div class=\"kt-widget1__item\">\n                                            <div class=\"kt-widget1__info\">\n                                              <h3 class=\"kt-widget1__title\">Tax</h3>\n                                            </div>\n                                            <div class=\"tax-block\">\n                                              <div class=\"TaxToHide\">\n                                                <span\n                                                  class=\"kt-widget1__number kt-font-success\">${{quoteService.QuoteData.TaxAmount.toFixed(2)}}</span>\n                                              </div>\n                                            </div>\n                                          </div>\n                                          <div class=\"kt-widget1__item quotes-list-view-total-info\">\n                                            <div class=\"kt-widget1__info\">\n                                              <h3 class=\"kt-widget1__title\"><b>Total</b></h3>\n                                            </div>\n                                            <span\n                                              class=\"kt-widget1__number kt-font-primary\"><b>${{quoteService.QuoteData.NetAmount.toFixed(2)}}</b></span>\n                                          </div>\n\n                                        </div>\n                                      </div>\n                                    </div>\n                                  </div>\n                                </div>\n                                <div class=\"row--\" style=\"display: none;\">\n                                  <div class=\"clientViewSection\">\n                                    <div class=\"form-group\">\n                                      <span class=\"clView\">\n                                        <i class=\"fa fa-eye\" aria-hidden=\"true\"></i>\n                                        <label>Client View</label>\n                                      </span><br>\n                                      <label>\n                                        Adjust what your client will see on this quote. To change the default for ​all\n                                        future quotes, visit the\n                                        PDF Configuration.\n                                      </label>\n                                      <div class=\"kt-checkbox-inline\">\n                                        <label class=\"kt-checkbox\">\n                                          <i *ngIf=\"quoteService.QuoteData.ClientViewQty===true\" class=\"fa fa-check\"\n                                            aria-hidden=\"true\"></i>\n                                          <i *ngIf=\"quoteService.QuoteData.ClientViewQty===false\" class=\"fa fa-times\"\n                                            aria-hidden=\"true\"></i>\n                                          Quantities\n                                        </label>\n                                        <label class=\"kt-checkbox\">\n                                          <i *ngIf=\"quoteService.QuoteData.ClientViewUnitCost===true\"\n                                            class=\"fa fa-check\" aria-hidden=\"true\"></i>\n                                          <i *ngIf=\"quoteService.QuoteData.ClientViewUnitCost===false\"\n                                            class=\"fa fa-times\" aria-hidden=\"true\"></i>\n                                          Unit Cost\n                                        </label>\n                                        <label class=\"kt-checkbox\">\n                                          <i *ngIf=\"quoteService.QuoteData.ClientViewLineItemTotal===true\"\n                                            class=\"fa fa-check\" aria-hidden=\"true\"></i>\n                                          <i *ngIf=\"quoteService.QuoteData.ClientViewLineItemTotal===false\"\n                                            class=\"fa fa-times\" aria-hidden=\"true\"></i>\n                                          Line item totals\n                                        </label>\n                                        <label class=\"kt-checkbox\">\n                                          <i *ngIf=\"quoteService.QuoteData.ClientViewTotal===true\" class=\"fa fa-check\"\n                                            aria-hidden=\"true\"></i>\n                                          <i *ngIf=\"quoteService.QuoteData.ClientViewTotal===false\" class=\"fa fa-times\"\n                                            aria-hidden=\"true\"></i>\n                                          Total\n                                        </label>\n                                      </div>\n                                    </div>\n                                  </div>\n                                </div>\n                              </div>\n                            </div>\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n          <div class=\"on-site-client-required\">\n            <div class=\"kt-portlet kt-portlet--height-fluid kt-widget19 internal-notes-attachment\">\n              <div class=\"kt-portlet__head\">\n                <div class=\"kt-portlet__head-label\">\n                  <h3 class=\"kt-portlet__head-title\">\n\n                    <strong>\n                      &nbsp;&nbsp;&nbsp; TERMS & CONDITIONS\n                    </strong>\n                  </h3>\n                </div>\n              </div>\n              <div class=\"kt-portlet__body\">\n                <div class=\"kt-widget19__wrapper\">\n                  <textarea name=\"QuoteTermsAndCondition\" readonly\n                    [(ngModel)]=\"quoteService.QuoteData.QuoteTermsAndCondition\" class=\"form-control\"\n                    id=\"QuoteTermsAndCondition\" rows=\"3\" maxlength=\"1024\" placeholder=\"QuoteTerms And Condition\">\n                    </textarea>\n                </div>\n              </div>\n            </div>\n          </div>\n          <div class=\"on-site-client-required\">\n            <div class=\"kt-portlet kt-portlet--height-fluid kt-widget19 internal-notes-attachment\">\n              <div class=\"kt-portlet__head\">\n                <div class=\"kt-portlet__head-label\">\n                  <h3 class=\"kt-portlet__head-title\">\n\n                    <strong>&nbsp;&nbsp;&nbsp;ADDITIONAL REMARKS <span class=\"tooltip-questionMark\" data-container=\"body\"\n                        data-toggle=\"kt-popover\" data-placement=\"top\"\n                        data-content=\"Vivamus sagittis lacus vel augue laoreet rutrum faucibus.\" data-original-title=\"\"\n                        title=\"\">?</span></strong>\n                  </h3>\n                </div>\n\n              </div>\n              <div class=\"kt-portlet__body\">\n                <div class=\"kt-widget19__wrapper\">\n                  <textarea readonly class=\"form-control\" id=\"exampleTextarea\" rows=\"3\" placeholder=\"Note details\"\n                    name=\"InternalNotes\" [(ngModel)]=\"quoteService.QuoteData.InternalNotes\"></textarea>\n\n                  <div class=\"row\">\n                    <div class=\"col-md-1\" *ngFor=\"let x of quoteService.QuoteAttachmentList\">\n                      <div class=\"row\">\n                        <generic-ticket-icon-attachment [(Name)]=\"x.AttachmentExtension\" [(Path)]=\"x.Attachment\"\n                          [Status]=\"1\"></generic-ticket-icon-attachment>\n                      </div>\n                      <div class=\"row\">\n                        <div class=\"col-md-4\"></div>\n                        <div class=\"col-md-4\">\n                          <a href=\"{{x.Attachment}}\" target=\"_blank\"><i class=\"fa fa-download text-success\"></i></a>\n                        </div>\n                        <div class=\"col-md-4\"></div>\n                      </div>\n                    </div>\n                  </div>\n                  <div class=\"row\">\n                    <div class=\"linkNote\">\n                     &nbsp;&nbsp; <label>Link note to related</label>\n                      <div class=\"row\">\n                        <label class=\"kt-checkbox\">\n                          <i *ngIf=\"quoteService.QuoteData.LinkToJob===true\" class=\"fa fa-check\" aria-hidden=\"true\"></i>\n                          <i *ngIf=\"quoteService.QuoteData.LinkToJob===false\" class=\"fa fa-times\"\n                            aria-hidden=\"true\"></i>\n                            {{this.currentUser.Ticket}}\n                        </label>\n                        <label class=\"kt-checkbox\" *ngIf=\"currentUser.Permissions.InvoiceView\">\n                          <i *ngIf=\"quoteService.QuoteData.LinkToInvoice===true\" class=\"fa fa-check\"\n                            aria-hidden=\"true\"></i>\n                          <i *ngIf=\"quoteService.QuoteData.LinkToInvoice===false\" class=\"fa fa-times\"\n                            aria-hidden=\"true\"></i>\n                          Invoice\n                        </label>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n          <div class=\"on-site-client-required\" *ngIf=\"quoteService.QuoteData.SalesPersonSignature?.length > 0 || quoteService.QuoteData.CustomerSignature?.length > 0\">\n            <div class=\"kt-portlet kt-portlet--height-fluid kt-widget19 internal-notes-attachment\">\n              <div class=\"kt-portlet__head\">\n                <div class=\"kt-portlet__head-label\">\n                  <h3 class=\"kt-portlet__head-title\">\n                    <strong>\n                     &nbsp;&nbsp;&nbsp; Signature\n                    </strong>\n                  </h3>\n                </div>\n              </div>\n              <div class=\"kt-portlet__body\">\n                <div class=\"kt-widget19__wrapper\">\n                  <div class=\"row\">\n                    <div class=\"col-lg-6\" *ngIf=\"quoteService.QuoteData.SalesPersonSignature?.length > 0\">\n                      <h6>Sale Person Signature</h6>\n                      <img src=\"{{ quoteService.QuoteData.SalesPersonSignature }}\" />\n                    </div>\n                    <div class=\"col-lg-6\" *ngIf=\"quoteService.QuoteData.CustomerSignature?.length > 0\">\n                      <h6>Customer Signature</h6>\n                      <img src=\"{{ quoteService.QuoteData.CustomerSignature }}\" />\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n\n<div class=\"modal fade\" id=\"emailConfirmPopup\">\n  <div class=\"modal-dialog modal-dialog-centered\">\n    <div class=\"modal-content myManFaContent\">\n      <div class=\"modal-header\" style=\"background-color: aqua;\">\n        <p class=\"modal-title\">EMAIL QUOTATION PDF!</p>\n        <button type=\"button\" id=\"btnCLoseremail\" class=\"close\" data-dismiss=\"modal\"></button>\n      </div>\n      <div class=\"modal-body my-Model-body\">\n        <div class=\"row\">\n          <div class=\"col-md-12\">\n            <p>Change mail here to send quotation pdf!</p>\n            <div class=\"editableEmailSection\">\n              <input type=\"text\" class=\"form-control\" required placeholder=\"Email..\" name=\"Email\"\n                [(ngModel)]=\"emailIdToSendPDF\" />\n            </div>\n            <div class=\"submitSEction\">\n              <a href=\"javascript:void(0)\" class=\"btn btn-success\"\n                (click)=\"SendQuoteByMail(quoteService.QuoteData)\">Send</a>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>","export class ReminderBase {\r\n    Subject: string;\r\n    Body: string;\r\n    MailTo: string;\r\n    RecurringStartDate?: string;\r\n    RecurringEndDate?: string;\r\n    Duration: number;\r\n    VisitFrequency: number;\r\n    ReminderDate: string;\r\n    IsActive: boolean;\r\n}\r\n","import { Component, OnInit } from '@angular/core';\nimport { MatDialogRef } from '@angular/material/dialog';\nimport { CustomerService } from '../../../services/customer.service';\nimport { Customer } from '../../../services/customer.model';\nimport { QuoteService } from '../../../services/quote.service';\nimport { environment } from 'src/environments/environment';\nimport { ToastrService } from 'ngx-toastr';\nimport { Login } from '../../../services/login.mudule';\nimport { AuthenticationService } from '../../../services';\n\n@Component({\n  selector: 'app-quote-customer-popup',\n  templateUrl: './quote-customer-popup.component.html',\n  styleUrls: ['./quote-customer-popup.component.css']\n})\nexport class QuoteCustomerPopupComponent implements OnInit {\n  LocalList: Customer[];\n  localPrependUrl: string;\n  IsCustomerCreate = true;\n  isValidTitle = true;\n  isValidFirstname = true;\n  isValidLastname = true;\n  isValidCompanyname = true;\n  isValidEmailAddress = true;\n  isValidPhoneNumber = true;\n  currentUser: Login;\n  isDone: boolean;\n  constructor(\n    public dialogRef: MatDialogRef<QuoteCustomerPopupComponent>,\n    public loginservice: AuthenticationService,\n    public customerservice: CustomerService,\n    public quoteService: QuoteService,\n    private toastr: ToastrService\n  ) {\n    this.loginservice.currentUser.subscribe(x => this.currentUser = x);\n    this.localPrependUrl = environment.apiUrl; this.isDone = false; }\n\n  ngOnInit() {\n    this.LocalList = [];\n    this.refreshcustomerlist();\n  }\n  refreshcustomerlist() {\n    this.customerservice.getCustomerListSync(this.currentUser.Token).subscribe( res => {\n      if (res) { const response = res as any;\n                 if (response.Message === 'success') {\n                  this.customerservice.CustomerList = response.result as Customer[];\n                  setTimeout(() => {\n                    this.customerservice.CustomerLocalList = [];\n                    this.customerservice.CustomerLocalList = this.customerservice.CustomerList.filter(x => x.Status === true);\n                    this.LocalList = this.customerservice.CustomerLocalList;\n                  }, 200);\n                  }\n      }}, error =>  console.log(error));\n  }\n  onClick(x: Customer) {\n    if (x === undefined) {\n      this.dialogRef.close();\n    } else {\n      this.dialogRef.close({x});\n      this.customerservice.formData = Object.assign({}, x);\n    }\n  }\n\n  redirect() {\n    this.customerservice.formData.NameTitle = '';\n    this.customerservice.formData.FirstName = '';\n    this.customerservice.formData.LastName = '';\n    this.customerservice.formData.CompanyName = '';\n    this.customerservice.formData.UseCompanyNameAsPrimaryName = true;\n    this.customerservice.formData.AddressStreet1 = '';\n    this.customerservice.formData.AddressStreet2 = '';\n    this.IsCustomerCreate = false;\n  }\n  onBack() {\n    this.IsCustomerCreate = true;\n  }\n  onSubmit() {\n    this.isValidTitle = true;\n    this.isValidFirstname = true;\n    this.isValidLastname = true;\n    this.isValidCompanyname = true;\n    this.isValidEmailAddress = true;\n    this.isValidPhoneNumber = true;\n    if (this.customerservice.formData.NameTitle === '' || this.customerservice.formData.NameTitle === undefined) {\n      this.isValidTitle = false;\n      this.toastr.warning('', 'Title is required!');\n      return false;\n    }\n    if (this.customerservice.formData.FirstName === '' || this.customerservice.formData.FirstName === undefined) {\n      this.isValidFirstname = false;\n      this.toastr.warning('', 'First Name is required!');\n      return false;\n    }\n    if (this.customerservice.formData.LastName === '' || this.customerservice.formData.LastName === undefined) {\n      this.isValidLastname = false;\n      this.toastr.warning('', 'Last Name is required!');\n      return false;\n    }\n    if (this.customerservice.formData.CompanyName === '' || this.customerservice.formData.CompanyName === undefined) {\n      this.isValidCompanyname = false;\n      this.toastr.warning('', 'Company Name is required!');\n      return false;\n    }\n    if (this.customerservice.formData.AddressStreet1 === '' || this.customerservice.formData.AddressStreet1 === undefined) {\n      this.isValidEmailAddress = false;\n      this.toastr.warning('', 'Email Address is required!');\n      return false;\n    }\n    if (this.customerservice.formData.AddressStreet2 === '' || this.customerservice.formData.AddressStreet2 === undefined) {\n      this.isValidPhoneNumber = false;\n      this.toastr.warning('', 'Phone Number is required!');\n      return false;\n    }\n    this.isDone = true;\n    this.customerservice.AddNewCustomer(this.currentUser.Token)\n    .subscribe( res => { const response = res as any;\n                         if (response.Message === 'success') {\n                            this.toastr.success('success',\n                                'User ' +\n                                this.customerservice.formData.NameTitle + ' ' +\n                                this.customerservice.formData.FirstName + ' ' +\n                                this.customerservice.formData.LastName +\n                                ' is added Successfully!');\n                            this.customerservice.formData = res;\n                            this.isDone = false;\n                            this.refreshcustomerlist();\n                            this.IsCustomerCreate = true;\n                              }\n                         if (response.Message === 'failure') {\n                            this.toastr.warning('warning', response.MessageDescription);\n                            this.isDone = false;\n                          }\n    }, error => console.log(error));\n  }\nonkeypress(value: string) {\n  this.LocalList = this.customerservice.CustomerLocalList.filter(item =>\n    item.CompanyName.toLowerCase().match(value.toLowerCase()) ||\n    item.FirstName.toLowerCase().match(value.toLowerCase()) ||\n    item.LastName.toLowerCase().match(value.toLowerCase()));\n}\n}\n","<div class=\"modal-header select-new-properties\">\n    <h5 class=\"modal-title\" id=\"exampleModalLabel\">Select or create a Client</h5>\n    <button class=\"btn btn-default pull-right\" mat-dialog-close>x</button>\n</div>\n<div class=\"modal-body property-modal-body\" *ngIf=\"IsCustomerCreate\">\n    <p>Which Company would you like to create this quotation for?</p>\n    <div class=\"row forn-group\">\n        <div class=\"col-md-7\">\n            <input type=\"text\" (keydown)=\"onkeypress($event.target.value)\" (keyup)=\"onkeypress($event.target.value)\"\n                class=\"form-control\" placeholder=\"Search Clients...\">\n        </div>\n        <div class=\"col-md-1 text-center\" *ngIf=\"currentUser.Permissions.CustomerCreate\">\n            or\n        </div>\n        <div class=\"col-md-4 text-right\">\n            <a on class=\"btn btn-brand text-white \" (click)=\"redirect()\" *ngIf=\"currentUser.Permissions.CustomerCreate\">\n                <i class=\"la la-plus\"></i> Create new client </a>\n        </div>\n    </div>\n    <div class=\"kt-portlet__body new_clients_properties_body\">\n        <div class=\"kt-widget4 kt-scroll ps\" data-scroll=\"true\" data-height=\"220\"\n            style=\"height: 220px; overflow: hidden;\" id=\"style-3\">\n            <div *ngFor=\"let x of LocalList\" class=\"kt-widget4__item create-quote-client-item\" (click)=\"onClick(x)\">\n                <div class=\"kt-widget4__pic kt-widget4__pic--logo\">\n                    <img *ngIf=\"x.CustomerLogo === null\" width=\"30px\" src=\"{{localPrependUrl}}/assets/svg/noimage.svg\"\n                        alt=\"{{ x.CompanyName }}\" title=\"{{ x.CompanyName }}\" />\n                    <img *ngIf=\"x.CustomerLogo!==null\" width=\"30px\" src=\"{{ x.CustomerLogo }}\"\n                        alt=\"{{ x.CompanyName }}\" title=\"{{ x.CompanyName }}\">\n                </div>\n                <div class=\"kt-widget4__info\" *ngIf=\"!x.UseCompanyNameAsPrimaryName\">\n                    <a class=\"kt-widget4__title\" href=\"javascript:;\">\n                        {{ x.NameTitle }} {{ x.FirstName }} {{ x.LastName }}\n                    </a>\n                    <i class=\"\">\n                        {{ x.CompanyName }}\n                    </i>\n                </div>\n                <div class=\"kt-widget4__info\" *ngIf=\"x.UseCompanyNameAsPrimaryName\">\n                    <a class=\"kt-widget4__title\" href=\"javascript:;\">\n                        {{ x.CompanyName }}\n                    </a>\n                    <i class=\"\">\n                        {{ x.NameTitle }} {{ x.FirstName }} {{ x.LastName }}\n                    </i>\n                </div>\n                <span class=\"kt-widget4__number kt-font-brand\"> {{ x.Properties.length }} Properties</span>\n            </div>\n        </div>\n    </div>\n</div>\n<div class=\"modal-body property-modal-body\" *ngIf=\"!IsCustomerCreate\">\n    <p>Create New Customer</p>\n    <div class=\"row\">\n        <div class=\"col-xl-2\">\n            <div class=\"form-group\">\n                <label for=\"\" class=\"label whole-text-required\">Title<span class=\"text-danger\">*</span></label>\n                <select class=\"form-control\" name=\"NameTitle\" #NameTitle=\"ngModel\" [class.is-invalid]=\"!isValidTitle\"\n                    [(ngModel)]=\"customerservice.formData.NameTitle\">\n                    <option value=\"\">Title</option>\n                    <option value=\"Mrs.\">Mrs.</option>\n                    <option value=\"Mr.\">Mr.</option>\n                    <option value=\"Ms.\">Ms.</option>\n                    <option value=\"Mss.\">Mss.</option>\n                    <option value=\"Dr.\">Dr.</option>\n                </select>\n            </div>\n        </div>\n        <div class=\"col-xl-5\">\n            <div class=\"form-group\">\n                <label for=\"\" class=\"label whole-text-required\">First Name<span class=\"text-danger\">*</span></label>\n                <input name=\"FirstName\" #FirstName=\"ngModel\" [(ngModel)]=\"customerservice.formData.FirstName\"\n                    class=\"form-control\" placeholder=\"First Name\" [class.is-invalid]=\"!isValidFirstname\" min=\"0\"\n                    maxlength=\"64\">\n            </div>\n        </div>\n        <div class=\"col-xl-5\">\n            <div class=\"form-group\">\n                <label for=\"\" class=\"label\">Last Name <span class=\"text-danger\">*</span></label>\n                <input name=\"LastName\" #LastName=\"ngModel\" [(ngModel)]=\"customerservice.formData.LastName\"\n                    class=\"form-control\" placeholder=\"Last Name\" [class.is-invalid]=\"!isValidLastname\" maxlength=\"64\">\n            </div>\n        </div>\n        <div class=\"col-lg-12\">\n            <label for=\"\" class=\"label\">Company Name <span class=\"text-danger\">*</span></label>\n            <input name=\"CompanyName\" #CompanyName=\"ngModel\" [(ngModel)]=\"customerservice.formData.CompanyName\"\n                class=\"form-control\" placeholder=\"Company Name\" maxlength=\"128\"\n                [class.is-invalid]=\"!isValidCompanyname\">\n        </div>\n        <!-- <div class=\"col-lg-12\"><hr>\n            <span class=\"kt-switch kt-switch--sm kt-switch--brand\"><label><input\n                        name=\"customerservice.formData.UseCompanyNameAsPrimaryName\"\n                        #UseCompanyNameAsPrimaryName=\"ngModel\"\n                        [(ngModel)]=\"customerservice.formData.UseCompanyNameAsPrimaryName\" type=\"checkbox\"><span></span>\n                    <strong>\n                        Use company name as the primary name\n                    </strong></label></span>\n        </div> -->\n        <div class=\"col-lg-12\"><hr>\n            <span class=\"kt-switch kt-switch--icon kt-switch--brand\"><label><input\n                  name=\"customerservice.formData.UseCompanyNameAsPrimaryName\"\n                  #UseCompanyNameAsPrimaryName=\"ngModel\"\n                  [(ngModel)]=\"customerservice.formData.UseCompanyNameAsPrimaryName\"\n                  type=\"checkbox\"><span></span></label></span>\n            <span class=\"swither-bootstrap-learn switcher-customer\">\n              <strong class=\"ch-margin-top\">\n                Use company name as the primary name\n              </strong>\n            </span>                                 \n          </div>\n    </div>\n    <div class=\"row\">\n        <div class=\"col-xl-6\">\n            <div class=\"form-group\">\n                <label for=\"\" class=\"label\">Email Address<span class=\"text-danger\">*</span></label>\n                <input name=\"AddressStreet1\" #AddressStreet1=\"ngModel\" [class.is-invalid]=\"!isValidEmailAddress\"\n                    [(ngModel)]=\"customerservice.formData.AddressStreet1\" class=\"form-control\" placeholder=\"Email\">\n            </div>\n        </div>\n        <div class=\"col-xl-6\">\n            <div class=\"form-group\">\n                <label for=\"\" class=\"label\">Phone Number<span class=\"text-danger\">*</span></label>\n                <input name=\"AddressStreet2\" #AddressStreet2=\"ngModel\" [class.is-invalid]=\"!isValidPhoneNumber\"\n                    [(ngModel)]=\"customerservice.formData.AddressStreet2\" class=\"form-control\"\n                    placeholder=\"Phone Number\">\n            </div>\n        </div>\n    </div>\n    <div class=\"row\">\n        <div class=\"col-xl-12\">\n            <button type=\"button\" (click)=\"onBack()\" class=\"btn btn-secondary\"><i class=\"fas fa-angle-double-left\"></i>Back</button>&nbsp;&nbsp;&nbsp;\n            <button type=\"submit\" (click)=\"onSubmit()\" class=\"btn btn-brand\">\n                <div *ngIf=\"!isDone\">Create</div>\n                <div *ngIf=\"isDone\">loading...</div>\n            </button>\n        </div>\n    </div>\n</div>","import { Component, Input, OnInit } from '@angular/core';\r\nimport { environment } from 'src/environments/environment';\r\n@Component({\r\n  selector: 'generic-ticket-icon-attachment',\r\n  template: `\r\n   \t<div class=\"col-md-12\" *ngIf=\"Status === 1\">\r\n        <img title=\"{{Name}}\" style=\"width:100px;\" src=\"{{localPrependUrl}}/assets/svg/{{ext}}.svg\">\r\n    </div>\r\n    <div class=\"col-md-12\" *ngIf=\"Status === 2\">\r\n        <div [ngSwitch]=\"ext\">\r\n              <div *ngSwitchCase=\"'png'\"><img title=\"{{Name}}\" style=\"width:100px;\" src=\"{{Path}}\"></div>\r\n              <div *ngSwitchCase=\"'jpg'\"><img title=\"{{Name}}\" style=\"width:100px;\" src=\"{{Path}}\"></div>\r\n              <div *ngSwitchCase=\"'jpeg'\"><img title=\"{{Name}}\" style=\"width:100px;\" src=\"{{Path}}\"></div>\r\n              <div *ngSwitchDefault><img title=\"{{Name}}\" style=\"width:100px;\" src=\"{{localPrependUrl}}/assets/svg/{{ext}}.svg\"></div>\r\n        </div>\r\n    </div>\r\n  `\r\n})\r\nexport class TicketIconAttachmentComponent implements OnInit {\r\n  @Input() Name: string;\r\n  @Input() Path: string;\r\n  @Input() Status: number;\r\n  localPrependUrl: string;\r\n  ext: string;\r\n  constructor() {\r\n    this.localPrependUrl =  environment.apiUrl;\r\n   }\r\n   ngOnInit() { \r\n         if(this.Name?.length > 0) {\r\n            this.ext = this.Name.toLowerCase().split('.').pop();\r\n            } else { this.ext = 'noimage'; }\r\n    }\r\n}\r\n"]}