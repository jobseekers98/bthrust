<div class="kt-content kt-grid__item kt-grid__item--fluid kt-grid kt-grid--hor" id="kt_content">
    <div class="kt-subheader kt-grid__item" id="kt_subheader">
        <div class="kt-container kt-container--fluid ">
            <div class="kt-subheader__main">
                <h3 class="kt-subheader__title">
                    <a href="javascript:;" routerLink="/dashboard">
                        Dashboard
                    </a>
                </h3>
                <span class="kt-subheader__separator kt-hidden"></span>
                <div class="kt-subheader__breadcrumbs">
                  <i class="fa fa-angle-double-right" aria-hidden="true"></i>
                  <span class="kt-subheader__breadcrumbs-separator"></span> 
                  Leave Management
                </div>
            </div>
            <div class="kt-subheader__toolbar">
                <div class="kt-subheader__wrapper">
                    <a href="javascript:;" class="btn btn-brand" (click)="onLeaveCalendar()"><i
                            class="fa fa-plus"></i> Apply for Leave</a>
                </div>
               
            </div>
        </div>
    </div>
    <div class="customer-listing-detail-section">
        <div class="col-md-12">
            <div class="kt-portlet kt-portlet--height-fluid kt-widget19">
                <div class="col-xl-12 col-lg-12 no-spacing">
                    <div class="kt-portlet kt-portlet--tabs kt-portlet--height-fluid">
                        <div class="col-md-12">
                            <div class="kt-widget12">
                                <div class="">
                                    <div class="kt-section__content">
                                        <div #wizard class="kt-grid kt-wizard-v2 kt-wizard-v2--white" id="kt_wizard_v2"
                                            data-ktwizard-state="step-first">
                                            <div class="kt-grid__item kt-grid__item--fluid kt-wizard-v2__wrapper">
                                                <div class="kt-portlet kt-portlet--mobile">
                                                    <div
                                                        class="kt-portlet__head kt-portlet__head--lg contact_detail_table_info">
                                                        <div class="row">
                                                            <div class="col-md-6">
                                                                <div class="kt-portlet__head-label">

                                                                    <h3 class="kt-portlet__head-title">
                                                                        Apply Leave
                                                                    </h3>
                                                                </div>
                                                            </div>
                                                            <div class="col-md-6 top-add-sec">
                                                               
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="row">
                                                        <div class="col-md-5">
                                                            <div class="form-group">
                                                                <h3 class="kt-portlet__head-title">
                                                                    View Leave filter
                                                                </h3>
                                                                <select name="LeaveSelectOption"
                                                                    class="leavesection"
                                                                    [(ngModel)]="LeaveSelectOption"
                                                                    (change)="LeaveCalendarSelectChange()">
                                                                    <option value="2020">2020
                                                                    </option>
                                                                    <option value="2021">2021
                                                                    </option>
                                                                    <option value="2022">2022
                                                                    </option>
                                                                    <option value="2023">2023
                                                                    </option>
                                                                    <option value="2024">2024
                                                                    </option>
                                                                    <option value="2025">2025
                                                                    </option>
                                                                    <option value="2026">2026
                                                                    </option>
                                                                    <option value="2027">2027
                                                                    </option>
                                                                    <option value="2028">2028
                                                                    </option>
                                                                    <option value="2029">2029
                                                                    </option>
                                                                </select>
                                                                <select name="LeaveSelectOptionMonth"
                                                                    class="leavesection"
                                                                    [(ngModel)]="LeaveSelectOptionMonth"
                                                                    (change)="LeaveCalendarSelectChange()">
                                                                    <option value="0">All Month
                                                                    </option>
                                                                    <option value="1">January
                                                                    </option>
                                                                    <option value="2">February
                                                                    </option>
                                                                    <option value="3">March
                                                                    </option>
                                                                    <option value="4">April
                                                                    </option>
                                                                    <option value="5">May
                                                                    </option>
                                                                    <option value="6">June
                                                                    </option>
                                                                    <option value="7">July
                                                                    </option>
                                                                    <option value="8">August
                                                                    </option>
                                                                    <option value="9">September
                                                                    </option>
                                                                    <option value="10">October
                                                                    </option>
                                                                    <option value="11">November
                                                                    </option>
                                                                    <option value="12">December
                                                                    </option>
                                                                </select>
                                                            
                                                            </div>
                                                        </div>
                                                        <div class="col-md-7">
                                                            <div class="date-view">
                                                                {{showdata}}
                                                            </div>
                                                        </div>                                                                          
                                                    </div>
                                                    <div class="kt-portlet__body properties_filter_body">
                                                        <div class="company-setting">
                                                            <ul class="nav nav-tabs custUl">
                                                                <li class="custLi"><a data-toggle="tab"
                                                                        href="#menu12" class="custTab active">List
                                                                        View</a></li>
                                                                <li class="custLi"><a data-toggle="tab"
                                                                        href="#menu13"
                                                                        class="custTab">Calendar View</a>
                                                                </li>
                                                            </ul>
                                                         
                                                            <div class="tab-content">                                                                
                                                                <div id="menu12" class="tab-pane fade in active">
                                                                    <div class="menu2-head">
                                                                       
                                                                        <div class="hours-table">
                                                                            <table
                                                                                class="table table-striped- table-bordered table-hover table-checkable">
                                                                                <thead>
                                                                                    <tr>
                                                                                        <th style="width: 10px;">#
                                                                                        </th>
                                                                                        <th tyle="width: 200px;">Date</th>
                                                                                        <th>Type</th>
                                                                                        <th>Description</th>
                                                                                        <th>Status</th>
                                                                                        <th></th>
                                                                                    </tr>
                                                                                </thead>
                                                                                <tbody>
                                                                                    <tr
                                                                                        *ngFor="let x of genicprofileservice.GenicProfileCalendarList; let i = index">
                                                                                        <ng-container
                                                                                            *ngIf="x.Id !== 0">
                                                                                            <td>{{i + 1}}</td>
                                                                                            <td
                                                                                                style="width: 200px;">
                                                                                                <span
                                                                                                    class="kt-badge kt-badge--success kt-badge--inline kt-badge--pill"
                                                                                                    *ngIf="x.WorkType.toLowerCase() === 'full day'">
                                                                                                    {{ x.Date | date:'EEEE, MMMM d, y' }}
                                                                                                </span>
                                                                                                <span
                                                                                                    class="kt-badge kt-badge--success kt-badge--inline kt-badge--pill"
                                                                                                    *ngIf="x.WorkType.toLowerCase() === 'half day'">
                                                                                                    {{ x.Date | date:'EEEE, MMMM d, y' }}
                                                                                                </span>
                                                                                                <span
                                                                                                    class="kt-badge kt-badge--warning kt-badge--inline kt-badge--pill"
                                                                                                    *ngIf="x.WorkType.toLowerCase() === 'half day'">
                                                                                                    {{ x.StartTime.split(':')[0] + ':' + x.StartTime.split(':')[1] }}-{{ x.EndTime.split(':')[0] + ':' + x.EndTime.split(':')[1] }}
                                                                                                </span>
                                                                                            </td>
                                                                                            <td
                                                                                                style="width: 90px;">
                                                                                                <span
                                                                                                    class="kt-badge kt-badge--success kt-badge--inline kt-badge--pill"
                                                                                                    *ngIf="x.WorkType.toLowerCase() === 'full day'">{{x.WorkType}}</span>
                                                                                                <span
                                                                                                    class="kt-badge kt-badge--warning kt-badge--inline kt-badge--pill"
                                                                                                    *ngIf="x.WorkType.toLowerCase() === 'half day'">{{x.WorkType}}</span>
                                                                                            </td>
                                                                                            <td> {{ x.Description }}
                                                                                            </td>
                                                                                            <td style="width: 100px;">
                                                                                                <span *ngIf="x.Status === 'Approved'" class="ticketstatus quotestatusaccepeted">Approved</span>
                                                                                                <span *ngIf="x.Status === 'Rejected'" class="ticketstatus quotestatusrejected">Rejected</span>
                                                                                                <span *ngIf="x.Status === 'Pending'" class="ticketstatus quotestatuspending">Pending</span>
                                                                                                <span *ngIf="x.Status === 'Cancelled'" class="ticketstatus quotestatuscancelled">Cancelled</span>
                                                                                            </td>
                                                                                            <td style="width: 100px;" >
                                                                                                <div
                                                                                                    class="btn-group btn-group-sm">
                                                                                                    <a href="javascript:;"
                                                                                                        style="border: #1dc9b7;"
                                                                                                        class="btn btn-primary dropdown-toggle"
                                                                                                        data-toggle="dropdown">Action<span
                                                                                                            class="caret"></span></a>

                                                                                                    <ul class="dropdown-menu">
                                                                                                        <li *ngIf="x.Status === 'Pending'"><a (click)="removeLeaveCalendar(x.Id)"
                                                                                                                href="javascript:;">Delete Leave Request</a>
                                                                                                        </li>
                                                                                                        <li *ngIf="x.Status === 'Approved'"><a (click)="cancelledLeaveCalendar(x.Id)"
                                                                                                            href="javascript:;">Cancel Approved Leave</a>
                                                                                                    </li>
                                                                                                    </ul>
                                                                                                </div>
                                                                                            </td>
                                                                                        </ng-container>
                                                                                    </tr>
                                                                                </tbody>
                                                                            </table>
                                                                        </div>
                                                                    </div>

                                                                </div>
                                                                <div id="menu13" class="tab-pane fade">
                                                                    <div class="row">
                                                                        <ng-template #customCellTemplate
                                                                            let-day="day" let-locale="locale">
                                                                            <div class="cal-cell-top">
                                                                                <span class="cal-day-number">{{ day.date | calendarDate:'monthViewDayNumber':locale }}</span>
                                                                            </div>
                                                                            <span
                                                                                class="calendar-ticket-priority-visit"
                                                                                *ngIf="day.badgeTotal > 1">{{ day.badgeTotal }}
                                                                                events</span>
                                                                            <small *ngFor="let x of day.events"
                                                                            [ngClass]="{
                                                                                'calendar-ticket-priority-low': x.meta.LeaveFor === 0,
                                                                                'calendar-ticket-priority-medium': x.meta.LeaveFor === 1,
                                                                                'calendar-ticket-priority-high': x.meta.LeaveFor === 2}" 
                                                                                class="calendar-ticket-priority-low">
                                                                                <div class="row">
                                                                                    <div
                                                                                        class="col-sm-12 col-md-12">
                                                                                        <b>{{x.title}}</b>
                                                                                    </div>
                                                                                </div>
                                                                            </small>
                                                                        </ng-template>
                                                                        <div class="col-md-12">
                                                                            <mwl-calendar-month-view                                                                                   
                                                                                    [viewDate]="viewDate"
                                                                                    [events]="events"
                                                                                    [refresh]="refresh"
                                                                                    [cellTemplate]="customCellTemplate">
                                                                                </mwl-calendar-month-view>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
