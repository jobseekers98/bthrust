<div class="kt-content kt-grid__item kt-grid__item--fluid kt-grid kt-grid--hor" id="kt_content">
  <div class="kt-subheader kt-grid__item" id="kt_subheader">
    <div class="kt-container kt-container--fluid breadcud-kt-container ">
      <div class="kt-subheader__main">
        <h3 class="kt-subheader__title">
          <a href="javascript:;" routerLink="/dashboard">
            Dashboard
          </a>
        </h3>
        <span class="kt-subheader__separator kt-hidden"></span>
        <div class="kt-subheader__breadcrumbs">
          <i class="fa fa-angle-double-right" aria-hidden="true"></i>
          <span class="kt-subheader__breadcrumbs-separator"></span>
          Users
        </div>
      </div>
      <div class="kt-subheader__toolbar">
        <div class="kt-subheader__wrapper">
        </div>
      </div>
    </div>
  </div>
  <div class="customer-list-main-section">
    <div class="kt-widget17">
      <div class="kt-widget17__visual kt-widget17__visual--chart kt-portlet-fit--top kt-portlet-fit--sides"
        style="background-color: #fd397a">
      </div>
      <div class="kt-widget17__stats">
        <div class="row mrg-top-10">
          <div class="col-lg-4">
            <div class="kt-portlet kt-iconbox kt-iconbox--brand kt-iconbox--animate-slower">
              <div class="kt-portlet__body">
                <div class="kt-iconbox__body">
                  <div class="kt-iconbox__icon">
                    <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" class="kt-svg-icon"><g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><polygon id="Shape" points="0 0 24 0 24 24 0 24"></polygon><path d="M18,14 C16.3431458,14 15,12.6568542 15,11 C15,9.34314575 16.3431458,8 18,8 C19.6568542,8 21,9.34314575 21,11 C21,12.6568542 19.6568542,14 18,14 Z M9,11 C6.790861,11 5,9.209139 5,7 C5,4.790861 6.790861,3 9,3 C11.209139,3 13,4.790861 13,7 C13,9.209139 11.209139,11 9,11 Z" id="Combined-Shape" fill="#000000" fill-rule="nonzero" opacity="0.3"></path><path d="M17.6011961,15.0006174 C21.0077043,15.0378534 23.7891749,16.7601418 23.9984937,20.4 C24.0069246,20.5466056 23.9984937,21 23.4559499,21 L19.6,21 C19.6,18.7490654 18.8562935,16.6718327 17.6011961,15.0006174 Z M0.00065168429,20.1992055 C0.388258525,15.4265159 4.26191235,13 8.98334134,13 C13.7712164,13 17.7048837,15.2931929 17.9979143,20.2 C18.0095879,20.3954741 17.9979143,21 17.2466999,21 C13.541124,21 8.03472472,21 0.727502227,21 C0.476712155,21 -0.0204617505,20.45918 0.00065168429,20.1992055 Z" id="Combined-Shape" fill="#000000" fill-rule="nonzero"></path></g></svg>
                  </div>
                  <div class="kt-iconbox__desc">
                    <h3 class="kt-iconbox__title">
                      <a class="kt-link" href="javascript:;">Total Users</a>
                    </h3>
                    <div class="kt-iconbox__content">
                      {{totalUser}} Users
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="col-lg-4">
            <div class="kt-portlet kt-iconbox kt-iconbox--success kt-iconbox--animate-slow">
              <div class="kt-portlet__body">
                <div class="kt-iconbox__body">
                  <div class="kt-iconbox__icon">
                    <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" class="kt-svg-icon"><g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><polygon id="Shape" points="0 0 24 0 24 24 0 24"></polygon><path d="M18,14 C16.3431458,14 15,12.6568542 15,11 C15,9.34314575 16.3431458,8 18,8 C19.6568542,8 21,9.34314575 21,11 C21,12.6568542 19.6568542,14 18,14 Z M9,11 C6.790861,11 5,9.209139 5,7 C5,4.790861 6.790861,3 9,3 C11.209139,3 13,4.790861 13,7 C13,9.209139 11.209139,11 9,11 Z" id="Combined-Shape" fill="#000000" fill-rule="nonzero" opacity="0.3"></path><path d="M17.6011961,15.0006174 C21.0077043,15.0378534 23.7891749,16.7601418 23.9984937,20.4 C24.0069246,20.5466056 23.9984937,21 23.4559499,21 L19.6,21 C19.6,18.7490654 18.8562935,16.6718327 17.6011961,15.0006174 Z M0.00065168429,20.1992055 C0.388258525,15.4265159 4.26191235,13 8.98334134,13 C13.7712164,13 17.7048837,15.2931929 17.9979143,20.2 C18.0095879,20.3954741 17.9979143,21 17.2466999,21 C13.541124,21 8.03472472,21 0.727502227,21 C0.476712155,21 -0.0204617505,20.45918 0.00065168429,20.1992055 Z" id="Combined-Shape" fill="#000000" fill-rule="nonzero"></path></g></svg>
                  </div>
                  <div class="kt-iconbox__desc">
                    <h3 class="kt-iconbox__title">
                      <a class="kt-link" href="javascript:;">Active Users</a>
                    </h3>
                    <div class="kt-iconbox__content">
                      {{activeUsers}} Users
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="col-lg-4">
            <div class="kt-portlet kt-iconbox kt-iconbox--warning kt-iconbox--animate-fast">
              <div class="kt-portlet__body">
                <div class="kt-iconbox__body">
                  <div class="kt-iconbox__icon">
                    <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" class="kt-svg-icon"><g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><polygon id="Shape" points="0 0 24 0 24 24 0 24"></polygon><path d="M18,14 C16.3431458,14 15,12.6568542 15,11 C15,9.34314575 16.3431458,8 18,8 C19.6568542,8 21,9.34314575 21,11 C21,12.6568542 19.6568542,14 18,14 Z M9,11 C6.790861,11 5,9.209139 5,7 C5,4.790861 6.790861,3 9,3 C11.209139,3 13,4.790861 13,7 C13,9.209139 11.209139,11 9,11 Z" id="Combined-Shape" fill="#000000" fill-rule="nonzero" opacity="0.3"></path><path d="M17.6011961,15.0006174 C21.0077043,15.0378534 23.7891749,16.7601418 23.9984937,20.4 C24.0069246,20.5466056 23.9984937,21 23.4559499,21 L19.6,21 C19.6,18.7490654 18.8562935,16.6718327 17.6011961,15.0006174 Z M0.00065168429,20.1992055 C0.388258525,15.4265159 4.26191235,13 8.98334134,13 C13.7712164,13 17.7048837,15.2931929 17.9979143,20.2 C18.0095879,20.3954741 17.9979143,21 17.2466999,21 C13.541124,21 8.03472472,21 0.727502227,21 C0.476712155,21 -0.0204617505,20.45918 0.00065168429,20.1992055 Z" id="Combined-Shape" fill="#000000" fill-rule="nonzero"></path></g></svg>
                  </div>
                  <div class="kt-iconbox__desc">
                    <h3 class="kt-iconbox__title">
                      <a class="kt-link" href="javascript:;">InActive Users</a>
                    </h3>
                    <div class="kt-iconbox__content">
                      {{inActiveUsers}} Users
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="kt-section kt-drop-section">
          <div class="kt-portlet__body customer-listing-datatable">
              <div class="panel panel-primary list-panel" id="list-panel">
                  <div class="panel-heading list-panel-heading">
                      <h1 class="panel-title list-panel-title"><i class="fa fa-list"></i> User List</h1>
                      <ul class="scFilter">
                        <li *ngIf="this.currentUser.Permissions.UserCreate" ><a href="javascript:void(0);" (click)="AddUser()" class="btnexportToExcel"> <i class="fa fa-plus"></i> New User</a></li>
                        <li>
                            <div class="btnexport1">
                                <a href="javascript:void(0)" (click)="exportAsXLSX()"
                                    class="btnexportToExcel">Export to Excel</a>
                            </div>
                        </li>
                    </ul>
                  </div>
                  <div class="panel-body">
                    <table datatable [dtOptions]="dtOptions" [dtTrigger]="dtTrigger"
                    class="table table-striped- table-bordered table-checkable dataTable no-footer dtr-inline">
                    <thead>
                      <tr>
                        <th>#<br></th>
                        <th>Username<br></th>
                        <th>Full Name</th>
                        <th>Email</th>
                        <th>Mobile#</th>
                        <th>Type</th>
                        <th>Last Login</th>
                        <th>Status</th>
                        <th>Actions</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr *ngFor="let u of data;let i=index">
                        <td>{{i+1}}</td>
                        <td>{{u.UserName}}</td>
                        <td>{{u.FullName}}</td>
                        <td>{{u.Email}}</td>
                        <td>{{u.MobileNumber}}</td>
                        <td>{{u.Type}}</td>
                        <td>{{u?.LastLoginUtcDate | date:'MMMM d, y, h:mm:ss a':'+0000'}}</td>
                        <td>
                          <div *ngIf="u.Type === 'SubAdmin'" class="custom-switch custom-switch-label-yesno pl-0" title="if status is NO user can't login">
                            <input class="custom-switch-input ng-valid ng-dirty ng-touched"
                              (change)="onUserStatusChange(u.Id)" id="example_pm{{i}}" name="u.IsActive"
                              #u.IsActive="ngModel" [(ngModel)]="u.IsActive" type="checkbox">
                            <label class="custom-switch-btn" for="example_pm{{i}}"></label>
                          </div>
                          <div *ngIf="u.Type === 'Engineer'">
                            <div *ngIf="u.IsActive" style="color:rgb(58, 141, 58);" >Active</div>
                            <div *ngIf="!u.IsActive" style="color:rgb(187, 73, 28);" >InActive</div>
                          </div>
                        </td>
                        <td>
                          <span class="dropdown">
                            <a href="javascript:void(0)" (click)="openUserPermission(u)"
                              title="Edit Permissions" class="btn btn-sm btn-clean btn-icon btn-icon-md">
                              <i class="la la-edit"></i>
                            </a>
                          </span>
                        </td>
                      </tr>
                    </tbody>
                  </table>
                  </div>
              </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>