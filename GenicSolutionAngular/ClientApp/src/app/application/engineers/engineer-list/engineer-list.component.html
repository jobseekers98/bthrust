<div class="kt-content kt-grid__item kt-grid__item--fluid kt-grid kt-grid--hor" id="kt_content">
    <div class="kt-subheader kt-grid__item" id="kt_subheader">
        <div class="kt-container kt-container--fluid ">
            <div class="kt-subheader__main">
                <h3 class="kt-subheader__title">
                    <a href="javascript:;" routerLink="/dashboard">
                        Dashboard
                    </a>
                </h3>
                <span class="kt-subheader__separator kt-hidden"></span>
                <div class="kt-subheader__breadcrumbs">
                    <i class="fa fa-angle-double-right" aria-hidden="true"></i>
                    <span class="kt-subheader__breadcrumbs-separator"></span>
                    {{this.currentUser.Engineer}}s
                </div>
            </div>
            <div class="kt-subheader__toolbar">
                <div class="kt-subheader__wrapper" *ngIf="currentUser.Permissions.EngineerCreate">
                    <a href="javascript:;" class="btn btn-brand" style="background-color:#ff8533;border-color: #ff8533;"
                        (click)="OpenAddEngineerDialog()"><i class="fa fa-plus"></i> Add Engnineer</a>
                </div>
            </div>
        </div>
    </div>
    <div class="customer-list-main-section">
        <div class="kt-widget17">
            <div class="kt-widget17__stats">
                <div class="row mrg-top-10">
                    <div class="col-lg-4">
                        <div class="kt-portlet kt-iconbox kt-iconbox--brand kt-iconbox--animate-slower">
                            <div class="kt-portlet__body">
                                <div class="kt-iconbox__body">
                                    <div class="kt-iconbox__icon">
                                        <svg xmlns="http://www.w3.org/2000/svg"
                                            xmlns:xlink="http://www.w3.org/1999/xlink" width="24px" height="24px"
                                            viewBox="0 0 24 24" version="1.1" class="kt-svg-icon">
                                            <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                                                <polygon id="Shape" points="0 0 24 0 24 24 0 24" />
                                                <path
                                                    d="M18,14 C16.3431458,14 15,12.6568542 15,11 C15,9.34314575 16.3431458,8 18,8 C19.6568542,8 21,9.34314575 21,11 C21,12.6568542 19.6568542,14 18,14 Z M9,11 C6.790861,11 5,9.209139 5,7 C5,4.790861 6.790861,3 9,3 C11.209139,3 13,4.790861 13,7 C13,9.209139 11.209139,11 9,11 Z"
                                                    id="Combined-Shape" fill="#000000" fill-rule="nonzero"
                                                    opacity="0.3" />
                                                <path
                                                    d="M17.6011961,15.0006174 C21.0077043,15.0378534 23.7891749,16.7601418 23.9984937,20.4 C24.0069246,20.5466056 23.9984937,21 23.4559499,21 L19.6,21 C19.6,18.7490654 18.8562935,16.6718327 17.6011961,15.0006174 Z M0.00065168429,20.1992055 C0.388258525,15.4265159 4.26191235,13 8.98334134,13 C13.7712164,13 17.7048837,15.2931929 17.9979143,20.2 C18.0095879,20.3954741 17.9979143,21 17.2466999,21 C13.541124,21 8.03472472,21 0.727502227,21 C0.476712155,21 -0.0204617505,20.45918 0.00065168429,20.1992055 Z"
                                                    id="Combined-Shape" fill="#000000" fill-rule="nonzero" />
                                            </g>
                                        </svg>
                                    </div>
                                    <div class="kt-iconbox__desc">
                                        <h3 class="kt-iconbox__title">
                                            <a class="kt-link">Total {{this.currentUser.Engineer}}s</a>
                                        </h3>
                                        <div class="kt-iconbox__content">
                                            {{ TotalEngineerCount }} Total {{this.currentUser.Engineer}}s
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-4">
                        <div class="kt-portlet kt-iconbox kt-iconbox--success kt-iconbox--animate-slow">
                            <div class="kt-portlet__body">
                                <div class="kt-iconbox__body">
                                    <div class="kt-iconbox__icon">
                                        <svg xmlns="http://www.w3.org/2000/svg"
                                            xmlns:xlink="http://www.w3.org/1999/xlink" width="24px" height="24px"
                                            viewBox="0 0 24 24" version="1.1" class="kt-svg-icon">
                                            <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                                                <polygon id="Shape" points="0 0 24 0 24 24 0 24" />
                                                <path
                                                    d="M18,14 C16.3431458,14 15,12.6568542 15,11 C15,9.34314575 16.3431458,8 18,8 C19.6568542,8 21,9.34314575 21,11 C21,12.6568542 19.6568542,14 18,14 Z M9,11 C6.790861,11 5,9.209139 5,7 C5,4.790861 6.790861,3 9,3 C11.209139,3 13,4.790861 13,7 C13,9.209139 11.209139,11 9,11 Z"
                                                    id="Combined-Shape" fill="#000000" fill-rule="nonzero"
                                                    opacity="0.3" />
                                                <path
                                                    d="M17.6011961,15.0006174 C21.0077043,15.0378534 23.7891749,16.7601418 23.9984937,20.4 C24.0069246,20.5466056 23.9984937,21 23.4559499,21 L19.6,21 C19.6,18.7490654 18.8562935,16.6718327 17.6011961,15.0006174 Z M0.00065168429,20.1992055 C0.388258525,15.4265159 4.26191235,13 8.98334134,13 C13.7712164,13 17.7048837,15.2931929 17.9979143,20.2 C18.0095879,20.3954741 17.9979143,21 17.2466999,21 C13.541124,21 8.03472472,21 0.727502227,21 C0.476712155,21 -0.0204617505,20.45918 0.00065168429,20.1992055 Z"
                                                    id="Combined-Shape" fill="#000000" fill-rule="nonzero" />
                                            </g>
                                        </svg>
                                    </div>
                                    <div class="kt-iconbox__desc">
                                        <h3 class="kt-iconbox__title">
                                            <a class="kt-link">Working {{this.currentUser.Engineer}}s</a>
                                        </h3>
                                        <div class="kt-iconbox__content">
                                            {{ WorkingEngineerCount }} Working {{this.currentUser.Engineer}}s
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-4">
                        <div class="kt-portlet kt-iconbox kt-iconbox--warning kt-iconbox--animate-fast">
                            <div class="kt-portlet__body">
                                <div class="kt-iconbox__body">
                                    <div class="kt-iconbox__icon">
                                        <svg xmlns="http://www.w3.org/2000/svg"
                                            xmlns:xlink="http://www.w3.org/1999/xlink" width="24px" height="24px"
                                            viewBox="0 0 24 24" version="1.1" class="kt-svg-icon">
                                            <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                                                <polygon id="Shape" points="0 0 24 0 24 24 0 24" />
                                                <path
                                                    d="M18,14 C16.3431458,14 15,12.6568542 15,11 C15,9.34314575 16.3431458,8 18,8 C19.6568542,8 21,9.34314575 21,11 C21,12.6568542 19.6568542,14 18,14 Z M9,11 C6.790861,11 5,9.209139 5,7 C5,4.790861 6.790861,3 9,3 C11.209139,3 13,4.790861 13,7 C13,9.209139 11.209139,11 9,11 Z"
                                                    id="Combined-Shape" fill="#000000" fill-rule="nonzero"
                                                    opacity="0.3" />
                                                <path
                                                    d="M17.6011961,15.0006174 C21.0077043,15.0378534 23.7891749,16.7601418 23.9984937,20.4 C24.0069246,20.5466056 23.9984937,21 23.4559499,21 L19.6,21 C19.6,18.7490654 18.8562935,16.6718327 17.6011961,15.0006174 Z M0.00065168429,20.1992055 C0.388258525,15.4265159 4.26191235,13 8.98334134,13 C13.7712164,13 17.7048837,15.2931929 17.9979143,20.2 C18.0095879,20.3954741 17.9979143,21 17.2466999,21 C13.541124,21 8.03472472,21 0.727502227,21 C0.476712155,21 -0.0204617505,20.45918 0.00065168429,20.1992055 Z"
                                                    id="Combined-Shape" fill="#000000" fill-rule="nonzero" />
                                            </g>
                                        </svg>
                                    </div>
                                    <div class="kt-iconbox__desc">
                                        <h3 class="kt-iconbox__title">
                                            <a class="kt-link">Not working {{this.currentUser.Engineer}}s</a>
                                        </h3>
                                        <div class="kt-iconbox__content">
                                            {{ NotworkingEngineerCount }} Not working
                                            {{this.currentUser.Engineer}}s
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="kt-drop-section">
                    <div class="row">
                        <div class="box-1 expo" style="margin: 0 2px 4px 10px;">
                        </div>
                    </div>
                </div>
                <div class="kt-section kt-drop-section">
                    <div class="kt-portlet__body customer-listing-datatable">
                        <div class="panel panel-primary list-panel" id="list-panel">
                            <div class="panel-heading list-panel-heading">
                                <h1 class="panel-title list-panel-title"><i class="fa fa-list"></i>
                                    {{this.currentUser.Engineer}} List</h1>
                                <ul class="scFilter">
                                    <li *ngIf="NotworkingEngineerCount > 0">
                                        <div class="btn-group btn-group-sm">
                                            <a href="javascript:;" class="btn btn-primary dropdown-toggle"
                                                data-toggle="dropdown">{{ dropdownbtnavgrev }} <span
                                                    class="caret"></span></a>
                                            <ul class="dropdown-menu" style="text-align: left;padding: 0;">
                                                <li style="width: 100%;"><a (click)="FilterEngineers(1)"
                                                        href="javascript:;">All
                                                        {{this.currentUser.Engineer}}s</a></li>
                                                <li style="width: 100%;"><a (click)="FilterEngineers(2)"
                                                        href="javascript:;">Working Engineers </a></li>
                                                <li style="width: 100%;"><a (click)="FilterEngineers(3)"
                                                        href="javascript:;">Notworking
                                                        {{this.currentUser.Engineer}}s</a></li>
                                            </ul>
                                        </div>
                                    </li>
                                    <li>
                                        <div class="btnexport1">
                                            <a href="javascript:void(0)" (click)="exportAsXLSX()"
                                                class="btnexportToExcel">Export to Excel</a>
                                        </div>
                                    </li>
                                </ul>
                            </div>
                            <div class="panel-body">
                                <table datatable [dtOptions]="dtOptions" [dtTrigger]="dtTrigger"
                                    class="table table-striped- table-bordered table-hover table-checkable">
                                    <thead>
                                        <tr>
                                            <th width="10%">Image</th>
                                            <th width="10%">{{this.currentUser.Engineer}}&nbsp;Id</th>
                                            <th width="27%">{{this.currentUser.Engineer}} Info</th>
                                            <th width="20%">{{this.currentUser.Ticket}}'s</th>
                                            <th width="5%">Working</th>
                                            <th width="8%">Actions</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr *ngFor="let x of tempEngineerList2;let i=index"
                                            class="customer-list-view-info"
                                            [ngClass]="{'InactiveBackColor': x.Working===false}">
                                            <td>
                                                <img *ngIf="x.EngineerLogo.length === 0" width="60px"
                                                    class="img-thumbnail" title="{{x.EngineerName}}" alt="pic"
                                                    src="{{localPrependUrl}}/assets/svg/noimage.svg" />
                                                <img *ngIf="x.EngineerLogo.length > 0" width="60px"
                                                    class="img-thumbnail" title="{{x.EngineerName}}" alt="pic"
                                                    src="{{ x.EngineerLogo }}">
                                            </td>
                                            <td>
                                                <div class="btn-group">
                                                    <span class="btn btn-label-primary"
                                                        style="width: 110px !important;">
                                                        <a href="javascript:;"
                                                            (click)="detailsengineer(x.Id)">{{x.EngineerId}}</a>
                                                    </span>
                                                    <span [ngClass]="x.IsActive ? 'dot red':'dot yellow'"
                                                        title="{{x.IsActive === true ? 'online':'offline'}}"></span>
                                                </div>
                                            </td>
                                            <td>
                                                <strong>Name :</strong> {{ x.EngineerName }}<br>
                                                <strong>Phone :</strong> {{ x.EngineerPhone }}<br>
                                                <strong>Email :</strong> {{ x.EngineerEmail }}
                                            </td>
                                            <td>
                                                <strong>Open {{this.currentUser.Ticket}} :</strong> {{x.OpenTicket}}<br>
                                                <strong>Closed {{this.currentUser.Ticket}} :</strong> {{x.ClosedTicket}}<br>
                                                <strong>Over Due {{this.currentUser.Ticket}} :</strong> {{x.OverDueTicket}}<br>
                                            </td>
                                            <td>
                                                <div class="custom-switch custom-switch-label-yesno pl-0">
                                                    <input class="custom-switch-input ng-valid ng-dirty ng-touched"
                                                        (change)="onEngineerStatusChange($event,x.Id)"
                                                        id="example_{{i}}" name="x.Working" #x.Working="ngModel"
                                                        [(ngModel)]="x.Working" type="checkbox">
                                                    <label class="custom-switch-btn" for="example_{{i}}"></label>
                                                </div>
                                            </td>
                                            <td class="padd-top-0">
                                                <div class="btn-group btn-group-sm">
                                                    <a href="javascript:;" style="border: #1dc9b7;"
                                                        class="btn btn-primary dropdown-toggle"
                                                        data-toggle="dropdown">Action<span class="caret"></span></a>

                                                    <ul class="dropdown-menu">
                                                        <li *ngIf="currentUser.Permissions.EngineerEdit"><a
                                                                (click)="pupulateengineer(x.Id)"
                                                                href="javascript:;">Edit</a></li>
                                                        <li *ngIf="currentUser.Permissions.EngineerView"><a
                                                                (click)="detailsengineer(x.Id)" href="javascript:;">View
                                                                Details</a></li>
                                                    </ul>
                                                </div>
                                            </td>
                                        </tr>
                                    </tbody>
                                    <tfoot>
                                        <tr>
                                            <th *ngIf="tempEngineerList2.length === 0" colspan="8"
                                                style="text-align: center;">
                                                <p>Record not found ! </p>
                                            </th>
                                        </tr>
                                    </tfoot>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>